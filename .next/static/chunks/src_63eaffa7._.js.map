{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/resizable.tsx"],"sourcesContent":["\"use client\"\n\nimport { DragHandleDots2Icon } from \"@radix-ui/react-icons\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <DragHandleDots2Icon className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,sBAAsB,CAAC,EAC3B,SAAS,EACT,GAAG,OACwD,iBAC3D,6LAAC,wNAAA,CAAA,aAA6B;QAC5B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qEACA;QAED,GAAG,KAAK;;;;;;KATP;AAaN,MAAM,iBAAiB,wNAAA,CAAA,QAAwB;AAE/C,MAAM,kBAAkB,CAAC,EACvB,UAAU,EACV,SAAS,EACT,GAAG,OAGJ,iBACC,6LAAC,wNAAA,CAAA,oBAAoC;QACnC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2oBACA;QAED,GAAG,KAAK;kBAER,4BACC,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,mLAAA,CAAA,sBAAmB;gBAAC,WAAU;;;;;;;;;;;;;;;;MAhBjC","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,mKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,mKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,sKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,sKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qXACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/lib/gmail.ts"],"sourcesContent":["\"use server\";\n\nimport { google } from \"googleapis\";\nimport { auth } from \"@clerk/nextjs/server\";\nimport { getSubscriptionStatus } from \"./stripe-actions\";\nimport { db } from \"@/server/db\";\nimport { FREE_ACCOUNTS_PER_USER, PRO_ACCOUNTS_PER_USER } from \"@/app/constants\";\n\n// Create OAuth2 client\nfunction getOAuth2Client() {\n  console.log(\"Creating OAuth2 client with credentials...\");\n  return new google.auth.OAuth2(\n    process.env.GOOGLE_CLIENT_ID,\n    process.env.GOOGLE_CLIENT_SECRET,\n    `${process.env.NEXT_PUBLIC_URL}/api/auth/callback/gmail`,\n  );\n}\n\n/**\n * Generate the authorization URL for Gmail OAuth\n */\nexport const getGmailAuthUrl = async () => {\n  try {\n    console.log(\"Starting Gmail auth URL generation...\");\n    const { userId } = await auth();\n    if (!userId) {\n      console.error(\"No user ID found in auth\");\n      throw new Error(\"User not found\");\n    }\n    console.log(\"Got user ID:\", userId);\n\n    const user = await db.user.upsert({\n      where: { id: userId },\n      update: {},\n      create: {\n        id: userId,\n        emailAddress: \"temp@example.com\", // This will be updated by the webhook\n        role: \"user\",\n      },\n    });\n    console.log(\"User record created/updated:\", user);\n\n    // Check subscription limits\n    console.log(\"Checking subscription limits...\");\n    const isSubscribed = await getSubscriptionStatus();\n    console.log(\"Subscription status:\", isSubscribed);\n\n    const accounts = await db.account.count({\n      where: { userId },\n    });\n    console.log(\"Current account count:\", accounts);\n    console.log(\n      \"Account limit:\",\n      isSubscribed ? PRO_ACCOUNTS_PER_USER : FREE_ACCOUNTS_PER_USER,\n    );\n\n    // Temporarily disabled account limits\n    /*\n    if (user.role === \"user\") {\n      if (isSubscribed) {\n        if (accounts >= PRO_ACCOUNTS_PER_USER) {\n          console.error(\"User has reached maximum accounts for subscription\", {\n            currentAccounts: accounts,\n            maxAccounts: PRO_ACCOUNTS_PER_USER,\n            isSubscribed: true,\n          });\n          throw new Error(\n            \"You have reached the maximum number of accounts for your subscription\",\n          );\n        }\n      } else {\n        if (accounts >= FREE_ACCOUNTS_PER_USER) {\n          console.error(\"User has reached maximum free accounts\", {\n            currentAccounts: accounts,\n            maxAccounts: FREE_ACCOUNTS_PER_USER,\n            isSubscribed: false,\n          });\n          throw new Error(\n            \"You have reached the maximum number of accounts for your subscription\",\n          );\n        }\n      }\n    }\n    */\n\n    console.log(\"Creating OAuth2 client...\");\n    const oauth2Client = getOAuth2Client();\n    const scopes = [\n      \"https://www.googleapis.com/auth/gmail.readonly\",\n      \"https://www.googleapis.com/auth/gmail.send\",\n      \"https://www.googleapis.com/auth/gmail.compose\",\n      \"https://www.googleapis.com/auth/gmail.modify\",\n      \"https://www.googleapis.com/auth/userinfo.email\",\n      \"https://www.googleapis.com/auth/userinfo.profile\",\n    ];\n    console.log(\"Using scopes:\", scopes);\n\n    console.log(\"Generating auth URL with state:\", userId);\n    const authUrl = oauth2Client.generateAuthUrl({\n      access_type: \"offline\",\n      scope: scopes,\n      prompt: \"consent\",\n      state: userId,\n    });\n    console.log(\"Auth URL generated successfully:\", authUrl);\n\n    return authUrl;\n  } catch (error) {\n    console.error(\"Error in getGmailAuthUrl:\", error);\n    if (error instanceof Error) {\n      console.error(\"Error details:\", {\n        message: error.message,\n        stack: error.stack,\n      });\n    }\n    throw error;\n  }\n};\n\n/**\n * Exchange authorization code for tokens\n */\nexport const getGmailTokens = async (code: string) => {\n  try {\n    console.log(\"Starting token exchange process...\");\n    console.log(\"Creating OAuth2 client for token exchange...\");\n    const oauth2Client = getOAuth2Client();\n\n    console.log(\"Exchanging code for tokens...\");\n    const { tokens } = await oauth2Client.getToken(code);\n\n    console.log(\"Token exchange successful\");\n    if (!tokens.access_token) {\n      console.error(\"No access token received\");\n      throw new Error(\"Failed to get access token\");\n    }\n\n    console.log(\"Tokens received:\", {\n      accessTokenExists: !!tokens.access_token,\n      refreshTokenExists: !!tokens.refresh_token,\n      expiryDate: tokens.expiry_date,\n    });\n\n    return {\n      accessToken: tokens.access_token,\n      refreshToken: tokens.refresh_token,\n      expiryDate: tokens.expiry_date,\n    };\n  } catch (error) {\n    console.error(\"Error in getGmailTokens:\", error);\n    if (error instanceof Error) {\n      console.error(\"Error details:\", {\n        message: error.message,\n        stack: error.stack,\n      });\n    }\n    throw error;\n  }\n};\n\n/**\n * Get Gmail user information\n */\nexport const getGmailUserInfo = async (accessToken: string) => {\n  try {\n    console.log(\"Starting user info fetch process...\");\n    console.log(\"Setting up OAuth2 client with access token...\");\n    const oauth2Client = getOAuth2Client();\n    oauth2Client.setCredentials({ access_token: accessToken });\n\n    console.log(\"Creating People API client...\");\n    const peopleApi = google.people({ version: \"v1\", auth: oauth2Client });\n\n    console.log(\"Fetching user profile...\");\n    const profile = await peopleApi.people.get({\n      resourceName: \"people/me\",\n      personFields: \"emailAddresses,names\",\n    });\n\n    console.log(\"User profile fetched successfully\");\n    const userInfo = {\n      email: profile.data.emailAddresses?.[0]?.value || \"\",\n      name: profile.data.names?.[0]?.displayName || \"\",\n    };\n    console.log(\"User info:\", userInfo);\n\n    return userInfo;\n  } catch (error) {\n    console.error(\"Error in getGmailUserInfo:\", error);\n    if (error instanceof Error) {\n      console.error(\"Error details:\", {\n        message: error.message,\n        stack: error.stack,\n      });\n    }\n    throw error;\n  }\n};\n\n/**\n * Create a Gmail account for syncing emails\n */\nexport async function createGmailAccount(\n  accessToken: string,\n  refreshToken: string | null | undefined,\n) {\n  try {\n    console.log(\"Creating Gmail account with tokens...\");\n    console.log(\"Token info:\", {\n      accessTokenExists: !!accessToken,\n      refreshTokenExists: !!refreshToken,\n    });\n\n    // Implementation for syncing emails and sending\n    const gmailAccount = {\n      accessToken,\n      refreshToken,\n\n      async syncEmails() {\n        console.log(\"Starting email sync process...\");\n        // Implement email syncing logic here\n        return { success: true, count: 0 };\n      },\n\n      async sendEmail(options: { to: string; subject: string; body: string }) {\n        console.log(\"Sending email:\", options);\n        const oauth2Client = getOAuth2Client();\n        oauth2Client.setCredentials({ access_token: accessToken });\n\n        const gmail = google.gmail({ version: \"v1\", auth: oauth2Client });\n\n        // Format the email according to Gmail API requirements\n        const message = [\n          `To: ${options.to}`,\n          `Subject: ${options.subject}`,\n          \"Content-Type: text/html; charset=utf-8\",\n          \"\",\n          options.body,\n        ].join(\"\\n\");\n\n        const encodedMessage = Buffer.from(message)\n          .toString(\"base64\")\n          .replace(/\\+/g, \"-\")\n          .replace(/\\//g, \"_\")\n          .replace(/=+$/, \"\");\n\n        console.log(\"Sending email via Gmail API...\");\n        await gmail.users.messages.send({\n          userId: \"me\",\n          requestBody: {\n            raw: encodedMessage,\n          },\n        });\n\n        console.log(\"Email sent successfully\");\n        return { success: true };\n      },\n    };\n\n    console.log(\"Gmail account created successfully\");\n    return gmailAccount;\n  } catch (error) {\n    console.error(\"Error in createGmailAccount:\", error);\n    if (error instanceof Error) {\n      console.error(\"Error details:\", {\n        message: error.message,\n        stack: error.stack,\n      });\n    }\n    throw error;\n  }\n}\n\n/**\n * Fetch Gmail emails directly from Gmail API\n */\nexport const fetchGmailEmails = async (\n  accessToken: string,\n  maxResults = 20,\n) => {\n  try {\n    console.log(\"Starting Gmail email fetch process...\");\n    console.log(\"Setting up OAuth2 client with access token...\");\n    const oauth2Client = getOAuth2Client();\n    oauth2Client.setCredentials({ access_token: accessToken });\n\n    console.log(\"Creating Gmail API client...\");\n    const gmail = google.gmail({ version: \"v1\", auth: oauth2Client });\n\n    console.log(\"Fetching emails from Gmail API...\");\n    const response = await gmail.users.messages.list({\n      userId: \"me\",\n      maxResults: maxResults,\n      q: \"in:inbox\",\n    });\n\n    console.log(`Retrieved ${response.data.messages?.length || 0} email IDs`);\n\n    if (!response.data.messages || response.data.messages.length === 0) {\n      console.log(\"No emails found\");\n      return [];\n    }\n\n    // Get email details for each message ID\n    console.log(\"Fetching email details...\");\n    const emails = await Promise.all(\n      response.data.messages.map(async (message) => {\n        if (!message.id) return null;\n\n        const emailDetail = await gmail.users.messages.get({\n          userId: \"me\",\n          id: message.id,\n        });\n\n        const headers = emailDetail.data.payload?.headers || [];\n\n        // Extract email headers\n        const subject =\n          headers.find((h) => h.name === \"Subject\")?.value || \"(No subject)\";\n        const from = headers.find((h) => h.name === \"From\")?.value || \"\";\n        const to = headers.find((h) => h.name === \"To\")?.value || \"\";\n        const date = headers.find((h) => h.name === \"Date\")?.value || \"\";\n\n        // Extract email body (text or HTML)\n        let body = \"\";\n        const parts = emailDetail.data.payload?.parts || [];\n\n        if (parts.length > 0) {\n          // Try to find HTML body first\n          const htmlPart = parts.find((p) => p.mimeType === \"text/html\");\n          const textPart = parts.find((p) => p.mimeType === \"text/plain\");\n\n          if (htmlPart && htmlPart.body && htmlPart.body.data) {\n            body = Buffer.from(htmlPart.body.data, \"base64\").toString(\"utf-8\");\n          } else if (textPart && textPart.body && textPart.body.data) {\n            body = Buffer.from(textPart.body.data, \"base64\").toString(\"utf-8\");\n          }\n        } else if (emailDetail.data.payload?.body?.data) {\n          // For single-part messages\n          body = Buffer.from(\n            emailDetail.data.payload.body.data,\n            \"base64\",\n          ).toString(\"utf-8\");\n        }\n\n        // Create a snippet from the body (first 100 chars)\n        const snippet =\n          body.substring(0, 100) + (body.length > 100 ? \"...\" : \"\");\n\n        return {\n          id: message.id,\n          threadId: emailDetail.data.threadId,\n          labelIds: emailDetail.data.labelIds || [],\n          snippet: emailDetail.data.snippet || snippet,\n          subject,\n          from,\n          to,\n          date,\n          body,\n        };\n      }),\n    );\n\n    console.log(`Fetched details for ${emails.filter(Boolean).length} emails`);\n    return emails.filter(Boolean);\n  } catch (error) {\n    console.error(\"Error in fetchGmailEmails:\", error);\n    if (error instanceof Error) {\n      console.error(\"Error details:\", {\n        message: error.message,\n        stack: error.stack,\n      });\n    }\n    throw error;\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;IAqBa;IAqGA;IAyCA;IAuCS;IA0ET","debugId":null}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport {\n  CaretSortIcon,\n  CheckIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n} from \"@radix-ui/react-icons\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <CaretSortIcon className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUpIcon />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDownIcon />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 443, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,mLAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;0CACtB,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 594, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/account-switcher.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { PlusCircle, Mail, LogIn, Trash2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { getGmailAuthUrl } from \"@/lib/gmail\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\n// Default account in case the accounts data is undefined\nconst DEFAULT_ACCOUNTS = [\n  {\n    label: \"Alicia Koch\",\n    email: \"alicia@example.com\",\n    icon: null,\n  },\n];\n\ninterface AccountSwitcherProps {\n  isCollapsed: boolean;\n  accounts: {\n    label: string;\n    email: string;\n    icon: React.ReactNode;\n  }[];\n  selectedAccount?: string;\n  onAccountSelect?: (account: {\n    label: string;\n    email: string;\n    icon: React.ReactNode;\n  }) => void;\n}\n\nexport function AccountSwitcher({\n  isCollapsed,\n  accounts,\n  selectedAccount,\n  onAccountSelect,\n}: AccountSwitcherProps) {\n  const [selectedAccountState, setSelectedAccountState] =\n    React.useState<string>(selectedAccount || accounts[0].email);\n\n  // Dialog state for connecting new accounts\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  return (\n    <>\n      <Select\n        value={selectedAccountState}\n        onValueChange={(value) => {\n          setSelectedAccountState(value);\n          const account = accounts.find((acc) => acc.email === value);\n          if (account) onAccountSelect?.(account);\n        }}\n      >\n        <SelectTrigger\n          className={cn(\n            \"flex items-center gap-2 [&>span]:line-clamp-1 [&>span]:flex [&>span]:w-full [&>span]:items-center [&>span]:gap-1 [&>span]:truncate [&_svg]:h-4 [&_svg]:w-4 [&_svg]:shrink-0\",\n            isCollapsed &&\n              \"flex h-9 w-9 shrink-0 items-center justify-center p-0 [&>span]:w-auto [&>svg]:hidden\",\n          )}\n          aria-label=\"Select account\"\n        >\n          <SelectValue placeholder=\"Select an account\">\n            {\n              accounts.find((account) => account.email === selectedAccountState)\n                ?.icon\n            }\n            <span className={cn(\"ml-2\", isCollapsed && \"hidden\")}>\n              {\n                accounts.find(\n                  (account) => account.email === selectedAccountState,\n                )?.label\n              }\n            </span>\n          </SelectValue>\n        </SelectTrigger>\n        <SelectContent>\n          {accounts.map((account) => (\n            <SelectItem key={account.email} value={account.email}>\n              <div className=\"flex items-center gap-3 [&_svg]:h-4 [&_svg]:w-4 [&_svg]:shrink-0 [&_svg]:text-foreground\">\n                {account.icon}\n                {account.email}\n              </div>\n            </SelectItem>\n          ))}\n          <div className=\"px-2 py-1.5\">\n            <div\n              className=\"flex cursor-pointer items-center rounded-sm px-1 py-1.5 text-sm outline-none hover:bg-accent\"\n              onClick={() => setDialogOpen(true)}\n            >\n              <PlusCircle className=\"mr-2 h-4 w-4\" />\n              <span>Connect another account</span>\n            </div>\n            <div\n              className=\"flex cursor-pointer items-center rounded-sm px-1 py-1.5 text-sm outline-none hover:bg-accent\"\n              onClick={() => (window.location.href = \"/settings/accounts\")}\n            >\n              <Trash2 className=\"mr-2 h-4 w-4\" />\n              <span>Manage accounts</span>\n            </div>\n          </div>\n        </SelectContent>\n      </Select>\n\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n        <DialogContent className=\"sm:max-w-[425px]\">\n          <DialogHeader>\n            <DialogTitle>Connect Email Account</DialogTitle>\n            <DialogDescription>\n              Add a new email account to manage in Lumi.\n            </DialogDescription>\n          </DialogHeader>\n\n          <Tabs defaultValue=\"gmail\" className=\"mt-4 w-full\">\n            <TabsList className=\"grid w-full grid-cols-3\">\n              <TabsTrigger value=\"gmail\">Gmail</TabsTrigger>\n              <TabsTrigger value=\"outlook\">Outlook</TabsTrigger>\n              <TabsTrigger value=\"imap\">IMAP</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"gmail\" className=\"mt-4 space-y-4\">\n              <div className=\"flex flex-col items-center space-y-4\">\n                <Mail className=\"h-12 w-12 text-primary\" />\n                <h3 className=\"text-lg font-medium\">Connect Gmail</h3>\n                <p className=\"text-center text-sm text-muted-foreground\">\n                  Securely connect your Gmail account to Lumi\n                </p>\n                <button\n                  className=\"inline-flex h-10 w-full items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\"\n                  onClick={async () => {\n                    try {\n                      console.log(\"Gmail connect button clicked\");\n                      // Use our direct Gmail API integration\n                      const authUrl = await getGmailAuthUrl();\n                      console.log(\"Got Gmail auth URL:\", authUrl);\n                      window.location.href = authUrl;\n                    } catch (error) {\n                      console.error(\"Error starting Gmail auth:\", error);\n                      if (error instanceof Error) {\n                        alert(error.message);\n                      } else {\n                        alert(\"Failed to start Gmail authentication\");\n                      }\n                    }\n                  }}\n                >\n                  <LogIn className=\"mr-2 h-4 w-4\" />\n                  Connect Gmail Account\n                </button>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"outlook\" className=\"mt-4 space-y-4\">\n              <div className=\"flex flex-col items-center space-y-4\">\n                <Mail className=\"h-12 w-12 text-primary\" />\n                <h3 className=\"text-lg font-medium\">Connect Outlook</h3>\n                <p className=\"text-center text-sm text-muted-foreground\">\n                  Securely connect your Outlook account to Lumi\n                </p>\n                <button\n                  className=\"inline-flex h-10 w-full items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\"\n                  onClick={() => {\n                    // Replace with your actual Outlook OAuth implementation\n                    window.location.href =\n                      \"/api/aurinko/connect?serviceType=Office365\";\n                  }}\n                >\n                  <LogIn className=\"mr-2 h-4 w-4\" />\n                  Connect Outlook Account\n                </button>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"imap\" className=\"mt-4 space-y-4\">\n              <div className=\"flex flex-col space-y-4\">\n                <h3 className=\"text-lg font-medium\">Connect via IMAP</h3>\n                <div className=\"grid gap-4\">\n                  <div className=\"grid grid-cols-4 items-center gap-4\">\n                    <Label htmlFor=\"email\" className=\"text-right\">\n                      Email\n                    </Label>\n                    <Input\n                      id=\"email\"\n                      className=\"col-span-3\"\n                      placeholder=\"your.email@example.com\"\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-4 items-center gap-4\">\n                    <Label htmlFor=\"password\" className=\"text-right\">\n                      Password\n                    </Label>\n                    <Input\n                      id=\"password\"\n                      type=\"password\"\n                      className=\"col-span-3\"\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-4 items-center gap-4\">\n                    <Label htmlFor=\"imap-server\" className=\"text-right\">\n                      IMAP Server\n                    </Label>\n                    <Input\n                      id=\"imap-server\"\n                      className=\"col-span-3\"\n                      placeholder=\"imap.example.com\"\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-4 items-center gap-4\">\n                    <Label htmlFor=\"imap-port\" className=\"text-right\">\n                      Port\n                    </Label>\n                    <Input\n                      id=\"imap-port\"\n                      className=\"col-span-3\"\n                      placeholder=\"993\"\n                    />\n                  </div>\n                </div>\n                <button className=\"mt-4 inline-flex h-10 w-full items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\">\n                  <LogIn className=\"mr-2 h-4 w-4\" />\n                  Connect IMAP Account\n                </button>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,qKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1254, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Loader2 } from \"lucide-react\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n  VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n  isLoading?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, isLoading = false, children, disabled, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        {children}\n      </Comp>\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;AACA;;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAUF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,YAAY,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC/F,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACL,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,2BAAa,6LAAC,oNAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;YAChC;;;;;;;AAGP;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1334, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+XACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,qKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1377, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gQACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1412, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  DotFilledIcon,\n} from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <DotFilledIcon className=\"h-4 w-4 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1638, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeftIcon, ChevronRightIcon } from \"@radix-ui/react-icons\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start: \"day-range-start\",\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground opacity-50  aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ ...props }) => <ChevronLeftIcon className=\"h-4 w-4\" />,\n        IconRight: ({ ...props }) => <ChevronRightIcon className=\"h-4 w-4\" />,\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AACA;AAPA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACL,qNACA,MAAM,IAAI,KAAK,UACX,yKACA;YAEN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,iBAAiB;YACjB,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,GAAG,OAAO,iBAAK,6LAAC,mLAAA,CAAA,kBAAe;oBAAC,WAAU;;;;;;YACvD,WAAW,CAAC,EAAE,GAAG,OAAO,iBAAK,6LAAC,mLAAA,CAAA,mBAAgB;oBAAC,WAAU;;;;;;QAC3D;QACC,GAAG,KAAK;;;;;;AAGf;KAzDS;AA0DT,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1722, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,gBAAgB,sKAAA,CAAA,SAAuB;AAE7C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1772, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/mail-display.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { format } from \"date-fns\";\nimport {\n  Archive,\n  ArchiveX,\n  Clock,\n  Forward,\n  MoreVertical,\n  Reply,\n  ReplyAll,\n  Trash2,\n} from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardFooter,\n  CardHeader,\n} from \"@/components/ui/card\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { type Mail } from \"../data\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { addDays } from \"date-fns/addDays\";\nimport { addHours } from \"date-fns/addHours\";\nimport { nextSaturday } from \"date-fns/nextSaturday\";\n\ninterface MailDisplayProps {\n  mail: Mail | null;\n}\n\nexport function MailDisplay({ mail }: MailDisplayProps) {\n  const today = new Date();\n\n  return (\n    <div className=\"flex h-full flex-col\">\n      <div className=\"flex items-center p-2\">\n        <div className=\"flex items-center gap-2\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Archive className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Archive</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Archive</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <ArchiveX className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Move to junk</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Move to junk</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Trash2 className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Move to trash</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Move to trash</TooltipContent>\n          </Tooltip>\n          <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n          <Tooltip>\n            <Popover>\n              <PopoverTrigger asChild>\n                <TooltipTrigger asChild>\n                  <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                    <Clock className=\"h-4 w-4\" />\n                    <span className=\"sr-only\">Snooze</span>\n                  </Button>\n                </TooltipTrigger>\n              </PopoverTrigger>\n              <PopoverContent className=\"flex w-[535px] p-0\">\n                <div className=\"flex flex-col gap-2 border-r px-2 py-4\">\n                  <div className=\"px-4 text-sm font-medium\">Snooze until</div>\n                  <div className=\"grid min-w-[250px] gap-1\">\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Later today{\" \"}\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addHours(today, 4), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Tomorrow\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addDays(today, 1), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      This weekend\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(nextSaturday(today), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Next week\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addDays(today, 7), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"p-2\">\n                  <Calendar />\n                </div>\n              </PopoverContent>\n            </Popover>\n            <TooltipContent>Snooze</TooltipContent>\n          </Tooltip>\n        </div>\n        <div className=\"ml-auto flex items-center gap-2\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Reply className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Reply</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Reply</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <ReplyAll className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Reply all</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Reply all</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Forward className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Forward</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Forward</TooltipContent>\n          </Tooltip>\n        </div>\n        <Separator orientation=\"vertical\" className=\"mx-2 h-6\" />\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n              <MoreVertical className=\"h-4 w-4\" />\n              <span className=\"sr-only\">More</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem>Mark as unread</DropdownMenuItem>\n            <DropdownMenuItem>Star thread</DropdownMenuItem>\n            <DropdownMenuItem>Add label</DropdownMenuItem>\n            <DropdownMenuItem>Mute thread</DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n      <Separator />\n      {mail ? (\n        <div className=\"flex flex-1 flex-col\">\n          <div className=\"flex items-start p-4\">\n            <div className=\"flex items-start gap-4 text-sm\">\n              <Avatar>\n                <AvatarImage alt={mail.from} />\n                <AvatarFallback>\n                  {mail.from\n                    ? mail.from\n                        .split(\" \")\n                        .map((chunk) => chunk[0])\n                        .join(\"\")\n                    : \"?\"}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"grid gap-1\">\n                <div className=\"font-semibold\">{mail.from}</div>\n                <div className=\"line-clamp-1 text-xs\">{mail.subject}</div>\n                <div className=\"line-clamp-1 text-xs\">\n                  <span className=\"font-medium\">Reply-To:</span>{\" \"}\n                  {mail.from\n                    ? mail.from.toLowerCase().replace(/\\s/g, \"\") +\n                      \"@example.com\"\n                    : \"unknown@example.com\"}\n                </div>\n              </div>\n            </div>\n            {mail.date && (\n              <div className=\"ml-auto text-xs text-muted-foreground\">\n                {format(new Date(mail.date), \"PPpp\")}\n              </div>\n            )}\n          </div>\n          <Separator />\n          <div className=\"flex-1 whitespace-pre-wrap p-4 text-sm\">\n            {mail.message}\n          </div>\n          <Separator className=\"mt-auto\" />\n          <div className=\"p-4\">\n            <form>\n              <div className=\"grid gap-4\">\n                <Textarea\n                  className=\"p-4\"\n                  placeholder={`Reply ${mail.from}...`}\n                />\n                <div className=\"flex items-center\">\n                  <Label\n                    htmlFor=\"mute\"\n                    className=\"flex items-center gap-2 text-xs font-normal\"\n                  >\n                    <Switch id=\"mute\" aria-label=\"Mute thread\" /> Mute this\n                    thread\n                  </Label>\n                  <Button\n                    onClick={(e) => e.preventDefault()}\n                    size=\"sm\"\n                    className=\"ml-auto\"\n                  >\n                    Send\n                  </Button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      ) : (\n        <div className=\"p-8 text-center text-muted-foreground\">\n          No message selected\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2636, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 2684, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2761, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/data.tsx"],"sourcesContent":["export const mails = [\n  {\n    id: \"6c84fb90-12c4-11e1-840d-7b25c5ee775a\",\n    name: \"William Smith\",\n    email: \"williamsmith@example.com\",\n    subject: \"Meeting Tomorrow\",\n    text: \"Hi, let's have a meeting tomorrow to discuss the project. I've been reviewing the project details and have some ideas I'd like to share. It's crucial that we align on our next steps to ensure the project's success.\\n\\nPlease come prepared with any questions or insights you may have. Looking forward to our meeting!\\n\\nBest regards, William\",\n    date: \"2023-10-22T09:00:00\",\n    read: true,\n    labels: [\"meeting\", \"work\", \"important\"],\n  },\n  {\n    id: \"110e8400-e29b-11d4-a716-446655440000\",\n    name: \"Alice Smith\",\n    email: \"alicesmith@example.com\",\n    subject: \"Re: Project Update\",\n    text: \"Thank you for the project update. It looks great! I've gone through the report, and the progress is impressive. The team has done a fantastic job, and I appreciate the hard work everyone has put in.\\n\\nI have a few minor suggestions that I'll include in the attached document.\\n\\nLet's discuss these during our next meeting. Keep up the excellent work!\\n\\nBest regards, Alice\",\n    date: \"2023-10-22T10:30:00\",\n    read: true,\n    labels: [\"work\", \"important\"],\n  },\n  {\n    id: \"3e7c3f6d-bdf5-46ae-8d90-171300f27ae2\",\n    name: \"Bob Johnson\",\n    email: \"bobjohnson@example.com\",\n    subject: \"Weekend Plans\",\n    text: \"Any plans for the weekend? I was thinking of going hiking in the nearby mountains. It's been a while since we had some outdoor fun.\\n\\nIf you're interested, let me know, and we can plan the details. It'll be a great way to unwind and enjoy nature.\\n\\nLooking forward to your response!\\n\\nBest, Bob\",\n    date: \"2023-04-10T11:45:00\",\n    read: true,\n    labels: [\"personal\"],\n  },\n  {\n    id: \"61c35085-72d7-42b4-8d62-738f700d4b92\",\n    name: \"Emily Davis\",\n    email: \"emilydavis@example.com\",\n    subject: \"Re: Question about Budget\",\n    text: \"I have a question about the budget for the upcoming project. It seems like there's a discrepancy in the allocation of resources.\\n\\nI've reviewed the budget report and identified a few areas where we might be able to optimize our spending without compromising the project's quality.\\n\\nI've attached a detailed analysis for your reference. Let's discuss this further in our next meeting.\\n\\nThanks, Emily\",\n    date: \"2023-03-25T13:15:00\",\n    read: false,\n    labels: [\"work\", \"budget\"],\n  },\n  {\n    id: \"8f7b5db9-d935-4e42-8e05-1f1d0a3dfb97\",\n    name: \"Michael Wilson\",\n    email: \"michaelwilson@example.com\",\n    subject: \"Important Announcement\",\n    text: \"I have an important announcement to make during our team meeting. It pertains to a strategic shift in our approach to the upcoming product launch. We've received valuable feedback from our beta testers, and I believe it's time to make some adjustments to better meet our customers' needs.\\n\\nThis change is crucial to our success, and I look forward to discussing it with the team. Please be prepared to share your insights during the meeting.\\n\\nRegards, Michael\",\n    date: \"2023-03-10T15:00:00\",\n    read: false,\n    labels: [\"meeting\", \"work\", \"important\"],\n  },\n  {\n    id: \"1f0f2c02-e299-40de-9b1d-86ef9e42126b\",\n    name: \"Sarah Brown\",\n    email: \"sarahbrown@example.com\",\n    subject: \"Re: Feedback on Proposal\",\n    text: \"Thank you for your feedback on the proposal. It looks great! I'm pleased to hear that you found it promising. The team worked diligently to address all the key points you raised, and I believe we now have a strong foundation for the project.\\n\\nI've attached the revised proposal for your review.\\n\\nPlease let me know if you have any further comments or suggestions. Looking forward to your response.\\n\\nBest regards, Sarah\",\n    date: \"2023-02-15T16:30:00\",\n    read: true,\n    labels: [\"work\"],\n  },\n  {\n    id: \"17c0a96d-4415-42b1-8b4f-764efab57f66\",\n    name: \"David Lee\",\n    email: \"davidlee@example.com\",\n    subject: \"New Project Idea\",\n    text: \"I have an exciting new project idea to discuss with you. It involves expanding our services to target a niche market that has shown considerable growth in recent months.\\n\\nI've prepared a detailed proposal outlining the potential benefits and the strategy for execution.\\n\\nThis project has the potential to significantly impact our business positively. Let's set up a meeting to dive into the details and determine if it aligns with our current goals.\\n\\nBest regards, David\",\n    date: \"2023-01-28T17:45:00\",\n    read: false,\n    labels: [\"meeting\", \"work\", \"important\"],\n  },\n  {\n    id: \"2f0130cb-39fc-44c4-bb3c-0a4337edaaab\",\n    name: \"Olivia Wilson\",\n    email: \"oliviawilson@example.com\",\n    subject: \"Vacation Plans\",\n    text: \"Let's plan our vacation for next month. What do you think? I've been thinking of visiting a tropical paradise, and I've put together some destination options.\\n\\nI believe it's time for us to unwind and recharge. Please take a look at the options and let me know your preferences.\\n\\nWe can start making arrangements to ensure a smooth and enjoyable trip.\\n\\nExcited to hear your thoughts! Olivia\",\n    date: \"2022-12-20T18:30:00\",\n    read: true,\n    labels: [\"personal\"],\n  },\n  {\n    id: \"de305d54-75b4-431b-adb2-eb6b9e546014\",\n    name: \"James Martin\",\n    email: \"jamesmartin@example.com\",\n    subject: \"Re: Conference Registration\",\n    text: \"I've completed the registration for the conference next month. The event promises to be a great networking opportunity, and I'm looking forward to attending the various sessions and connecting with industry experts.\\n\\nI've also attached the conference schedule for your reference.\\n\\nIf there are any specific topics or sessions you'd like me to explore, please let me know. It's an exciting event, and I'll make the most of it.\\n\\nBest regards, James\",\n    date: \"2022-11-30T19:15:00\",\n    read: true,\n    labels: [\"work\", \"conference\"],\n  },\n  {\n    id: \"7dd90c63-00f6-40f3-bd87-5060a24e8ee7\",\n    name: \"Sophia White\",\n    email: \"sophiawhite@example.com\",\n    subject: \"Team Dinner\",\n    text: \"Let's have a team dinner next week to celebrate our success. We've achieved some significant milestones, and it's time to acknowledge our hard work and dedication.\\n\\nI've made reservations at a lovely restaurant, and I'm sure it'll be an enjoyable evening.\\n\\nPlease confirm your availability and any dietary preferences. Looking forward to a fun and memorable dinner with the team!\\n\\nBest, Sophia\",\n    date: \"2022-11-05T20:30:00\",\n    read: false,\n    labels: [\"meeting\", \"work\"],\n  },\n  {\n    id: \"99a88f78-3eb4-4d87-87b7-7b15a49a0a05\",\n    name: \"Daniel Johnson\",\n    email: \"danieljohnson@example.com\",\n    subject: \"Feedback Request\",\n    text: \"I'd like your feedback on the latest project deliverables. We've made significant progress, and I value your input to ensure we're on the right track.\\n\\nI've attached the deliverables for your review, and I'm particularly interested in any areas where you think we can further enhance the quality or efficiency.\\n\\nYour feedback is invaluable, and I appreciate your time and expertise. Let's work together to make this project a success.\\n\\nRegards, Daniel\",\n    date: \"2022-10-22T09:30:00\",\n    read: false,\n    labels: [\"work\"],\n  },\n  {\n    id: \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n    name: \"Ava Taylor\",\n    email: \"avataylor@example.com\",\n    subject: \"Re: Meeting Agenda\",\n    text: \"Here's the agenda for our meeting next week. I've included all the topics we need to cover, as well as time allocations for each.\\n\\nIf you have any additional items to discuss or any specific points to address, please let me know, and we can integrate them into the agenda.\\n\\nIt's essential that our meeting is productive and addresses all relevant matters.\\n\\nLooking forward to our meeting! Ava\",\n    date: \"2022-10-10T10:45:00\",\n    read: true,\n    labels: [\"meeting\", \"work\"],\n  },\n  {\n    id: \"c1a0ecb4-2540-49c5-86f8-21e5ce79e4e6\",\n    name: \"William Anderson\",\n    email: \"williamanderson@example.com\",\n    subject: \"Product Launch Update\",\n    text: \"The product launch is on track. I'll provide an update during our call. We've made substantial progress in the development and marketing of our new product.\\n\\nI'm excited to share the latest updates with you during our upcoming call. It's crucial that we coordinate our efforts to ensure a successful launch. Please come prepared with any questions or insights you may have.\\n\\nLet's make this product launch a resounding success!\\n\\nBest regards, William\",\n    date: \"2022-09-20T12:00:00\",\n    read: false,\n    labels: [\"meeting\", \"work\", \"important\"],\n  },\n  {\n    id: \"ba54eefd-4097-4949-99f2-2a9ae4d1a836\",\n    name: \"Mia Harris\",\n    email: \"miaharris@example.com\",\n    subject: \"Re: Travel Itinerary\",\n    text: \"I've received the travel itinerary. It looks great! Thank you for your prompt assistance in arranging the details. I've reviewed the schedule and the accommodations, and everything seems to be in order. I'm looking forward to the trip, and I'm confident it'll be a smooth and enjoyable experience.\\n\\nIf there are any specific activities or attractions you recommend at our destination, please feel free to share your suggestions.\\n\\nExcited for the trip! Mia\",\n    date: \"2022-09-10T13:15:00\",\n    read: true,\n    labels: [\"personal\", \"travel\"],\n  },\n  {\n    id: \"df09b6ed-28bd-4e0c-85a9-9320ec5179aa\",\n    name: \"Ethan Clark\",\n    email: \"ethanclark@example.com\",\n    subject: \"Team Building Event\",\n    text: \"Let's plan a team-building event for our department. Team cohesion and morale are vital to our success, and I believe a well-organized team-building event can be incredibly beneficial. I've done some research and have a few ideas for fun and engaging activities.\\n\\nPlease let me know your thoughts and availability. We want this event to be both enjoyable and productive.\\n\\nTogether, we'll strengthen our team and boost our performance.\\n\\nRegards, Ethan\",\n    date: \"2022-08-25T15:30:00\",\n    read: false,\n    labels: [\"meeting\", \"work\"],\n  },\n  {\n    id: \"d67c1842-7f8b-4b4b-9be1-1b3b1ab4611d\",\n    name: \"Chloe Hall\",\n    email: \"chloehall@example.com\",\n    subject: \"Re: Budget Approval\",\n    text: \"The budget has been approved. We can proceed with the project. I'm delighted to inform you that our budget proposal has received the green light from the finance department. This is a significant milestone, and it means we can move forward with the project as planned.\\n\\nI've attached the finalized budget for your reference. Let's ensure that we stay on track and deliver the project on time and within budget.\\n\\nIt's an exciting time for us! Chloe\",\n    date: \"2022-08-10T16:45:00\",\n    read: true,\n    labels: [\"work\", \"budget\"],\n  },\n  {\n    id: \"6c9a7f94-8329-4d70-95d3-51f68c186ae1\",\n    name: \"Samuel Turner\",\n    email: \"samuelturner@example.com\",\n    subject: \"Weekend Hike\",\n    text: \"Who's up for a weekend hike in the mountains? I've been craving some outdoor adventure, and a hike in the mountains sounds like the perfect escape. If you're up for the challenge, we can explore some scenic trails and enjoy the beauty of nature.\\n\\nI've done some research and have a few routes in mind.\\n\\nLet me know if you're interested, and we can plan the details.\\n\\nIt's sure to be a memorable experience! Samuel\",\n    date: \"2022-07-28T17:30:00\",\n    read: false,\n    labels: [\"personal\"],\n  },\n]\n\nexport type Mail = (typeof mails)[number]\n\nexport const accounts = [\n  {\n    label: \"Alicia Koch\",\n    email: \"alicia@example.com\",\n    icon: (\n      <svg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <title>Vercel</title>\n        <path d=\"M24 22.525H0l12-21.05 12 21.05z\" fill=\"currentColor\" />\n      </svg>\n    ),\n  },\n  {\n    label: \"Alicia Koch\",\n    email: \"alicia@gmail.com\",\n    icon: (\n      <svg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <title>Gmail</title>\n        <path\n          d=\"M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    ),\n  },\n  {\n    label: \"Alicia Koch\",\n    email: \"alicia@me.com\",\n    icon: (\n      <svg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <title>iCloud</title>\n        <path\n          d=\"M13.762 4.29a6.51 6.51 0 0 0-5.669 3.332 3.571 3.571 0 0 0-1.558-.36 3.571 3.571 0 0 0-3.516 3A4.918 4.918 0 0 0 0 14.796a4.918 4.918 0 0 0 4.92 4.914 4.93 4.93 0 0 0 .617-.045h14.42c2.305-.272 4.041-2.258 4.043-4.589v-.009a4.594 4.594 0 0 0-3.727-4.508 6.51 6.51 0 0 0-6.511-6.27z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    ),\n  },\n]\n\nexport type Account = (typeof accounts)[number]\n\nexport const contacts = [\n  {\n    name: \"Emma Johnson\",\n    email: \"emma.johnson@example.com\",\n  },\n  {\n    name: \"Liam Wilson\",\n    email: \"liam.wilson@example.com\",\n  },\n  {\n    name: \"Olivia Davis\",\n    email: \"olivia.davis@example.com\",\n  },\n  {\n    name: \"Noah Martinez\",\n    email: \"noah.martinez@example.com\",\n  },\n  {\n    name: \"Ava Taylor\",\n    email: \"ava.taylor@example.com\",\n  },\n  {\n    name: \"Lucas Brown\",\n    email: \"lucas.brown@example.com\",\n  },\n  {\n    name: \"Sophia Smith\",\n    email: \"sophia.smith@example.com\",\n  },\n  {\n    name: \"Ethan Wilson\",\n    email: \"ethan.wilson@example.com\",\n  },\n  {\n    name: \"Isabella Jackson\",\n    email: \"isabella.jackson@example.com\",\n  },\n  {\n    name: \"Mia Clark\",\n    email: \"mia.clark@example.com\",\n  },\n  {\n    name: \"Mason Lee\",\n    email: \"mason.lee@example.com\",\n  },\n  {\n    name: \"Layla Harris\",\n    email: \"layla.harris@example.com\",\n  },\n  {\n    name: \"William Anderson\",\n    email: \"william.anderson@example.com\",\n  },\n  {\n    name: \"Ella White\",\n    email: \"ella.white@example.com\",\n  },\n  {\n    name: \"James Thomas\",\n    email: \"james.thomas@example.com\",\n  },\n  {\n    name: \"Harper Lewis\",\n    email: \"harper.lewis@example.com\",\n  },\n  {\n    name: \"Benjamin Moore\",\n    email: \"benjamin.moore@example.com\",\n  },\n  {\n    name: \"Aria Hall\",\n    email: \"aria.hall@example.com\",\n  },\n  {\n    name: \"Henry Turner\",\n    email: \"henry.turner@example.com\",\n  },\n  {\n    name: \"Scarlett Adams\",\n    email: \"scarlett.adams@example.com\",\n  },\n]\n\nexport type Contact = (typeof contacts)[number]\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3173, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/use-mail.ts"],"sourcesContent":["import { atom, useAtom } from \"jotai\";\n\nimport { Mail, mails } from \"./data\";\n\ntype Config = {\n  selected: Mail[\"id\"] | null;\n};\n\nconst configAtom = atom<Config>({\n  selected: mails[0].id,\n});\n\nexport function useMail() {\n  return useAtom(configAtom);\n}\n"],"names":[],"mappings":";;;AAAA;AAAA;AAEA;;;;AAMA,MAAM,aAAa,CAAA,GAAA,2IAAA,CAAA,OAAI,AAAD,EAAU;IAC9B,UAAU,8HAAA,CAAA,QAAK,CAAC,EAAE,CAAC,EAAE;AACvB;AAEO,SAAS;;IACd,OAAO,CAAA,GAAA,yIAAA,CAAA,UAAO,AAAD,EAAE;AACjB;GAFgB;;QACP,yIAAA,CAAA,UAAO","debugId":null}},
    {"offset": {"line": 3203, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/mail-list.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { cn } from \"@/lib/utils\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { type Mail } from \"../data\";\nimport { useMail } from \"../use-mail\";\nimport { ComponentProps } from \"react\";\n\ninterface MailListProps {\n  items: Mail[];\n}\n\nexport function MailList({ items }: MailListProps) {\n  const [mail, setMail] = useMail();\n\n  return (\n    <ScrollArea className=\"h-screen\">\n      <div className=\"flex flex-col gap-2 p-4 pt-0\">\n        {items.map((item) => (\n          <button\n            key={item.id}\n            className={cn(\n              \"flex flex-col items-start gap-2 rounded-lg border p-3 text-left text-sm transition-all hover:bg-accent\",\n              mail.selected === item.id && \"bg-muted\",\n            )}\n            onClick={() =>\n              setMail({\n                ...mail,\n                selected: item.id,\n              })\n            }\n          >\n            <div className=\"flex w-full flex-col gap-1\">\n              <div className=\"flex items-center\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"font-semibold\">{item.from}</div>\n                  {!item.read && (\n                    <span className=\"flex h-2 w-2 rounded-full bg-blue-600\" />\n                  )}\n                </div>\n                <div\n                  className={cn(\n                    \"ml-auto text-xs\",\n                    mail.selected === item.id\n                      ? \"text-foreground\"\n                      : \"text-muted-foreground\",\n                  )}\n                >\n                  {formatDistanceToNow(new Date(item.date), {\n                    addSuffix: true,\n                  })}\n                </div>\n              </div>\n              <div className=\"text-xs font-medium\">{item.subject}</div>\n            </div>\n            <div className=\"line-clamp-2 text-xs text-muted-foreground\">\n              {item.message\n                ? item.message.substring(0, 300)\n                : \"No message content\"}\n            </div>\n            {item.labels && item.labels.length ? (\n              <div className=\"flex items-center gap-2\">\n                {item.labels.map((label) => (\n                  <Badge key={label} variant={getBadgeVariantFromLabel(label)}>\n                    {label}\n                  </Badge>\n                ))}\n              </div>\n            ) : null}\n          </button>\n        ))}\n      </div>\n    </ScrollArea>\n  );\n}\n\nfunction getBadgeVariantFromLabel(\n  label: string,\n): ComponentProps<typeof Badge>[\"variant\"] {\n  if ([\"work\"].includes(label.toLowerCase())) {\n    return \"default\";\n  }\n\n  if ([\"personal\"].includes(label.toLowerCase())) {\n    return \"outline\";\n  }\n\n  return \"secondary\";\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AAGA;;;AATA;;;;;;AAgBO,SAAS,SAAS,EAAE,KAAK,EAAiB;;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,oIAAA,CAAA,UAAO,AAAD;IAE9B,qBACE,6LAAC,6IAAA,CAAA,aAAU;QAAC,WAAU;kBACpB,cAAA,6LAAC;YAAI,WAAU;sBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;oBAEC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0GACA,KAAK,QAAQ,KAAK,KAAK,EAAE,IAAI;oBAE/B,SAAS,IACP,QAAQ;4BACN,GAAG,IAAI;4BACP,UAAU,KAAK,EAAE;wBACnB;;sCAGF,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;8DAAiB,KAAK,IAAI;;;;;;gDACxC,CAAC,KAAK,IAAI,kBACT,6LAAC;oDAAK,WAAU;;;;;;;;;;;;sDAGpB,6LAAC;4CACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mBACA,KAAK,QAAQ,KAAK,KAAK,EAAE,GACrB,oBACA;sDAGL,CAAA,GAAA,sJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,KAAK,IAAI,GAAG;gDACxC,WAAW;4CACb;;;;;;;;;;;;8CAGJ,6LAAC;oCAAI,WAAU;8CAAuB,KAAK,OAAO;;;;;;;;;;;;sCAEpD,6LAAC;4BAAI,WAAU;sCACZ,KAAK,OAAO,GACT,KAAK,OAAO,CAAC,SAAS,CAAC,GAAG,OAC1B;;;;;;wBAEL,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,MAAM,iBAChC,6LAAC;4BAAI,WAAU;sCACZ,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,sBAChB,6LAAC,oIAAA,CAAA,QAAK;oCAAa,SAAS,yBAAyB;8CAClD;mCADS;;;;;;;;;mCAKd;;mBAhDC,KAAK,EAAE;;;;;;;;;;;;;;;AAsDxB;GA9DgB;;QACU,oIAAA,CAAA,UAAO;;;KADjB;AAgEhB,SAAS,yBACP,KAAa;IAEb,IAAI;QAAC;KAAO,CAAC,QAAQ,CAAC,MAAM,WAAW,KAAK;QAC1C,OAAO;IACT;IAEA,IAAI;QAAC;KAAW,CAAC,QAAQ,CAAC,MAAM,WAAW,KAAK;QAC9C,OAAO;IACT;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3364, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/nav.tsx"],"sourcesContent":["\"use client\";\n\n// import Link from \"next/link\"\nimport type { LucideIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport Link from \"next/link\";\nimport { useLocalStorage } from \"usehooks-ts\";\n\ninterface NavProps {\n  isCollapsed: boolean;\n  links: {\n    title: string;\n    label?: string;\n    icon: LucideIcon;\n    variant: \"default\" | \"ghost\";\n  }[];\n}\n\nexport function Nav({ links, isCollapsed }: NavProps) {\n  const [_, setTab] = useLocalStorage(\"lumi-tab\", \"inbox\");\n\n  return (\n    <div\n      data-collapsed={isCollapsed}\n      className=\"group flex flex-col gap-4 py-2 data-[collapsed=true]:py-2\"\n    >\n      <nav className=\"grid gap-1 px-2 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2\">\n        {links.map((link, index) =>\n          isCollapsed ? (\n            <Tooltip key={index} delayDuration={0}>\n              <TooltipTrigger asChild>\n                <Link\n                  href=\"#\"\n                  className={cn(\n                    buttonVariants({ variant: link.variant, size: \"icon\" }),\n                    \"h-9 w-9\",\n                    link.variant === \"default\" &&\n                      \"dark:bg-muted dark:text-muted-foreground dark:hover:bg-muted dark:hover:text-white\",\n                  )}\n                >\n                  <link.icon className=\"h-4 w-4\" />\n                  <span className=\"sr-only\">{link.title}</span>\n                </Link>\n              </TooltipTrigger>\n              <TooltipContent side=\"right\" className=\"flex items-center gap-4\">\n                {link.title}\n                {link.label && (\n                  <span className=\"ml-auto text-muted-foreground\">\n                    {link.label}\n                  </span>\n                )}\n              </TooltipContent>\n            </Tooltip>\n          ) : (\n            <Link\n              key={index}\n              href=\"#\"\n              className={cn(\n                buttonVariants({ variant: link.variant, size: \"sm\" }),\n                link.variant === \"default\" &&\n                  \"dark:bg-muted dark:text-white dark:hover:bg-muted dark:hover:text-white\",\n                \"justify-start\",\n              )}\n            >\n              <link.icon className=\"mr-2 h-4 w-4\" />\n              {link.title}\n              {link.label && (\n                <span\n                  className={cn(\n                    \"ml-auto\",\n                    link.variant === \"default\" &&\n                      \"text-background dark:text-white\",\n                  )}\n                >\n                  {link.label}\n                </span>\n              )}\n            </Link>\n          ),\n        )}\n      </nav>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAKA;AACA;AACA;AAKA;AACA;;;AAbA;;;;;;AAyBO,SAAS,IAAI,EAAE,KAAK,EAAE,WAAW,EAAY;;IAClD,MAAM,CAAC,GAAG,OAAO,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,YAAY;IAEhD,qBACE,6LAAC;QACC,kBAAgB;QAChB,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;sBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,QAChB,4BACE,6LAAC,sIAAA,CAAA,UAAO;oBAAa,eAAe;;sCAClC,6LAAC,sIAAA,CAAA,iBAAc;4BAAC,OAAO;sCACrB,cAAA,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;oCAAE,SAAS,KAAK,OAAO;oCAAE,MAAM;gCAAO,IACrD,WACA,KAAK,OAAO,KAAK,aACf;;kDAGJ,6LAAC,KAAK,IAAI;wCAAC,WAAU;;;;;;kDACrB,6LAAC;wCAAK,WAAU;kDAAW,KAAK,KAAK;;;;;;;;;;;;;;;;;sCAGzC,6LAAC,sIAAA,CAAA,iBAAc;4BAAC,MAAK;4BAAQ,WAAU;;gCACpC,KAAK,KAAK;gCACV,KAAK,KAAK,kBACT,6LAAC;oCAAK,WAAU;8CACb,KAAK,KAAK;;;;;;;;;;;;;mBAnBL;;;;yCAyBd,6LAAC,+JAAA,CAAA,UAAI;oBAEH,MAAK;oBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;wBAAE,SAAS,KAAK,OAAO;wBAAE,MAAM;oBAAK,IACnD,KAAK,OAAO,KAAK,aACf,2EACF;;sCAGF,6LAAC,KAAK,IAAI;4BAAC,WAAU;;;;;;wBACpB,KAAK,KAAK;wBACV,KAAK,KAAK,kBACT,6LAAC;4BACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,WACA,KAAK,OAAO,KAAK,aACf;sCAGH,KAAK,KAAK;;;;;;;mBAnBV;;;;;;;;;;;;;;;AA4BnB;GAjEgB;;QACM,kJAAA,CAAA,kBAAe;;;KADrB","debugId":null}},
    {"offset": {"line": 3508, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/kbar/use-vim.tsx"],"sourcesContent":["//@ts-ignore\nimport { createKeybindingsHandler } from \"tinykeys\";\nimport { api, type RouterOutputs } from \"@/trpc/react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { useRegisterActions } from \"kbar\";\nimport React, { useMemo } from \"react\";\nimport { useLocalStorage } from \"usehooks-ts\";\nimport { useThread } from \"../../use-thread\";\nimport { atom, useAtom } from \"jotai\";\nimport { toast } from \"sonner\";\nimport { getQueryKey } from \"@trpc/react-query\";\nimport useRefetch from \"@/hooks/use-refetch\";\nimport useThreads from \"../../use-threads\";\nimport { isSearchingAtom } from \"../search-bar\";\n\nexport const visualModeAtom = atom(false);\nexport const visualModeStartIdAtom = atom<string | null>(null);\n\nconst useVim = () => {\n  const queryClient = useQueryClient();\n  const [threadId, setThreadId] = useThread();\n  const [accountId] = useLocalStorage(\"accountId\", \"\");\n  const [tab] = useLocalStorage(\"lumi-tab\", \"inbox\");\n  const [done] = useLocalStorage(\"lumi-done\", false);\n  const { threads: data, queryKey, refetch } = useThreads();\n\n  const setUndone = api.mail.setUndone.useMutation({\n    onMutate: async (payload) => {\n      if (!payload.threadId && !payload.threadIds) return;\n      if (!done) return;\n      toast.success(\"Undone!\");\n      await queryClient.cancelQueries({ queryKey });\n      const previousData =\n        queryClient.getQueryData<RouterOutputs[\"mail\"][\"getThreads\"]>(queryKey);\n      queryClient.setQueryData(\n        queryKey,\n        (data: RouterOutputs[\"mail\"][\"getThreads\"] | undefined) => {\n          if (!data) return data;\n          const threadIds = visualMode ? selectedThreadIds : [payload.threadId];\n          const newData = data.filter((t) => !threadIds.includes(t.id));\n\n          if (visualMode) {\n            setVisualMode(false);\n            setVisualModeStartId(null);\n            const currentIndex = data.findIndex(\n              (t) => t.id === threadIds.at(-1),\n            );\n            setThreadId(\n              newData[currentIndex - threadIds.length + 1]?.id ?? null,\n            );\n          } else {\n            const currentIndex = data.findIndex((t) => t.id === threadId);\n            if (currentIndex !== -1 && threadIds.includes(threadId ?? \"\")) {\n              const nextThreadId =\n                newData[currentIndex]?.id ??\n                newData[currentIndex - 1]?.id ??\n                null;\n              setThreadId(nextThreadId);\n            }\n          }\n\n          return newData;\n        },\n      );\n      return previousData;\n    },\n    onSettled: () => {\n      refetch();\n    },\n  });\n\n  const setDone = api.mail.setDone.useMutation({\n    onMutate: async (payload) => {\n      if (done) return;\n      if (!payload.threadId && !payload.threadIds) return;\n      toast.success(\"Done!\");\n      await queryClient.cancelQueries({ queryKey });\n      const previousData =\n        queryClient.getQueryData<RouterOutputs[\"mail\"][\"getThreads\"]>(queryKey);\n      queryClient.setQueryData(\n        queryKey,\n        (data: RouterOutputs[\"mail\"][\"getThreads\"] | undefined) => {\n          if (!data) return data;\n          const threadIds = visualMode ? selectedThreadIds : [payload.threadId];\n          const newData = data.filter((t) => !threadIds.includes(t.id));\n\n          if (visualMode) {\n            setVisualMode(false);\n            setVisualModeStartId(null);\n            const currentIndex = data.findIndex(\n              (t) => t.id === threadIds.at(-1),\n            );\n            setThreadId(\n              newData[currentIndex - threadIds.length + 1]?.id ?? null,\n            );\n          } else {\n            const currentIndex = data.findIndex((t) => t.id === threadId);\n            if (currentIndex !== -1 && threadIds.includes(threadId ?? \"\")) {\n              const nextThreadId =\n                newData[currentIndex]?.id ??\n                newData[currentIndex - 1]?.id ??\n                null;\n              setThreadId(nextThreadId);\n            }\n          }\n\n          return newData;\n        },\n      );\n      return previousData;\n    },\n    onSettled: () => {\n      refetch();\n    },\n  });\n\n  const [visualMode, setVisualMode] = useAtom(visualModeAtom);\n  const [visualModeStartId, setVisualModeStartId] = useAtom(\n    visualModeStartIdAtom,\n  );\n\n  const selectedThreadIds = useMemo(() => {\n    if (!visualMode || !visualModeStartId || !threadId || !data) return [];\n\n    const startIndex = data.findIndex((t) => t.id === visualModeStartId);\n    const endIndex = data.findIndex((t) => t.id === threadId);\n\n    if (startIndex === -1 || endIndex === -1) return [];\n\n    const start = Math.min(startIndex, endIndex);\n    const end = Math.max(startIndex, endIndex);\n\n    return data.slice(start, end + 1).map((t) => t.id);\n  }, [visualMode, visualModeStartId, threadId, data]);\n\n  const numberRef = React.useRef(0);\n\n  React.useEffect(() => {\n    numberRef.current = selectedThreadIds.length;\n  }, [selectedThreadIds]);\n\n  React.useEffect(() => {\n    if (visualMode) {\n      toast.info(\n        `${numberRef.current} thread${numberRef.current !== 1 ? \"s\" : \"\"} selected`,\n        {\n          id: \"visual-mode-toast\",\n          duration: Infinity,\n          position: \"bottom-center\",\n        },\n      );\n    } else {\n      toast.dismiss(\"visual-mode-toast\");\n    }\n  }, [visualMode, selectedThreadIds]);\n\n  React.useEffect(() => {\n    if (!threadId) return;\n    // move thread it into view\n    const element = document.getElementById(`thread-${threadId}`);\n    if (element) {\n      element.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n  }, [threadId]);\n\n  const isInputElement = (element: Element | null): boolean => {\n    return !!(\n      element instanceof HTMLInputElement ||\n      element instanceof HTMLTextAreaElement ||\n      element instanceof HTMLSelectElement ||\n      element?.hasAttribute(\"contenteditable\")\n    );\n  };\n\n  let handler = (event: KeyboardEvent) => {\n    if (isInputElement(document.activeElement)) {\n      return;\n    }\n\n    return createKeybindingsHandler({\n      j: () => {\n        // Move cursor down\n        if (data && data.length > 0) {\n          if (!threadId) {\n            setThreadId(data[0]!.id);\n            return;\n          }\n          const currentIndex = data.findIndex((t) => t.id === threadId);\n          if (currentIndex < data.length - 1) {\n            const nextId = data[currentIndex + 1]!.id;\n            setThreadId(nextId);\n          }\n        }\n      },\n      k: () => {\n        // Move cursor up\n        if (data && data.length > 0) {\n          if (!threadId) {\n            setThreadId(data[0]!.id);\n            return;\n          }\n          const currentIndex = data.findIndex((t) => t.id === threadId);\n          if (currentIndex > 0) {\n            const prevId = data[currentIndex - 1]!.id;\n            setThreadId(prevId);\n          }\n        }\n      },\n      \"g g\": () => {\n        // Move to the first thread\n        if (data && data.length > 0) {\n          const firstId = data[0]!.id;\n          setThreadId(firstId);\n        }\n      },\n      \"Shift+G\": () => {\n        // Move to the last thread\n        if (data && data.length > 0) {\n          const lastId = data[data.length - 1]!.id;\n          setThreadId(lastId);\n        }\n      },\n      \"Shift+V\": () => {\n        setVisualMode(true);\n        if (!threadId) return;\n        setVisualModeStartId(threadId);\n      },\n      Escape: () => {\n        setVisualMode(false);\n        setVisualModeStartId(null);\n      },\n      d: () => {\n        if (done) return;\n        if (!threadId || !selectedThreadIds) return;\n        if (visualMode) {\n          setDone.mutate({ accountId, threadIds: selectedThreadIds });\n        } else {\n          setDone.mutate({ accountId, threadId });\n        }\n      },\n      u: () => {\n        if (!done) return;\n        if (!threadId || !selectedThreadIds) return;\n        if (visualMode) {\n          setUndone.mutate({ accountId, threadIds: selectedThreadIds });\n        } else {\n          setUndone.mutate({ accountId, threadId });\n        }\n      },\n    })(event);\n  };\n\n  React.useEffect(() => {\n    if (typeof window == \"undefined\") return;\n    window.addEventListener(\"keydown\", handler);\n    return () => {\n      window.removeEventListener(\"keydown\", handler);\n    };\n  }, [handler, threadId, data, visualMode, visualModeStartId]);\n\n  return { selectedThreadIds, visualMode };\n};\n\nexport default useVim;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3838, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/thread-list.tsx"],"sourcesContent":["import React, { type ComponentProps } from \"react\"\nimport DOMPurify from 'dompurify';\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { formatDistanceToNow } from \"date-fns\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { useThread } from \"@/app/mail/use-thread\"\nimport { api, type RouterOutputs } from \"@/trpc/react\"\nimport { useAtom } from \"jotai\"\nimport useVim from \"./kbar/use-vim\"\nimport { useAutoAnimate } from \"@formkit/auto-animate/react\"\nimport { useLocalStorage } from \"usehooks-ts\"\nimport useThreads from \"../use-threads\"\nimport { isSearchingAtom } from \"./search-bar\"\n\nimport { format } from \"date-fns\";\n\nexport function ThreadList() {\n  const { threads, isFetching } = useThreads();\n\n  const [threadId, setThreadId] = useThread();\n  const [parent] = useAutoAnimate(/* optional config */);\n  const { selectedThreadIds, visualMode } = useVim();\n\n  const groupedThreads = threads?.reduce((acc, thread) => {\n    const date = format(thread.lastMessageDate ?? new Date(), \"yyyy-MM-dd\");\n    if (!acc[date]) {\n      acc[date] = [];\n    }\n    acc[date].push(thread);\n    return acc;\n  }, {} as Record<string, typeof threads>);\n\n  return (\n    <div className=\"max-w-full overflow-y-scroll max-h-[calc(100vh-120px)]\">\n      <div className=\"flex flex-col gap-2 p-4 pt-0\" ref={parent}>\n        {Object.entries(groupedThreads ?? {}).map(([date, threads]) => (\n          <React.Fragment key={date}>\n            <div className=\"text-xs font-medium text-muted-foreground mt-4 first:mt-0\">\n              {format(new Date(date), \"MMMM d, yyyy\")}\n            </div>\n            {threads.map((item) => (\n              <button\n                id={`thread-${item.id}`}\n                key={item.id}\n                className={cn(\n                  \"flex flex-col items-start gap-2 rounded-lg border p-3 text-left text-sm transition-all relative\",\n                  visualMode &&\n                  selectedThreadIds.includes(item.id) &&\n                  \"bg-blue-200 dark:bg-blue-900\"\n                )}\n                onClick={() => {\n                  setThreadId(item.id);\n                }}\n              >\n                {threadId === item.id && (\n                  <motion.div\n                    className=\"absolute inset-0 dark:bg-white/20 bg-black/10 z-[-1] rounded-lg\"\n                    layoutId=\"thread-list-item\"\n                    transition={{\n                      duration: 0.1,\n                      ease: \"easeInOut\",\n                    }}\n                  />\n                )}\n                <div className=\"flex flex-col w-full gap-1\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"font-semibold\">\n                        {item.emails.at(-1)?.from?.name}\n                      </div>\n                    </div>\n                    <div\n                      className={cn(\n                        \"ml-auto text-xs\",\n                        threadId === item.id\n                          ? \"text-foreground\"\n                          : \"text-muted-foreground\"\n                      )}\n                    >\n                      {formatDistanceToNow(item.emails.at(-1)?.sentAt ?? new Date(), {\n                        addSuffix: true,\n                      })}\n                    </div>\n                  </div>\n                  <div className=\"text-xs font-medium\">{item.subject}</div>\n                </div>\n                <div\n                  className=\"text-xs line-clamp-2 text-muted-foreground\"\n                  dangerouslySetInnerHTML={{\n                    __html: DOMPurify.sanitize(item.emails.at(-1)?.bodySnippet ?? \"\", {\n                      USE_PROFILES: { html: true },\n                    }),\n                  }}\n                ></div>\n                {item.emails[0]?.sysLabels.length ? (\n                  <div className=\"flex items-center gap-2\">\n                    {item.emails.at(0)?.sysLabels.map((label) => (\n                      <Badge\n                        key={label}\n                        variant={getBadgeVariantFromLabel(label)}\n                      >\n                        {label}\n                      </Badge>\n                    ))}\n                  </div>\n                ) : null}\n              </button>\n            ))}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction getBadgeVariantFromLabel(\n  label: string\n): ComponentProps<typeof Badge>[\"variant\"] {\n  if ([\"work\"].includes(label.toLowerCase())) {\n    return \"default\";\n  }\n\n  if ([\"personal\"].includes(label.toLowerCase())) {\n    return \"outline\";\n  }\n\n  return \"secondary\";\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4050, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-display.tsx"],"sourcesContent":["'use client'\nimport Avatar from 'react-avatar';\nimport { Letter } from 'react-letter';\nimport { api, type RouterOutputs } from '@/trpc/react'\nimport React from 'react'\nimport { useLocalStorage } from 'usehooks-ts'\nimport useThreads from '../use-threads';\nimport { cn } from '@/lib/utils';\nimport { formatDistanceToNow } from 'date-fns';\n\ntype Props = {\n    email: RouterOutputs['mail']['getThreads'][number]['emails'][number]\n}\n\nconst EmailDisplay = ({ email }: Props) => {\n    const { account } = useThreads()\n    const letterRef = React.useRef<HTMLDivElement>(null);\n\n\n    React.useEffect(() => {\n        if (letterRef.current) {\n            const gmailQuote = letterRef.current.querySelector('div[class*=\"_gmail_quote\"]');\n            if (gmailQuote) {\n                gmailQuote.innerHTML = '';\n            }\n        }\n    }, [email]);\n\n    const isMe = account?.emailAddress === email.from.address\n\n    return (\n        <div className={cn('border rounded-md p-4 cursor-pointer transition-all  hover:translate-x-2', {\n            'border-l-gray-900 border-l-4': isMe\n        })} ref={letterRef}>\n            <div className=\"flex items-center justify-between gap-2\">\n                <div className='flex items-center gap-2'>\n                    {!isMe && <Avatar name={email.from.name ?? email.from.address} email={email.from.address} size='35' textSizeRatio={2} round={true} />}\n                    <span className='font-medium'>\n                        {isMe ? 'Me' : email.from.address}\n                    </span>\n                </div>\n                <p className='text-xs text-muted-foreground'>\n                    {formatDistanceToNow(email.sentAt ?? new Date(), {\n                        addSuffix: true,\n                    })}\n                </p>\n            </div>\n            <div className=\"h-4\"></div>\n            <Letter className='bg-white rounded-md text-black' html={email?.body ?? \"\"} />\n        </div>\n    )\n}\n\nexport default EmailDisplay"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AAEA;AACA;AACA;;;AARA;;;;;;;AAcA,MAAM,eAAe,CAAC,EAAE,KAAK,EAAS;;IAClC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,UAAU,AAAD;IAC7B,MAAM,YAAY,6JAAA,CAAA,UAAK,CAAC,MAAM,CAAiB;IAG/C,6JAAA,CAAA,UAAK,CAAC,SAAS;kCAAC;YACZ,IAAI,UAAU,OAAO,EAAE;gBACnB,MAAM,aAAa,UAAU,OAAO,CAAC,aAAa,CAAC;gBACnD,IAAI,YAAY;oBACZ,WAAW,SAAS,GAAG;gBAC3B;YACJ;QACJ;iCAAG;QAAC;KAAM;IAEV,MAAM,OAAO,SAAS,iBAAiB,MAAM,IAAI,CAAC,OAAO;IAEzD,qBACI,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4EAA4E;YAC3F,gCAAgC;QACpC;QAAI,KAAK;;0BACL,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;4BACV,CAAC,sBAAQ,6LAAC,iKAAA,CAAA,UAAM;gCAAC,MAAM,MAAM,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,CAAC,OAAO;gCAAE,OAAO,MAAM,IAAI,CAAC,OAAO;gCAAE,MAAK;gCAAK,eAAe;gCAAG,OAAO;;;;;;0CAC7H,6LAAC;gCAAK,WAAU;0CACX,OAAO,OAAO,MAAM,IAAI,CAAC,OAAO;;;;;;;;;;;;kCAGzC,6LAAC;wBAAE,WAAU;kCACR,CAAA,GAAA,sJAAA,CAAA,sBAAmB,AAAD,EAAE,MAAM,MAAM,IAAI,IAAI,QAAQ;4BAC7C,WAAW;wBACf;;;;;;;;;;;;0BAGR,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC,6JAAA,CAAA,SAAM;gBAAC,WAAU;gBAAiC,MAAM,OAAO,QAAQ;;;;;;;;;;;;AAGpF;GArCM;;QACkB,wIAAA,CAAA,UAAU;;;KAD5B;uCAuCS","debugId":null}},
    {"offset": {"line": 4179, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/search-display.tsx"],"sourcesContent":["'use client'\nimport DOMPurify from 'dompurify';\nimport { useAtom } from 'jotai'\nimport React from 'react'\nimport { isSearchingAtom, searchValueAtom } from './search-bar'\nimport { api } from '@/trpc/react'\nimport { useDebounceValue, useLocalStorage } from 'usehooks-ts'\nimport useThreads from '../use-threads';\nimport { useThread } from '../use-thread';\nimport { toast } from 'sonner';\nimport { Loader2 } from 'lucide-react';\n\nconst SearchDisplay = () => {\n    const [searchValue, setSearchValue] = useAtom(searchValueAtom)\n    const [isSearching, setIsSearching] = useAtom(isSearchingAtom)\n    const [_, setThreadId] = useThread()\n    const search = api.search.search.useMutation()\n\n    const [debouncedSearch] = useDebounceValue(searchValue, 500)\n    const [accountId, setAccountId] = useLocalStorage('accountId', '')\n\n    React.useEffect(() => {\n        if (!debouncedSearch || !accountId) return\n        console.log({ accountId, debouncedSearch })\n        search.mutate({ accountId, query: debouncedSearch })\n    }, [debouncedSearch, accountId])\n\n    return (\n        <div className=\"p-4 max-h-[calc(100vh-50px)] overflow-y-scroll\">\n            <div className=\"flex items-center gap-2 mb-4\">\n                <h2 className=\"text-gray-600 text-sm dark:text-gray-400\">\n                    Your search for \"{searchValue}\" came back with...\n                </h2>\n                {search.isPending && <Loader2 className=\"size-4 animate-spin text-gray-400\" />}\n            </div>\n            {search.data?.hits.length === 0 ? (\n                <p>No results found.</p>\n            ) : (\n                <ul className=\"flex flex-col gap-2\">\n                    {search.data?.hits.map((hit) => (\n                        <li onClick={() => {\n                            if (!hit.document.threadId) { toast.error(\"This message is not part of a thread\"); return }\n                            setIsSearching(false)\n                            setThreadId(hit.document.threadId)\n                        }} key={hit.id} className=\"border rounded-md p-4 hover:bg-gray-100 cursor-pointer transition-all dark:hover:bg-gray-900\">\n                            <h3 className=\"text-base font-medium\">{hit.document.title}</h3>\n                            <p className=\"text-sm text-gray-500\">\n                                From: {hit.document.from}\n                            </p>\n                            <p className=\"text-sm text-gray-500\">\n                                To: {hit.document.to.join(\", \")}\n                            </p>\n                            <p className=\"text-sm mt-2\" dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(hit.document.rawBody, { USE_PROFILES: { html: true } }) }} />\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </div>\n    );\n}\n\nexport default SearchDisplay"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAVA;;;;;;;;;;AAYA,MAAM,gBAAgB;;IAClB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,yIAAA,CAAA,UAAO,AAAD,EAAE,qJAAA,CAAA,kBAAe;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,yIAAA,CAAA,UAAO,AAAD,EAAE,qJAAA,CAAA,kBAAe;IAC7D,MAAM,CAAC,GAAG,YAAY,GAAG,CAAA,GAAA,sIAAA,CAAA,YAAS,AAAD;IACjC,MAAM,SAAS,wHAAA,CAAA,MAAG,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW;IAE5C,MAAM,CAAC,gBAAgB,GAAG,CAAA,GAAA,kJAAA,CAAA,mBAAgB,AAAD,EAAE,aAAa;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,aAAa;IAE/D,6JAAA,CAAA,UAAK,CAAC,SAAS;mCAAC;YACZ,IAAI,CAAC,mBAAmB,CAAC,WAAW;YACpC,QAAQ,GAAG,CAAC;gBAAE;gBAAW;YAAgB;YACzC,OAAO,MAAM,CAAC;gBAAE;gBAAW,OAAO;YAAgB;QACtD;kCAAG;QAAC;QAAiB;KAAU;IAE/B,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;;4BAA2C;4BACnC;4BAAY;;;;;;;oBAEjC,OAAO,SAAS,kBAAI,6LAAC,oNAAA,CAAA,UAAO;wBAAC,WAAU;;;;;;;;;;;;YAE3C,OAAO,IAAI,EAAE,KAAK,WAAW,kBAC1B,6LAAC;0BAAE;;;;;qCAEH,6LAAC;gBAAG,WAAU;0BACT,OAAO,IAAI,EAAE,KAAK,IAAI,CAAC,oBACpB,6LAAC;wBAAG,SAAS;4BACT,IAAI,CAAC,IAAI,QAAQ,CAAC,QAAQ,EAAE;gCAAE,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;gCAAyC;4BAAO;4BAC1F,eAAe;4BACf,YAAY,IAAI,QAAQ,CAAC,QAAQ;wBACrC;wBAAgB,WAAU;;0CACtB,6LAAC;gCAAG,WAAU;0CAAyB,IAAI,QAAQ,CAAC,KAAK;;;;;;0CACzD,6LAAC;gCAAE,WAAU;;oCAAwB;oCAC1B,IAAI,QAAQ,CAAC,IAAI;;;;;;;0CAE5B,6LAAC;gCAAE,WAAU;;oCAAwB;oCAC5B,IAAI,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;;;;;;;0CAE9B,6LAAC;gCAAE,WAAU;gCAAe,yBAAyB;oCAAE,QAAQ,qJAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,OAAO,EAAE;wCAAE,cAAc;4CAAE,MAAM;wCAAK;oCAAE;gCAAG;;;;;;;uBARtI,IAAI,EAAE;;;;;;;;;;;;;;;;AAetC;GA/CM;;QACoC,yIAAA,CAAA,UAAO;QACP,yIAAA,CAAA,UAAO;QACpB,sIAAA,CAAA,YAAS;QAGR,kJAAA,CAAA,mBAAgB;QACR,kJAAA,CAAA,kBAAe;;;KAP/C;uCAiDS","debugId":null}},
    {"offset": {"line": 4362, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-editor/ghost-text.tsx"],"sourcesContent":["import { NodeViewWrapper, NodeViewContent } from '@tiptap/react'\nimport React from 'react'\n\nexport default props => {\n    return (\n        <NodeViewWrapper as='span'>\n            <NodeViewContent className=\"text-gray-300 select-none !inline\" as='span' >\n                {props.node.attrs.content}\n            </NodeViewContent>\n        </NodeViewWrapper>\n    )\n}"],"names":[],"mappings":";;;;AAAA;;;uCAGe,CAAA;IACX,qBACI,6LAAC,qKAAA,CAAA,kBAAe;QAAC,IAAG;kBAChB,cAAA,6LAAC,qKAAA,CAAA,kBAAe;YAAC,WAAU;YAAoC,IAAG;sBAC7D,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO;;;;;;;;;;;AAIzC","debugId":null}},
    {"offset": {"line": 4396, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-editor/extension.ts"],"sourcesContent":["import { mergeAttributes, Node } from '@tiptap/core'\nimport { ReactNodeViewRenderer } from '@tiptap/react'\nimport GhostText from './ghost-text'\n\nexport default Node.create({\n    name: 'ghostText',\n\n    // content: 'inline*',\n\n    group: 'inline',\n    inline: true,\n    selectable: false,\n    atom: true,\n\n\n\n    addAttributes() {\n        return {\n            content: {\n                default: '',\n            },\n        }\n    },\n\n    parseHTML() {\n        return [\n            {\n                tag: 'ghost-text',\n            },\n        ]\n    },\n\n\n    renderHTML({ HTMLAttributes }) {\n        return ['span', mergeAttributes(HTMLAttributes, { 'data-type': 'ghost-text' }), 0]\n    },\n\n\n    addNodeView() {\n        return ReactNodeViewRenderer(GhostText)\n    },\n})\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;uCAEe,oJAAA,CAAA,OAAI,CAAC,MAAM,CAAC;IACvB,MAAM;IAEN,sBAAsB;IAEtB,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,MAAM;IAIN;QACI,OAAO;YACH,SAAS;gBACL,SAAS;YACb;QACJ;IACJ;IAEA;QACI,OAAO;YACH;gBACI,KAAK;YACT;SACH;IACL;IAGA,YAAW,EAAE,cAAc,EAAE;QACzB,OAAO;YAAC;YAAQ,CAAA,GAAA,oJAAA,CAAA,kBAAe,AAAD,EAAE,gBAAgB;gBAAE,aAAa;YAAa;YAAI;SAAE;IACtF;IAGA;QACI,OAAO,CAAA,GAAA,qKAAA,CAAA,wBAAqB,AAAD,EAAE,wKAAA,CAAA,UAAS;IAC1C;AACJ","debugId":null}},
    {"offset": {"line": 4448, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-editor/menu-bar.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport type { Editor } from \"@tiptap/react\";\nimport {\n    Bold,\n    Code,\n    CodepenIcon,\n    Heading1,\n    Heading2,\n    Heading3,\n    Heading4,\n    Heading5,\n    Heading6,\n    Italic,\n    List,\n    ListOrdered,\n    Quote,\n    Redo,\n    Strikethrough,\n    Undo,\n} from \"lucide-react\";\n\nconst TipTapMenuBar = ({ editor }: { editor: Editor }) => {\n    return (\n        <div className=\"flex flex-wrap gap-2\">\n            <button\n                onClick={() => editor.chain().focus().toggleBold().run()}\n                disabled={!editor.can().chain().focus().toggleBold().run()}\n                className={editor.isActive(\"bold\") ? \"is-active\" : \"\"}\n            >\n                <Bold className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleItalic().run()}\n                disabled={!editor.can().chain().focus().toggleItalic().run()}\n                className={editor.isActive(\"italic\") ? \"is-active\" : \"\"}\n            >\n                <Italic className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleStrike().run()}\n                disabled={!editor.can().chain().focus().toggleStrike().run()}\n                className={editor.isActive(\"strike\") ? \"is-active\" : \"\"}\n            >\n                <Strikethrough className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleCode().run()}\n                disabled={!editor.can().chain().focus().toggleCode().run()}\n                className={editor.isActive(\"code\") ? \"is-active\" : \"\"}\n            >\n                <Code className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}\n                className={editor.isActive(\"heading\", { level: 1 }) ? \"is-active\" : \"\"}\n            >\n                <Heading1 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\n                className={editor.isActive(\"heading\", { level: 2 }) ? \"is-active\" : \"\"}\n            >\n                <Heading2 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 3 }).run()}\n                className={editor.isActive(\"heading\", { level: 3 }) ? \"is-active\" : \"\"}\n            >\n                <Heading3 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 4 }).run()}\n                className={editor.isActive(\"heading\", { level: 4 }) ? \"is-active\" : \"\"}\n            >\n                <Heading4 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 5 }).run()}\n                className={editor.isActive(\"heading\", { level: 5 }) ? \"is-active\" : \"\"}\n            >\n                <Heading5 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 6 }).run()}\n                className={editor.isActive(\"heading\", { level: 6 }) ? \"is-active\" : \"\"}\n            >\n                <Heading6 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleBulletList().run()}\n                className={editor.isActive(\"bulletList\") ? \"is-active\" : \"\"}\n            >\n                <List className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleOrderedList().run()}\n                className={editor.isActive(\"orderedList\") ? \"is-active\" : \"\"}\n            >\n                <ListOrdered className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleBlockquote().run()}\n                className={editor.isActive(\"blockquote\") ? \"is-active\" : \"\"}\n            >\n                <Quote className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().undo().run()}\n                disabled={!editor.can().chain().focus().undo().run()}\n            >\n                <Undo className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().redo().run()}\n                disabled={!editor.can().chain().focus().redo().run()}\n            >\n                <Redo className=\"size-4 text-secondary-foreground\" />\n            </button>\n        </div>\n    );\n};\n\nexport default TipTapMenuBar;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4746, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-editor/action.ts"],"sourcesContent":["'use server';\nimport TurndownService from 'turndown'\n\nimport { streamText } from 'ai';\nimport { openai } from '@ai-sdk/openai';\nimport { createStreamableValue } from 'ai/rsc';\n\nexport async function generateEmail(context: string, prompt: string) {\n    console.log(\"context\", context)\n    const stream = createStreamableValue('');\n\n    (async () => {\n        const { textStream } = await streamText({\n            model: openai('gpt-4-turbo'),\n            prompt: `\n            You are an AI email assistant embedded in an email client app. Your purpose is to help the user compose emails by providing suggestions and relevant information based on the context of their previous emails.\n            \n            THE TIME NOW IS ${new Date().toLocaleString()}\n            \n            START CONTEXT BLOCK\n            ${context}\n            END OF CONTEXT BLOCK\n            \n            USER PROMPT:\n            ${prompt}\n            \n            When responding, please keep in mind:\n            - Be helpful, clever, and articulate. \n            - Rely on the provided email context to inform your response.\n            - If the context does not contain enough information to fully address the prompt, politely give a draft response.\n            - Avoid apologizing for previous responses. Instead, indicate that you have updated your knowledge based on new information.\n            - Do not invent or speculate about anything that is not directly supported by the email context.\n            - Keep your response focused and relevant to the user's prompt.\n            - Don't add fluff like 'Heres your email' or 'Here's your email' or anything like that.\n            - Directly output the email, no need to say 'Here is your email' or anything like that.\n            - No need to output subject\n            `,\n        });\n\n        for await (const delta of textStream) {\n            stream.update(delta);\n        }\n\n        stream.done();\n    })();\n\n    return { output: stream.value };\n}\n\nexport async function generate(input: string) {\n    const stream = createStreamableValue('');\n\n    console.log(\"input\", input);\n    (async () => {\n        const { textStream } = await streamText({\n            model: openai('gpt-4'),\n            prompt: `\n            ALWAYS RESPOND IN PLAIN TEXT, no html or markdown.\n            You are a helpful AI embedded in a email client app that is used to autocomplete sentences, similar to google gmail autocomplete\n            The traits of AI include expert knowledge, helpfulness, cleverness, and articulateness.\n            AI is a well-behaved and well-mannered individual.\n            AI is always friendly, kind, and inspiring, and he is eager to provide vivid and thoughtful responses to the user.\n            I am writing a piece of text in a notion text editor app.\n            Help me complete my train of thought here: <input>${input}</input>\n            keep the tone of the text consistent with the rest of the text.\n            keep the response short and sweet. Act like a copilot, finish my sentence if need be, but don't try to generate a whole new paragraph.\n            Do not add fluff like \"I'm here to help you\" or \"I'm a helpful AI\" or anything like that.\n\n            Example:\n            Dear Alice, I'm sorry to hear that you are feeling down.\n\n            Output: Unfortunately, I can't help you with that.\n\n            Your output is directly concatenated to the input, so do not add any new lines or formatting, just plain text.\n            `,\n        });\n\n        for await (const delta of textStream) {\n            stream.update(delta);\n        }\n\n        stream.done();\n    })();\n\n    return { output: stream.value };\n}"],"names":[],"mappings":";;;;;;IAOsB;IA0CA","debugId":null}},
    {"offset": {"line": 4760, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/custom-avatar.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\n\n// Simple replacement for react-avatar\ntype CustomAvatarProps = {\n  name?: string;\n  email?: string;\n  size?: string | number;\n  round?: boolean | string;\n  color?: string;\n  className?: string;\n  fgColor?: string;\n  src?: string;\n  alt?: string;\n  [key: string]: any;\n};\n\nexport default function CustomAvatar({\n  name,\n  email,\n  size = \"40\",\n  round = true,\n  color,\n  className = \"\",\n  fgColor = \"white\",\n  src,\n  alt,\n  ...rest\n}: CustomAvatarProps) {\n  // Get initials from name or email\n  const getInitials = () => {\n    if (name) {\n      return name\n        .split(\" \")\n        .map((word) => word[0])\n        .join(\"\")\n        .toUpperCase()\n        .substring(0, 2);\n    }\n    if (email) {\n      return email.substring(0, 2).toUpperCase();\n    }\n    return \"?\";\n  };\n\n  const initials = getInitials();\n  const sizeInPx = typeof size === \"number\" ? `${size}px` : size;\n  const bgColor = color || `hsl(${Math.floor(Math.random() * 360)}, 65%, 45%)`;\n\n  const style = {\n    width: sizeInPx,\n    height: sizeInPx,\n    borderRadius:\n      round === true ? \"50%\" : typeof round === \"string\" ? round : \"0\",\n    backgroundColor: bgColor,\n    color: fgColor,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontWeight: \"bold\",\n    fontSize: `calc(${sizeInPx} * 0.4)`,\n    ...rest.style,\n  };\n\n  return (\n    <Avatar className={className} style={style} {...rest}>\n      {src && <AvatarImage src={src} alt={alt || name || email || \"Avatar\"} />}\n      <AvatarFallback style={{ backgroundColor: bgColor, color: fgColor }}>\n        {initials}\n      </AvatarFallback>\n    </Avatar>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAmBe,SAAS,aAAa,EACnC,IAAI,EACJ,KAAK,EACL,OAAO,IAAI,EACX,QAAQ,IAAI,EACZ,KAAK,EACL,YAAY,EAAE,EACd,UAAU,OAAO,EACjB,GAAG,EACH,GAAG,EACH,GAAG,MACe;IAClB,kCAAkC;IAClC,MAAM,cAAc;QAClB,IAAI,MAAM;YACR,OAAO,KACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,IAAI,CAAC,EAAE,EACrB,IAAI,CAAC,IACL,WAAW,GACX,SAAS,CAAC,GAAG;QAClB;QACA,IAAI,OAAO;YACT,OAAO,MAAM,SAAS,CAAC,GAAG,GAAG,WAAW;QAC1C;QACA,OAAO;IACT;IAEA,MAAM,WAAW;IACjB,MAAM,WAAW,OAAO,SAAS,WAAW,GAAG,KAAK,EAAE,CAAC,GAAG;IAC1D,MAAM,UAAU,SAAS,CAAC,IAAI,EAAE,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,KAAK,WAAW,CAAC;IAE5E,MAAM,QAAQ;QACZ,OAAO;QACP,QAAQ;QACR,cACE,UAAU,OAAO,QAAQ,OAAO,UAAU,WAAW,QAAQ;QAC/D,iBAAiB;QACjB,OAAO;QACP,SAAS;QACT,YAAY;QACZ,gBAAgB;QAChB,YAAY;QACZ,UAAU,CAAC,KAAK,EAAE,SAAS,OAAO,CAAC;QACnC,GAAG,KAAK,KAAK;IACf;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,WAAW;QAAW,OAAO;QAAQ,GAAG,IAAI;;YACjD,qBAAO,6LAAC,qIAAA,CAAA,cAAW;gBAAC,KAAK;gBAAK,KAAK,OAAO,QAAQ,SAAS;;;;;;0BAC5D,6LAAC,qIAAA,CAAA,iBAAc;gBAAC,OAAO;oBAAE,iBAAiB;oBAAS,OAAO;gBAAQ;0BAC/D;;;;;;;;;;;;AAIT;KAvDwB","debugId":null}},
    {"offset": {"line": 4838, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-editor/tag-input.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport CustomAvatar from \"@/components/ui/custom-avatar\";\nimport Select from \"react-select\";\n\ntype TagInputProps = {\n  suggestions: string[];\n  defaultValues?: { label: string; value: string }[];\n  placeholder: string;\n  label: string;\n\n  onChange: (values: { label: string; value: string }[]) => void;\n  value: { label: string; value: string }[];\n};\n\nconst TagInput: React.FC<TagInputProps> = ({\n  suggestions,\n  defaultValues = [],\n  label,\n  onChange,\n  value,\n}) => {\n  const [input, setInput] = useState(\"\");\n\n  const options = suggestions.map((suggestion) => ({\n    label: (\n      <span className=\"flex items-center gap-2\">\n        <CustomAvatar name={suggestion} size=\"25\" round={true} />\n        {suggestion}\n      </span>\n    ),\n    value: suggestion,\n  }));\n\n  return (\n    <div className=\"flex items-center rounded-md border\">\n      <span className=\"ml-3 text-sm text-gray-500\">{label}</span>\n      <Select\n        value={value}\n        // @ts-ignore\n        onChange={onChange}\n        className=\"w-full flex-1\"\n        isMulti\n        onInputChange={setInput}\n        defaultValue={defaultValues}\n        placeholder={\"\"}\n        options={\n          input\n            ? options.concat({\n                label: (\n                  <span className=\"flex items-center gap-2\">\n                    <CustomAvatar name={input} size=\"25\" round={true} />\n                    {input}\n                  </span>\n                ),\n                value: input,\n              })\n            : options\n        }\n        classNames={{\n          control: () => {\n            return \"!border-none !outline-none !ring-0 !shadow-none focus:border-none focus:outline-none focus:ring-0 focus:shadow-none dark:bg-transparent\";\n          },\n          multiValue: () => {\n            return \"dark:!bg-gray-700\";\n          },\n          multiValueLabel: () => {\n            return \"dark:text-white dark:bg-gray-700 rounded-md\";\n          },\n        }}\n        classNamePrefix=\"select\"\n      />\n    </div>\n  );\n};\n\nexport default TagInput;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;AAYA,MAAM,WAAoC,CAAC,EACzC,WAAW,EACX,gBAAgB,EAAE,EAClB,KAAK,EACL,QAAQ,EACR,KAAK,EACN;;IACC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,UAAU,YAAY,GAAG,CAAC,CAAC,aAAe,CAAC;YAC/C,qBACE,6LAAC;gBAAK,WAAU;;kCACd,6LAAC,+IAAA,CAAA,UAAY;wBAAC,MAAM;wBAAY,MAAK;wBAAK,OAAO;;;;;;oBAChD;;;;;;;YAGL,OAAO;QACT,CAAC;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAK,WAAU;0BAA8B;;;;;;0BAC9C,6LAAC,oLAAA,CAAA,UAAM;gBACL,OAAO;gBACP,aAAa;gBACb,UAAU;gBACV,WAAU;gBACV,OAAO;gBACP,eAAe;gBACf,cAAc;gBACd,aAAa;gBACb,SACE,QACI,QAAQ,MAAM,CAAC;oBACb,qBACE,6LAAC;wBAAK,WAAU;;0CACd,6LAAC,+IAAA,CAAA,UAAY;gCAAC,MAAM;gCAAO,MAAK;gCAAK,OAAO;;;;;;4BAC3C;;;;;;;oBAGL,OAAO;gBACT,KACA;gBAEN,YAAY;oBACV,SAAS;wBACP,OAAO;oBACT;oBACA,YAAY;wBACV,OAAO;oBACT;oBACA,iBAAiB;wBACf,OAAO;oBACT;gBACF;gBACA,iBAAgB;;;;;;;;;;;;AAIxB;GA3DM;KAAA;uCA6DS","debugId":null}},
    {"offset": {"line": 4955, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/lib/turndown.ts"],"sourcesContent":["import TurndownService from 'turndown';\n\nexport const turndown = new TurndownService({\n    headingStyle: 'atx',\n    codeBlockStyle: 'fenced',\n    emDelimiter: '*',\n    strongDelimiter: '**',\n    bulletListMarker: '-',\n    linkStyle: 'inlined',\n});\n\n// Remove link tags\nturndown.addRule('linkRemover', {\n    filter: 'a',\n    replacement: (content) => content,\n});\n\n// Remove style tags\nturndown.addRule('styleRemover', {\n    filter: 'style',\n    replacement: () => '',\n});\n\n// Remove script tags\nturndown.addRule('scriptRemover', {\n    filter: 'script',\n    replacement: () => '',\n});\n\nturndown.addRule('imageRemover', {\n    filter: 'img',\n    replacement: (content) => content,\n});\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,WAAW,IAAI,+JAAA,CAAA,UAAe,CAAC;IACxC,cAAc;IACd,gBAAgB;IAChB,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,WAAW;AACf;AAEA,mBAAmB;AACnB,SAAS,OAAO,CAAC,eAAe;IAC5B,QAAQ;IACR,aAAa,CAAC,UAAY;AAC9B;AAEA,oBAAoB;AACpB,SAAS,OAAO,CAAC,gBAAgB;IAC7B,QAAQ;IACR,aAAa,IAAM;AACvB;AAEA,qBAAqB;AACrB,SAAS,OAAO,CAAC,iBAAiB;IAC9B,QAAQ;IACR,aAAa,IAAM;AACvB;AAEA,SAAS,OAAO,CAAC,gBAAgB;IAC7B,QAAQ;IACR,aAAa,CAAC,UAAY;AAC9B","debugId":null}},
    {"offset": {"line": 4996, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-editor/ai-compose-button.tsx"],"sourcesContent":["'use client'\nimport TurndownService from 'turndown'\nimport { Button } from \"@/components/ui/button\"\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from \"@/components/ui/dialog\"\n\nimport React from 'react'\nimport { generateEmail } from \"./action\"\nimport { readStreamableValue } from \"ai/rsc\"\nimport { Bot } from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport useThreads from \"../../use-threads\"\nimport { useThread } from \"../../use-thread\"\nimport { turndown } from '@/lib/turndown'\n\ntype Props = {\n    onGenerate: (value: string) => void\n    isComposing?: boolean\n}\n\nconst AIComposeButton = (props: Props) => {\n    const [prompt, setPrompt] = React.useState('')\n    const [open, setOpen] = React.useState(false)\n    const { account, threads } = useThreads()\n    const [threadId] = useThread();\n    const thread = threads?.find(t => t.id === threadId)\n    const aiGenerate = async (prompt: string) => {\n        let context: string | undefined = ''\n        if (!props.isComposing) {\n            context = thread?.emails.map(m => `Subject: ${m.subject}\\nFrom: ${m.from.address}\\n\\n${turndown.turndown(m.body ?? m.bodySnippet ?? '')}`).join('\\n')\n        }\n\n        const { output } = await generateEmail(context + `\\n\\nMy name is: ${account?.name}`, prompt)\n\n        for await (const delta of readStreamableValue(output)) {\n            if (delta) {\n                props.onGenerate(delta);\n            }\n        }\n\n    }\n    return (\n        <Dialog open={open} onOpenChange={setOpen}>\n            <DialogTrigger>\n                <Button onClick={() => setOpen(true)} size='icon' variant={'outline'}>\n                    <Bot className=\"size-5\" />\n                </Button>\n            </DialogTrigger>\n            <DialogContent>\n                <DialogHeader>\n                    <DialogTitle>AI Compose</DialogTitle>\n                    <DialogDescription>\n                        AI will compose an email based on the context of your previous emails.\n                    </DialogDescription>\n                    <div className=\"h-2\"></div>\n                    <Textarea\n                        placeholder=\"What would you like to compose?\"\n                        value={prompt}\n                        onChange={(e) => setPrompt(e.target.value)}\n                    />\n                    <div className=\"h-2\"></div>\n                    <Button onClick={() => { aiGenerate(prompt); setOpen(false); setPrompt('') }}>Generate</Button>\n                </DialogHeader>\n            </DialogContent>\n        </Dialog>\n\n    )\n}\n\nexport default AIComposeButton"],"names":[],"mappings":";;;;AAEA;AACA;AASA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AApBA;;;;;;;;;;;AA2BA,MAAM,kBAAkB,CAAC;;IACrB,MAAM,CAAC,QAAQ,UAAU,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IACvC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,UAAU,AAAD;IACtC,MAAM,CAAC,SAAS,GAAG,CAAA,GAAA,sIAAA,CAAA,YAAS,AAAD;IAC3B,MAAM,SAAS,SAAS,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK;IAC3C,MAAM,aAAa,OAAO;QACtB,IAAI,UAA8B;QAClC,IAAI,CAAC,MAAM,WAAW,EAAE;YACpB,UAAU,QAAQ,OAAO,IAAI,CAAA,IAAK,CAAC,SAAS,EAAE,EAAE,OAAO,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,yHAAA,CAAA,WAAQ,CAAC,QAAQ,CAAC,EAAE,IAAI,IAAI,EAAE,WAAW,IAAI,KAAK,EAAE,KAAK;QACpJ;QAEA,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,gKAAA,CAAA,gBAAa,AAAD,EAAE,UAAU,CAAC,gBAAgB,EAAE,SAAS,MAAM,EAAE;QAErF,WAAW,MAAM,SAAS,CAAA,GAAA,sJAAA,CAAA,sBAAmB,AAAD,EAAE,QAAS;YACnD,IAAI,OAAO;gBACP,MAAM,UAAU,CAAC;YACrB;QACJ;IAEJ;IACA,qBACI,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;;0BAC9B,6LAAC,qIAAA,CAAA,gBAAa;0BACV,cAAA,6LAAC,qIAAA,CAAA,SAAM;oBAAC,SAAS,IAAM,QAAQ;oBAAO,MAAK;oBAAO,SAAS;8BACvD,cAAA,6LAAC,mMAAA,CAAA,MAAG;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGvB,6LAAC,qIAAA,CAAA,gBAAa;0BACV,cAAA,6LAAC,qIAAA,CAAA,eAAY;;sCACT,6LAAC,qIAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,6LAAC,qIAAA,CAAA,oBAAiB;sCAAC;;;;;;sCAGnB,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC,uIAAA,CAAA,WAAQ;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;sCAE7C,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC,qIAAA,CAAA,SAAM;4BAAC,SAAS;gCAAQ,WAAW;gCAAS,QAAQ;gCAAQ,UAAU;4BAAI;sCAAG;;;;;;;;;;;;;;;;;;;;;;;AAMlG;GA/CM;;QAG2B,wIAAA,CAAA,UAAU;QACpB,sIAAA,CAAA,YAAS;;;KAJ1B;uCAiDS","debugId":null}},
    {"offset": {"line": 5157, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/email-editor/index.tsx"],"sourcesContent":["\"use client\";\nimport GhostExtension from \"./extension\";\nimport React from \"react\";\nimport { EditorContent, useEditor } from \"@tiptap/react\";\nimport { StarterKit } from \"@tiptap/starter-kit\";\nimport TipTapMenuBar from \"./menu-bar\";\nimport Text from \"@tiptap/extension-text\";\nimport { Button } from \"@/components/ui/button\";\n\nimport { generate } from './action';\nimport { readStreamableValue } from 'ai/rsc';\nimport { Separator } from \"@/components/ui/separator\";\nimport { useThread } from \"../../use-thread\";\nimport useThreads from \"../../use-threads\";\nimport { api } from \"@/trpc/react\";\nimport { Input } from \"@/components/ui/input\";\nimport TagInput from \"./tag-input\";\nimport { useAutoAnimate } from \"@formkit/auto-animate/react\";\nimport { useLocalStorage } from \"usehooks-ts\";\nimport { Bot } from \"lucide-react\";\nimport AIComposeButton from \"./ai-compose-button\";\n\ntype EmailEditorProps = {\n    toValues: { label: string, value: string }[];\n    ccValues: { label: string, value: string }[];\n\n    subject: string;\n    setSubject: (subject: string) => void;\n    to: string[]\n    handleSend: (value: string) => void;\n    isSending: boolean;\n\n    onToChange: (values: { label: string, value: string }[]) => void;\n    onCcChange: (values: { label: string, value: string }[]) => void;\n\n    defaultToolbarExpand?: boolean;\n}\n\nconst EmailEditor = ({ toValues, ccValues, subject, setSubject, to, handleSend, isSending, onToChange, onCcChange, defaultToolbarExpand }: EmailEditorProps) => {\n\n    const [ref] = useAutoAnimate();\n    const [accountId] = useLocalStorage('accountId', '');\n    const { data: suggestions } = api.mail.getEmailSuggestions.useQuery({ accountId: accountId, query: '' }, { enabled: !!accountId });\n\n\n    const [expanded, setExpanded] = React.useState(defaultToolbarExpand ?? false);\n\n    const [generation, setGeneration] = React.useState('');\n\n    const aiGenerate = async (prompt: string) => {\n        const { output } = await generate(prompt)\n\n        for await (const delta of readStreamableValue(output)) {\n            if (delta) {\n                setGeneration(delta);\n            }\n        }\n\n    }\n\n\n\n    const customText = Text.extend({\n        addKeyboardShortcuts() {\n            return {\n                \"Meta-j\": () => {\n                    aiGenerate(this.editor.getText());\n                    return true;\n                },\n            };\n        },\n    });\n\n\n    const editor = useEditor({\n        autofocus: false,\n        extensions: [StarterKit, customText, GhostExtension],\n        editorProps: {\n            attributes: {\n                placeholder: \"Write your email here...\"\n            }\n        },\n        onUpdate: ({ editor, transaction }) => {\n            setValue(editor.getHTML())\n        }\n    });\n\n    React.useEffect(() => {\n        if (typeof window === 'undefined') return;\n\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.key === 'Enter' && editor && !['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement?.tagName || '')) {\n                editor.commands.focus();\n            }\n            if (event.key === 'Escape' && editor) {\n                editor.commands.blur();\n            }\n        };\n\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return () => {\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [editor]);\n\n    React.useEffect(() => {\n        if (!generation || !editor) return;\n        editor.commands.insertContent(generation)\n    }, [generation, editor]);\n\n    const [value, setValue] = React.useState('');\n\n\n\n\n    return (\n        <div>\n            <div className=\"flex p-4 py-2 border-b\">\n                {editor && <TipTapMenuBar editor={editor} />}\n            </div>\n\n            <div ref={ref} className=\"p-4 pb-0 space-y-2\">\n                {expanded && (\n                    <>\n                        <TagInput suggestions={suggestions?.map(s => s.address) || []} value={toValues} placeholder=\"Add tags\" label=\"To\" onChange={onToChange} />\n                        <TagInput suggestions={suggestions?.map(s => s.address) || []} value={ccValues} placeholder=\"Add tags\" label=\"Cc\" onChange={onCcChange} />\n                        <Input id=\"subject\" className=\"w-full\" placeholder=\"Subject\" value={subject} onChange={e => setSubject(e.target.value)} />\n                    </>\n                )}\n                <div className=\"flex items-center gap-2\">\n                    <div className=\"cursor-pointer\" onClick={() => setExpanded(e => !e)}>\n                        <span className=\"text-green-600 font-medium\">\n                            Draft{' '}\n                        </span>\n                        <span>\n                            to {to.join(', ')}\n                        </span>\n                    </div>\n                    <AIComposeButton\n                        isComposing={defaultToolbarExpand}\n                        onGenerate={setGeneration}\n                    />\n                </div>\n            </div>\n\n            <div className=\"prose w-full px-4\">\n                <EditorContent value={value} editor={editor} placeholder=\"Write your email here...\" />\n            </div>\n            <Separator />\n            <div className=\"py-3 px-4 flex items-center justify-between\">\n                <span className=\"text-sm\">\n                    Tip: Press{\" \"}\n                    <kbd className=\"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg\">\n                        Cmd + J\n                    </kbd>{\" \"}\n                    for AI autocomplete\n                </span>\n                <Button onClick={async () => { editor?.commands.clearContent(); await handleSend(value) }} isLoading={isSending}>\n                    Send\n                </Button>\n            </div>\n        </div>\n    );\n};\n\nexport default EmailEditor;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5484, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/reply-box.tsx"],"sourcesContent":["'use client'\nimport React from 'react'\nimport EmailEditor from './email-editor'\nimport { useThread } from '../use-thread'\nimport useThreads from '../use-threads'\nimport { api, type RouterOutputs } from '@/trpc/react'\nimport { toast } from 'sonner'\n\nconst ReplyBox = () => {\n\n    const [threadId] = useThread()\n    const { accountId } = useThreads()\n    const { data: replyDetails } = api.mail.getReplyDetails.useQuery({\n        accountId: accountId,\n        threadId: threadId || '',\n        replyType: 'reply'\n    })\n    if (!replyDetails) return <></>;\n    return <Component replyDetails={replyDetails} />\n}\n\nconst Component = ({ replyDetails }: { replyDetails: NonNullable<RouterOutputs['mail']['getReplyDetails']> }) => {\n    const [threadId] = useThread()\n    const { accountId } = useThreads()\n\n    const [subject, setSubject] = React.useState(replyDetails.subject.startsWith('Re:') ? replyDetails.subject : `Re: ${replyDetails.subject}`);\n\n    const [toValues, setToValues] = React.useState<{ label: string, value: string }[]>(replyDetails.to.map(to => ({ label: to.address ?? to.name, value: to.address })) || [])\n    const [ccValues, setCcValues] = React.useState<{ label: string, value: string }[]>(replyDetails.cc.map(cc => ({ label: cc.address ?? cc.name, value: cc.address })) || [])\n\n    const sendEmail = api.mail.sendEmail.useMutation()\n    React.useEffect(() => {\n        if (!replyDetails || !threadId) return;\n\n        if (!replyDetails.subject.startsWith('Re:')) {\n            setSubject(`Re: ${replyDetails.subject}`)\n        }\n        setToValues(replyDetails.to.map(to => ({ label: to.address ?? to.name, value: to.address })))\n        setCcValues(replyDetails.cc.map(cc => ({ label: cc.address ?? cc.name, value: cc.address })))\n\n    }, [replyDetails, threadId])\n\n    const handleSend = async (value: string) => {\n        if (!replyDetails) return;\n        sendEmail.mutate({\n            accountId,\n            threadId: threadId ?? undefined,\n            body: value,\n            subject,\n            from: replyDetails.from,\n            to: replyDetails.to.map(to => ({ name: to.name ?? to.address, address: to.address })),\n            cc: replyDetails.cc.map(cc => ({ name: cc.name ?? cc.address, address: cc.address })),\n            replyTo: replyDetails.from,\n            inReplyTo: replyDetails.id,\n        }, {\n            onSuccess: () => {\n                toast.success(\"Email sent\")\n                // editor?.commands.clearContent()\n            }\n        })\n    }\n\n    return (\n        <EmailEditor\n            toValues={toValues}\n            ccValues={ccValues}\n\n            onToChange={(values) => {\n                setToValues(values)\n            }}\n            onCcChange={(values) => {\n                setCcValues(values)\n            }}\n\n            subject={subject}\n            setSubject={setSubject}\n            to={toValues.map(to => to.value)}\n            handleSend={handleSend}\n            isSending={sendEmail.isPending}\n        />\n    )\n\n}\n\nexport default ReplyBox"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5634, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/thread-display.tsx"],"sourcesContent":["import EmailEditor from \"./email-editor\";\nimport {\n  Archive,\n  ArchiveX,\n  Clock,\n  Forward,\n  MoreVertical,\n  Reply,\n  ReplyAll,\n  Trash2,\n} from \"lucide-react\"\n\nimport {\n  DropdownMenuContent,\n  DropdownMenuItem,\n} from \"@/components/ui/dropdown-menu\"\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"@/components/ui/avatar\"\nimport { Button } from \"@/components/ui/button\"\nimport { Calendar } from \"@/components/ui/calendar\"\nimport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Label } from \"@/components/ui/label\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\nimport { api, type RouterOutputs } from \"@/trpc/react\"\nimport { addDays, addHours, format, nextSaturday } from \"date-fns\"\nimport EmailDisplay from \"./email-display\"\nimport { useThread } from \"../use-thread\";\nimport useThreads from \"../use-threads\";\nimport { useAtom } from \"jotai\";\nimport { isSearchingAtom, searchValueAtom } from \"./search-bar\";\nimport SearchDisplay from \"./search-display\";\nimport { useLocalStorage } from \"usehooks-ts\";\nimport ReplyBox from \"./reply-box\";\n\n\nexport function ThreadDisplay() {\n  const [threadId, setThreadId] = useThread()\n  const { threads, isFetching } = useThreads()\n  const today = new Date()\n  const _thread = threads?.find(t => t.id === threadId)\n  const [isSearching, setIsSearching] = useAtom(isSearchingAtom)\n\n  const [accountId] = useLocalStorage('accountId', '')\n  const { data: foundThread } = api.mail.getThreadById.useQuery({\n    accountId: accountId,\n    threadId: threadId ?? ''\n  }, { enabled: !!!_thread && !!threadId })\n  const thread = _thread ?? foundThread\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"flex items-center p-2\">\n        <div className=\"flex items-center gap-2\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Archive className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Archive</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Archive</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <ArchiveX className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Move to junk</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Move to junk</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Trash2 className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Move to trash</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Move to trash</TooltipContent>\n          </Tooltip>\n          <Separator orientation=\"vertical\" className=\"h-6 mx-1\" />\n          <Tooltip>\n            <Popover>\n              <PopoverTrigger asChild>\n                <TooltipTrigger asChild>\n                  <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                    <Clock className=\"w-4 h-4\" />\n                    <span className=\"sr-only\">Snooze</span>\n                  </Button>\n                </TooltipTrigger>\n              </PopoverTrigger>\n              <PopoverContent className=\"flex w-[535px] p-0\">\n                <div className=\"flex flex-col gap-2 px-2 py-4 border-r\">\n                  <div className=\"px-4 text-sm font-medium\">Snooze until</div>\n                  <div className=\"grid min-w-[250px] gap-1\">\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Later today{\" \"}\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addHours(today, 4), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Tomorrow\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addDays(today, 1), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      This weekend\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(nextSaturday(today), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Next week\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addDays(today, 7), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"p-2\">\n                  <Calendar />\n                </div>\n              </PopoverContent>\n            </Popover>\n            <TooltipContent>Snooze</TooltipContent>\n          </Tooltip>\n        </div>\n        <div className=\"flex items-center gap-2 ml-auto\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Reply className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Reply</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Reply</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <ReplyAll className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Reply all</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Reply all</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Forward className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Forward</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Forward</TooltipContent>\n          </Tooltip>\n        </div>\n        <Separator orientation=\"vertical\" className=\"h-6 mx-2\" />\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n              <MoreVertical className=\"w-4 h-4\" />\n              <span className=\"sr-only\">More</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem>Mark as unread</DropdownMenuItem>\n            <DropdownMenuItem>Star thread</DropdownMenuItem>\n            <DropdownMenuItem>Add label</DropdownMenuItem>\n            <DropdownMenuItem>Mute thread</DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n      <Separator />\n      {isSearching ? <SearchDisplay /> : <>\n\n        {thread ? (\n          <div className=\"flex flex-col flex-1 overflow-scroll\">\n            <div className=\"flex items-start p-4\">\n              <div className=\"flex items-start gap-4 text-sm\">\n                <Avatar>\n                  <AvatarImage alt={'lol'} />\n                  <AvatarFallback>\n                    {thread?.emails[0]?.from?.name?.split(\" \")\n                      .map((chunk) => chunk[0])\n                      .join(\"\")}\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"grid gap-1\">\n                  <div className=\"font-semibold\">{thread.emails[0]?.from?.name}</div>\n                  <div className=\"text-xs line-clamp-1\">{thread.emails[0]?.subject}</div>\n                  <div className=\"text-xs line-clamp-1\">\n                    <span className=\"font-medium\">Reply-To:</span> {thread.emails[0]?.from?.address}\n                  </div>\n                </div>\n              </div>\n              {thread.emails[0]?.sentAt && (\n                <div className=\"ml-auto text-xs text-muted-foreground\">\n                  {format(new Date(thread.emails[0].sentAt), \"PPpp\")}\n                </div>\n              )}\n            </div>\n            <Separator />\n            <div className=\"max-h-[calc(100vh-500px)] overflow-scroll flex flex-col\">\n              <div className=\"p-6 flex flex-col gap-4\">\n                {thread.emails.map(email => {\n                  return <EmailDisplay key={email.id} email={email} />\n                })}\n              </div>\n            </div>\n            <div className=\"flex-1\"></div>\n            <Separator className=\"mt-auto\" />\n            <ReplyBox />\n          </div>\n        ) : (\n          <>\n            <div className=\"p-8 text-center text-muted-foreground\">\n              No message selected {threadId}\n            </div>\n          </>\n        )}\n      </>}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6499, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/components/mail.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport {\n  AlertCircle,\n  Archive,\n  ArchiveX,\n  File,\n  Inbox,\n  MessagesSquare,\n  Search,\n  Send,\n  ShoppingCart,\n  Trash2,\n  Users2,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  ResizableHandle,\n  ResizablePanel,\n  ResizablePanelGroup,\n} from \"@/components/ui/resizable\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AccountSwitcher } from \"./account-switcher\";\nimport { MailDisplay } from \"./mail-display\";\nimport { MailList } from \"./mail-list\";\nimport { Nav } from \"./nav\";\nimport { type Mail as MailType } from \"../data\";\nimport { useMail } from \"../use-mail\";\nimport { ThreadList } from \"./thread-list\";\nimport { ThreadDisplay } from \"./thread-display\";\n\ninterface MailProps {\n  accounts: {\n    label: string;\n    email: string;\n    icon: React.ReactNode;\n  }[];\n  mails: MailType[];\n  defaultLayout: number[] | undefined;\n  defaultCollapsed?: boolean;\n  navCollapsedSize: number;\n  useRealEmails?: boolean;\n}\n\nexport function Mail({\n  accounts,\n  mails,\n  defaultLayout = [20, 32, 48],\n  defaultCollapsed = false,\n  navCollapsedSize,\n  useRealEmails = false,\n}: MailProps) {\n  const [isCollapsed, setIsCollapsed] = React.useState(defaultCollapsed);\n  const [mail] = useMail();\n\n  return (\n    <TooltipProvider delayDuration={0}>\n      <ResizablePanelGroup\n        direction=\"horizontal\"\n        onLayout={(sizes: number[]) => {\n          document.cookie = `react-resizable-panels:layout:mail=${JSON.stringify(\n            sizes,\n          )}`;\n        }}\n        className=\"h-full w-full items-stretch\"\n      >\n        <ResizablePanel\n          defaultSize={defaultLayout[0]}\n          collapsedSize={navCollapsedSize}\n          collapsible={true}\n          minSize={15}\n          maxSize={30}\n          onCollapse={() => {\n            setIsCollapsed(true);\n            document.cookie = `react-resizable-panels:collapsed=${JSON.stringify(\n              true,\n            )}`;\n          }}\n          onResize={() => {\n            setIsCollapsed(false);\n            document.cookie = `react-resizable-panels:collapsed=${JSON.stringify(\n              false,\n            )}`;\n          }}\n          className={cn(\n            isCollapsed &&\n              \"min-w-[50px] transition-all duration-300 ease-in-out\",\n          )}\n        >\n          <div\n            className={cn(\n              \"flex h-[52px] items-center justify-center\",\n              isCollapsed ? \"h-[52px]\" : \"px-2\",\n            )}\n          >\n            <AccountSwitcher isCollapsed={isCollapsed} accounts={accounts} />\n          </div>\n          <Separator />\n          <Nav\n            isCollapsed={isCollapsed}\n            links={[\n              {\n                title: \"Inbox\",\n                label: \"128\",\n                icon: Inbox,\n                variant: \"default\",\n              },\n              {\n                title: \"Drafts\",\n                label: \"9\",\n                icon: File,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Sent\",\n                label: \"\",\n                icon: Send,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Junk\",\n                label: \"23\",\n                icon: ArchiveX,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Trash\",\n                label: \"\",\n                icon: Trash2,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Archive\",\n                label: \"\",\n                icon: Archive,\n                variant: \"ghost\",\n              },\n            ]}\n          />\n          <Separator />\n          <Nav\n            isCollapsed={isCollapsed}\n            links={[\n              {\n                title: \"Social\",\n                label: \"972\",\n                icon: Users2,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Updates\",\n                label: \"342\",\n                icon: AlertCircle,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Forums\",\n                label: \"128\",\n                icon: MessagesSquare,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Shopping\",\n                label: \"8\",\n                icon: ShoppingCart,\n                variant: \"ghost\",\n              },\n              {\n                title: \"Promotions\",\n                label: \"21\",\n                icon: Archive,\n                variant: \"ghost\",\n              },\n            ]}\n          />\n        </ResizablePanel>\n        <ResizableHandle withHandle />\n        <ResizablePanel defaultSize={defaultLayout[1]} minSize={20}>\n          <Tabs defaultValue=\"all\">\n            <div className=\"flex items-center px-4 py-2\">\n              <h1 className=\"text-xl font-bold\">Inbox</h1>\n              <TabsList className=\"ml-auto\">\n                <TabsTrigger\n                  value=\"all\"\n                  className=\"text-zinc-600 dark:text-zinc-200\"\n                >\n                  All mail\n                </TabsTrigger>\n                <TabsTrigger\n                  value=\"unread\"\n                  className=\"text-zinc-600 dark:text-zinc-200\"\n                >\n                  Unread\n                </TabsTrigger>\n              </TabsList>\n            </div>\n            <Separator />\n            <div className=\"bg-background/95 p-4 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n              <form>\n                <div className=\"relative\">\n                  <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                  <Input placeholder=\"Search\" className=\"pl-8\" />\n                  <kbd className=\"pointer-events-none absolute right-2 top-2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex\">\n                    <span className=\"text-xs\"></span>K\n                  </kbd>\n                </div>\n              </form>\n            </div>\n            {useRealEmails ? (\n              <ThreadList />\n            ) : (\n              <>\n                <TabsContent value=\"all\" className=\"m-0\">\n                  <MailList items={mails} />\n                </TabsContent>\n                <TabsContent value=\"unread\" className=\"m-0\">\n                  <MailList items={mails.filter((item) => !item.read)} />\n                </TabsContent>\n              </>\n            )}\n          </Tabs>\n        </ResizablePanel>\n        <ResizableHandle withHandle />\n        <ResizablePanel\n          defaultSize={defaultLayout[2]}\n          minSize={30}\n          className=\"flex-1\"\n        >\n          {useRealEmails ? (\n            <ThreadDisplay />\n          ) : (\n            <MailDisplay\n              mail={mails.find((item) => item.id === mail.selected) || null}\n            />\n          )}\n        </ResizablePanel>\n      </ResizablePanelGroup>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6916, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/mail/client.tsx"],"sourcesContent":["\"use client\";\n\nimport { Mail } from \"@/app/mail/components/mail\";\nimport { accounts, mails } from \"./data\";\nimport Image from \"next/image\";\n\ninterface MailClientProps {\n  defaultLayout?: number[];\n  defaultCollapsed?: boolean;\n  useRealEmails?: boolean;\n}\n\nexport default function MailClient({\n  defaultLayout,\n  defaultCollapsed,\n  useRealEmails = false,\n}: MailClientProps) {\n  return (\n    <>\n      <div className=\"md:hidden\">\n        <Image\n          src=\"/examples/mail-dark.png\"\n          width={1280}\n          height={727}\n          alt=\"Mail\"\n          className=\"hidden dark:block\"\n        />\n        <Image\n          src=\"/examples/mail-light.png\"\n          width={1280}\n          height={727}\n          alt=\"Mail\"\n          className=\"block dark:hidden\"\n        />\n      </div>\n      <div className=\"hidden h-full w-full flex-col md:flex\">\n        <Mail\n          accounts={accounts}\n          mails={mails}\n          defaultLayout={defaultLayout}\n          defaultCollapsed={defaultCollapsed}\n          navCollapsedSize={4}\n          useRealEmails={useRealEmails}\n        />\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAYe,SAAS,WAAW,EACjC,aAAa,EACb,gBAAgB,EAChB,gBAAgB,KAAK,EACL;IAChB,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,KAAI;wBACJ,WAAU;;;;;;kCAEZ,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,KAAI;wBACJ,WAAU;;;;;;;;;;;;0BAGd,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,4IAAA,CAAA,OAAI;oBACH,UAAU,8HAAA,CAAA,WAAQ;oBAClB,OAAO,8HAAA,CAAA,QAAK;oBACZ,eAAe;oBACf,kBAAkB;oBAClB,kBAAkB;oBAClB,eAAe;;;;;;;;;;;;;AAKzB;KAnCwB","debugId":null}},
    {"offset": {"line": 6996, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yDACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 7099, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/%28auth%29/mail/components/gmail-status.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { RefreshCw, Mail } from \"lucide-react\";\n\ninterface GmailAccount {\n  id: string;\n  name: string;\n  emailAddress: string;\n  createdAt: string;\n}\n\nexport default function GmailStatus() {\n  const [status, setStatus] = useState<{\n    isConnected: boolean;\n    count: number;\n    accounts: GmailAccount[];\n  } | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [refreshing, setRefreshing] = useState(false);\n\n  const checkStatus = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log(\"Checking Gmail connection status...\");\n\n      const response = await fetch(\"/api/accounts/gmail/status\");\n\n      if (!response.ok) {\n        throw new Error(\"Failed to check Gmail status\");\n      }\n\n      const data = await response.json();\n      setStatus(data);\n      console.log(\"Gmail connection status:\", data);\n    } catch (err) {\n      console.error(\"Error checking Gmail status:\", err);\n      setError(err instanceof Error ? err.message : \"Unknown error occurred\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refreshAccounts = async () => {\n    try {\n      setRefreshing(true);\n      console.log(\"Refreshing Gmail accounts...\");\n\n      // Trigger a refresh of accounts - you could implement an API endpoint for this\n      // For now, just re-check the status\n      await checkStatus();\n\n      console.log(\"Gmail accounts refreshed\");\n    } catch (err) {\n      console.error(\"Error refreshing Gmail accounts:\", err);\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  useEffect(() => {\n    checkStatus();\n  }, []);\n\n  return (\n    <Card className=\"w-full\">\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"flex items-center gap-2 text-lg\">\n              <Mail className=\"h-5 w-5\" />\n              Gmail Connection Status\n            </CardTitle>\n            <CardDescription>\n              Check if your Gmail account is connected\n            </CardDescription>\n          </div>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={refreshAccounts}\n            disabled={refreshing || loading}\n            className=\"ml-auto\"\n          >\n            <RefreshCw\n              className={`mr-2 h-4 w-4 ${refreshing ? \"animate-spin\" : \"\"}`}\n            />\n            Refresh\n          </Button>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {loading ? (\n          <p className=\"text-sm text-muted-foreground\">Loading status...</p>\n        ) : error ? (\n          <p className=\"text-sm text-red-500\">{error}</p>\n        ) : status ? (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"font-medium\">Status:</span>\n              {status.isConnected ? (\n                <Badge variant=\"success\" className=\"bg-green-500\">\n                  Connected\n                </Badge>\n              ) : (\n                <Badge variant=\"destructive\">Not Connected</Badge>\n              )}\n            </div>\n\n            <div>\n              <span className=\"font-medium\">\n                Connected accounts: {status.count}\n              </span>\n\n              {status.accounts.length > 0 ? (\n                <div className=\"mt-2 space-y-2\">\n                  {status.accounts.map((account) => (\n                    <div\n                      key={account.id}\n                      className=\"flex items-center justify-between rounded-md border p-2\"\n                    >\n                      <div>\n                        <div className=\"font-medium\">{account.name}</div>\n                        <div className=\"text-sm text-muted-foreground\">\n                          {account.emailAddress}\n                        </div>\n                      </div>\n                      <Badge variant=\"outline\" className=\"ml-auto\">\n                        Gmail\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"mt-2 text-sm text-muted-foreground\">\n                  No Gmail accounts connected\n                </p>\n              )}\n            </div>\n          </div>\n        ) : (\n          <p className=\"text-sm text-muted-foreground\">\n            Unable to determine status\n          </p>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAOA;AACA;AAAA;;;AAZA;;;;;;AAqBe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAIzB;IACV,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,cAAc;QAClB,IAAI;YACF,WAAW;YACX,SAAS;YACT,QAAQ,GAAG,CAAC;YAEZ,MAAM,WAAW,MAAM,MAAM;YAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,UAAU;YACV,QAAQ,GAAG,CAAC,4BAA4B;QAC1C,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI;YACF,cAAc;YACd,QAAQ,GAAG,CAAC;YAEZ,+EAA+E;YAC/E,oCAAoC;YACpC,MAAM;YAEN,QAAQ,GAAG,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,oCAAoC;QACpD,SAAU;YACR,cAAc;QAChB;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR;QACF;gCAAG,EAAE;IAEL,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC,mIAAA,CAAA,YAAS;oCAAC,WAAU;;sDACnB,6LAAC,qMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAG9B,6LAAC,mIAAA,CAAA,kBAAe;8CAAC;;;;;;;;;;;;sCAInB,6LAAC,qIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,UAAU,cAAc;4BACxB,WAAU;;8CAEV,6LAAC,mNAAA,CAAA,YAAS;oCACR,WAAW,CAAC,aAAa,EAAE,aAAa,iBAAiB,IAAI;;;;;;gCAC7D;;;;;;;;;;;;;;;;;;0BAKR,6LAAC,mIAAA,CAAA,cAAW;0BACT,wBACC,6LAAC;oBAAE,WAAU;8BAAgC;;;;;2BAC3C,sBACF,6LAAC;oBAAE,WAAU;8BAAwB;;;;;2BACnC,uBACF,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAAc;;;;;;gCAC7B,OAAO,WAAW,iBACjB,6LAAC,oIAAA,CAAA,QAAK;oCAAC,SAAQ;oCAAU,WAAU;8CAAe;;;;;yDAIlD,6LAAC,oIAAA,CAAA,QAAK;oCAAC,SAAQ;8CAAc;;;;;;;;;;;;sCAIjC,6LAAC;;8CACC,6LAAC;oCAAK,WAAU;;wCAAc;wCACP,OAAO,KAAK;;;;;;;gCAGlC,OAAO,QAAQ,CAAC,MAAM,GAAG,kBACxB,6LAAC;oCAAI,WAAU;8CACZ,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,wBACpB,6LAAC;4CAEC,WAAU;;8DAEV,6LAAC;;sEACC,6LAAC;4DAAI,WAAU;sEAAe,QAAQ,IAAI;;;;;;sEAC1C,6LAAC;4DAAI,WAAU;sEACZ,QAAQ,YAAY;;;;;;;;;;;;8DAGzB,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;oDAAU,WAAU;8DAAU;;;;;;;2CATxC,QAAQ,EAAE;;;;;;;;;yDAgBrB,6LAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;;;;;;yCAOxD,6LAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAOvD;GA1IwB;KAAA","debugId":null}},
    {"offset": {"line": 7397, "column": 0}, "map": {"version":3,"sources":["file:///Users/aveekpatra/Coding/lumi/src/app/%28auth%29/mail/gmail-debug.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport GmailStatus from \"./components/gmail-status\";\nimport { Button } from \"@/components/ui/button\";\nimport { BugIcon, XIcon } from \"lucide-react\";\n\nexport default function GmailDebug() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50\">\n      {isOpen ? (\n        <div className=\"w-96 rounded-lg border bg-background shadow-lg\">\n          <div className=\"flex items-center justify-between border-b p-3\">\n            <div className=\"flex items-center\">\n              <BugIcon className=\"mr-2 h-4 w-4\" />\n              <h3 className=\"font-medium\">Gmail Debug</h3>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => setIsOpen(false)}\n              className=\"h-8 w-8\"\n            >\n              <XIcon className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <div className=\"p-3\">\n            <GmailStatus />\n          </div>\n        </div>\n      ) : (\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-500 hover:bg-blue-600\"\n        >\n          <BugIcon className=\"mr-2 h-4 w-4\" />\n          Check Gmail Status\n        </Button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,qBACE,6LAAC;QAAI,WAAU;kBACZ,uBACC,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,uMAAA,CAAA,UAAO;oCAAC,WAAU;;;;;;8CACnB,6LAAC;oCAAG,WAAU;8CAAc;;;;;;;;;;;;sCAE9B,6LAAC,qIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS,IAAM,UAAU;4BACzB,WAAU;sCAEV,cAAA,6LAAC,mMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAGrB,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,mKAAA,CAAA,UAAW;;;;;;;;;;;;;;;iCAIhB,6LAAC,qIAAA,CAAA,SAAM;YACL,SAAS,IAAM,UAAU;YACzB,WAAU;;8BAEV,6LAAC,uMAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;gBAAiB;;;;;;;;;;;;AAM9C;GApCwB;KAAA","debugId":null}}]
}