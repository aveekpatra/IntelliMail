{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Loader2 } from \"lucide-react\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n  VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n  isLoading?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, isLoading = false, children, disabled, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        {children}\n      </Comp>\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAOA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAUF,MAAM,uBAAS,8JAAM,UAAU,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,YAAY,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC/F,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACL,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,2BAAa,6LAAC,oNAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;YAChC;;;;;;;AAGP;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { MoonIcon, SunIcon } from \"@radix-ui/react-icons\"\nimport { useTheme } from \"next-themes\"\n\nimport { Button } from \"@/components/ui/button\"\n\nexport function ModeToggle() {\n    const { theme, setTheme } = useTheme()\n\n    const toggleTheme = () => {\n        setTheme(theme === \"light\" ? \"dark\" : \"light\")\n    }\n\n    return (\n        <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={toggleTheme}\n            aria-label=\"Toggle theme\"\n        >\n            <SunIcon className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n            <MoonIcon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n        </Button>\n    )\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;AAQO,SAAS;;IACZ,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,mJAAA,CAAA,WAAQ,AAAD;IAEnC,MAAM,cAAc;QAChB,SAAS,UAAU,UAAU,SAAS;IAC1C;IAEA,qBACI,6LAAC,qIAAA,CAAA,SAAM;QACH,SAAQ;QACR,MAAK;QACL,SAAS;QACT,cAAW;;0BAEX,6LAAC,mLAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;0BACnB,6LAAC,mLAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;;;;;;;AAGhC;GAlBgB;;QACgB,mJAAA,CAAA,WAAQ;;;KADxB"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;;;AAOA,MAAM,SAAS,CAAC,EACd,wBAAwB,IAAI,EAC5B,GAAG,OAC+C,iBAClD,6LAAC,yIAAA,CAAA,SAAe,CAAC,IAAI;QACnB,uBAAuB;QACtB,GAAG,KAAK;;;;;;KANP;AASN,OAAO,WAAW,GAAG;AAErB,MAAM,gBAAgB,yIAAA,CAAA,SAAe,CAAC,OAAO;AAE7C,MAAM,eAAe,yIAAA,CAAA,SAAe,CAAC,MAAM;AAE3C,MAAM,cAAc,yIAAA,CAAA,SAAe,CAAC,KAAK;AAEzC,MAAM,8BAAgB,8JAAM,UAAU,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yIAAA,CAAA,SAAe,CAAC,OAAO;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kCAAkC;QAC/C,GAAG,KAAK;;;;;;MAPP;AAUN,cAAc,WAAW,GAAG,yIAAA,CAAA,SAAe,CAAC,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,8JAAM,UAAU,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yIAAA,CAAA,SAAe,CAAC,OAAO;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kGACA;gBAED,GAAG,KAAK;;kCAET,6LAAC;wBAAI,WAAU;;;;;;oBACd;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG;AAE5B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C;QAC1D,GAAG,KAAK;;;;;;MANP;AASN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,mCAAmC;QAChD,GAAG,KAAK;;;;;;MANP;AASN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yIAAA,CAAA,SAAe,CAAC,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,yIAAA,CAAA,SAAe,CAAC,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,8JAAM,UAAU,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yIAAA,CAAA,SAAe,CAAC,WAAW;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,yIAAA,CAAA,SAAe,CAAC,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/email-editor/ghost-text.tsx"],"sourcesContent":["import { NodeViewWrapper, NodeViewContent } from '@tiptap/react'\nimport React from 'react'\n\nexport default props => {\n    return (\n        <NodeViewWrapper as='span'>\n            <NodeViewContent className=\"text-gray-300 select-none !inline\" as='span' >\n                {props.node.attrs.content}\n            </NodeViewContent>\n        </NodeViewWrapper>\n    )\n}"],"names":[],"mappings":";;;;;;;;uCAGe,CAAA;IACX,qBACI,6LAAC,qKAAA,CAAA,kBAAe;QAAC,IAAG;kBAChB,cAAA,6LAAC,qKAAA,CAAA,kBAAe;YAAC,WAAU;YAAoC,IAAG;sBAC7D,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO;;;;;;;;;;;AAIzC"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/email-editor/extension.ts"],"sourcesContent":["import { mergeAttributes, Node } from '@tiptap/core'\nimport { ReactNodeViewRenderer } from '@tiptap/react'\nimport GhostText from './ghost-text'\n\nexport default Node.create({\n    name: 'ghostText',\n\n    // content: 'inline*',\n\n    group: 'inline',\n    inline: true,\n    selectable: false,\n    atom: true,\n\n\n\n    addAttributes() {\n        return {\n            content: {\n                default: '',\n            },\n        }\n    },\n\n    parseHTML() {\n        return [\n            {\n                tag: 'ghost-text',\n            },\n        ]\n    },\n\n\n    renderHTML({ HTMLAttributes }) {\n        return ['span', mergeAttributes(HTMLAttributes, { 'data-type': 'ghost-text' }), 0]\n    },\n\n\n    addNodeView() {\n        return ReactNodeViewRenderer(GhostText)\n    },\n})\n"],"names":[],"mappings":";;;;;;;;;;uCAIe,oJAAA,CAAA,OAAI,CAAC,MAAM,CAAC;IACvB,MAAM;IAEN,sBAAsB;IAEtB,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,MAAM;IAIN;QACI,OAAO;YACH,SAAS;gBACL,SAAS;YACb;QACJ;IACJ;IAEA;QACI,OAAO;YACH;gBACI,KAAK;YACT;SACH;IACL;IAGA,YAAW,EAAE,cAAc,EAAE;QACzB,OAAO;YAAC;YAAQ,CAAA,GAAA,oJAAA,CAAA,kBAAe,AAAD,EAAE,gBAAgB;gBAAE,aAAa;YAAa;YAAI;SAAE;IACtF;IAGA;QACI,OAAO,CAAA,GAAA,qKAAA,CAAA,wBAAqB,AAAD,EAAE,wKAAA,CAAA,UAAS;IAC1C;AACJ"}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/email-editor/menu-bar.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport type { Editor } from \"@tiptap/react\";\nimport {\n    Bold,\n    Code,\n    CodepenIcon,\n    Heading1,\n    Heading2,\n    Heading3,\n    Heading4,\n    Heading5,\n    Heading6,\n    Italic,\n    List,\n    ListOrdered,\n    Quote,\n    Redo,\n    Strikethrough,\n    Undo,\n} from \"lucide-react\";\n\nconst TipTapMenuBar = ({ editor }: { editor: Editor }) => {\n    return (\n        <div className=\"flex flex-wrap gap-2\">\n            <button\n                onClick={() => editor.chain().focus().toggleBold().run()}\n                disabled={!editor.can().chain().focus().toggleBold().run()}\n                className={editor.isActive(\"bold\") ? \"is-active\" : \"\"}\n            >\n                <Bold className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleItalic().run()}\n                disabled={!editor.can().chain().focus().toggleItalic().run()}\n                className={editor.isActive(\"italic\") ? \"is-active\" : \"\"}\n            >\n                <Italic className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleStrike().run()}\n                disabled={!editor.can().chain().focus().toggleStrike().run()}\n                className={editor.isActive(\"strike\") ? \"is-active\" : \"\"}\n            >\n                <Strikethrough className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleCode().run()}\n                disabled={!editor.can().chain().focus().toggleCode().run()}\n                className={editor.isActive(\"code\") ? \"is-active\" : \"\"}\n            >\n                <Code className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}\n                className={editor.isActive(\"heading\", { level: 1 }) ? \"is-active\" : \"\"}\n            >\n                <Heading1 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\n                className={editor.isActive(\"heading\", { level: 2 }) ? \"is-active\" : \"\"}\n            >\n                <Heading2 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 3 }).run()}\n                className={editor.isActive(\"heading\", { level: 3 }) ? \"is-active\" : \"\"}\n            >\n                <Heading3 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 4 }).run()}\n                className={editor.isActive(\"heading\", { level: 4 }) ? \"is-active\" : \"\"}\n            >\n                <Heading4 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 5 }).run()}\n                className={editor.isActive(\"heading\", { level: 5 }) ? \"is-active\" : \"\"}\n            >\n                <Heading5 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleHeading({ level: 6 }).run()}\n                className={editor.isActive(\"heading\", { level: 6 }) ? \"is-active\" : \"\"}\n            >\n                <Heading6 className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleBulletList().run()}\n                className={editor.isActive(\"bulletList\") ? \"is-active\" : \"\"}\n            >\n                <List className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleOrderedList().run()}\n                className={editor.isActive(\"orderedList\") ? \"is-active\" : \"\"}\n            >\n                <ListOrdered className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().toggleBlockquote().run()}\n                className={editor.isActive(\"blockquote\") ? \"is-active\" : \"\"}\n            >\n                <Quote className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().undo().run()}\n                disabled={!editor.can().chain().focus().undo().run()}\n            >\n                <Undo className=\"size-4 text-secondary-foreground\" />\n            </button>\n            <button\n                onClick={() => editor.chain().focus().redo().run()}\n                disabled={!editor.can().chain().focus().redo().run()}\n            >\n                <Redo className=\"size-4 text-secondary-foreground\" />\n            </button>\n        </div>\n    );\n};\n\nexport default TipTapMenuBar;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 665, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AAOA,MAAM,0BAAY,8JAAM,UAAU,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,yKAAmB,IAAI;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,yKAAmB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/email-editor/tag-input.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Avatar from 'react-avatar';\nimport Select from 'react-select';\n\ntype TagInputProps = {\n    suggestions: string[];\n    defaultValues?: { label: string, value: string }[];\n    placeholder: string;\n    label: string;\n\n    onChange: (values: { label: string, value: string }[]) => void;\n    value: { label: string, value: string }[];\n};\n\nconst TagInput: React.FC<TagInputProps> = ({ suggestions, defaultValues = [], label, onChange, value }) => {\n    const [input, setInput] = useState('');\n\n    const options = suggestions.map(suggestion => ({\n        label: (\n            <span className='flex items-center gap-2'>\n                <Avatar name={suggestion} size='25' textSizeRatio={2} round={true} />\n                {suggestion}\n            </span>\n        ), value: suggestion\n    }));\n\n    return <div className=\"border rounded-md flex items-center\">\n        <span className='ml-3 text-sm text-gray-500'>{label}</span>\n        <Select\n            value={value}\n            // @ts-ignore\n            onChange={onChange}\n            className='w-full flex-1'\n            isMulti\n            onInputChange={setInput}\n            defaultValue={defaultValues}\n            placeholder={''}\n            options={input ? options.concat({\n                label: (\n                    <span className='flex items-center gap-2'>\n                        <Avatar name={input} size='25' textSizeRatio={2} round={true} />\n                        {input}\n                    </span>\n                ), value: input\n            }) : options}\n            classNames={{\n                control: () => {\n                    return '!border-none !outline-none !ring-0 !shadow-none focus:border-none focus:outline-none focus:ring-0 focus:shadow-none dark:bg-transparent'\n                },\n                multiValue: () => {\n                    return 'dark:!bg-gray-700'\n                },\n                multiValueLabel: () => {\n                    return 'dark:text-white dark:bg-gray-700 rounded-md'\n                }\n            }}\n            classNamePrefix=\"select\"\n        />\n    </div>\n};\n\nexport default TagInput;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAcA,MAAM,WAAoC,CAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;;IAClG,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,UAAU,YAAY,GAAG,CAAC,CAAA,aAAc,CAAC;YAC3C,qBACI,6LAAC;gBAAK,WAAU;;kCACZ,6LAAC,iKAAA,CAAA,UAAM;wBAAC,MAAM;wBAAY,MAAK;wBAAK,eAAe;wBAAG,OAAO;;;;;;oBAC5D;;;;;;;YAEN,OAAO;QACd,CAAC;IAED,qBAAO,6LAAC;QAAI,WAAU;;0BAClB,6LAAC;gBAAK,WAAU;0BAA8B;;;;;;0BAC9C,6LAAC,oLAAA,CAAA,UAAM;gBACH,OAAO;gBACP,aAAa;gBACb,UAAU;gBACV,WAAU;gBACV,OAAO;gBACP,eAAe;gBACf,cAAc;gBACd,aAAa;gBACb,SAAS,QAAQ,QAAQ,MAAM,CAAC;oBAC5B,qBACI,6LAAC;wBAAK,WAAU;;0CACZ,6LAAC,iKAAA,CAAA,UAAM;gCAAC,MAAM;gCAAO,MAAK;gCAAK,eAAe;gCAAG,OAAO;;;;;;4BACvD;;;;;;;oBAEN,OAAO;gBACd,KAAK;gBACL,YAAY;oBACR,SAAS;wBACL,OAAO;oBACX;oBACA,YAAY;wBACR,OAAO;oBACX;oBACA,iBAAiB;wBACb,OAAO;oBACX;gBACJ;gBACA,iBAAgB;;;;;;;;;;;;AAG5B;GA7CM;KAAA;uCA+CS"}},
    {"offset": {"line": 816, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 821, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;AAQA,MAAM,SAAS,sKAAgB,IAAI;AAEnC,MAAM,gBAAgB,sKAAgB,OAAO;AAE7C,MAAM,eAAe,sKAAgB,MAAM;AAE3C,MAAM,cAAc,sKAAgB,KAAK;AAEzC,MAAM,8BAAgB,8JAAM,UAAU,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,OAAO;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,sKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,8JAAM,UAAU,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,sKAAgB,OAAO;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,sKAAgB,KAAK;wBAAC,WAAU;;0CAC/B,6LAAC,mLAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;0CACtB,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,sKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,sKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,8JAAM,UAAU,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,WAAW;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,sKAAgB,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 964, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 969, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;;;;;;AAOA,MAAM,yBAAW,8JAAM,UAAU,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gQACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 996, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1001, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/lib/turndown.ts"],"sourcesContent":["import TurndownService from 'turndown';\n\nexport const turndown = new TurndownService({\n    headingStyle: 'atx',\n    codeBlockStyle: 'fenced',\n    emDelimiter: '*',\n    strongDelimiter: '**',\n    bulletListMarker: '-',\n    linkStyle: 'inlined',\n});\n\n// Remove link tags\nturndown.addRule('linkRemover', {\n    filter: 'a',\n    replacement: (content) => content,\n});\n\n// Remove style tags\nturndown.addRule('styleRemover', {\n    filter: 'style',\n    replacement: () => '',\n});\n\n// Remove script tags\nturndown.addRule('scriptRemover', {\n    filter: 'script',\n    replacement: () => '',\n});\n\nturndown.addRule('imageRemover', {\n    filter: 'img',\n    replacement: (content) => content,\n});\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,WAAW,IAAI,+JAAA,CAAA,UAAe,CAAC;IACxC,cAAc;IACd,gBAAgB;IAChB,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,WAAW;AACf;AAEA,mBAAmB;AACnB,SAAS,OAAO,CAAC,eAAe;IAC5B,QAAQ;IACR,aAAa,CAAC,UAAY;AAC9B;AAEA,oBAAoB;AACpB,SAAS,OAAO,CAAC,gBAAgB;IAC7B,QAAQ;IACR,aAAa,IAAM;AACvB;AAEA,qBAAqB;AACrB,SAAS,OAAO,CAAC,iBAAiB;IAC9B,QAAQ;IACR,aAAa,IAAM;AACvB;AAEA,SAAS,OAAO,CAAC,gBAAgB;IAC7B,QAAQ;IACR,aAAa,CAAC,UAAY;AAC9B"}},
    {"offset": {"line": 1034, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1039, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/email-editor/ai-compose-button.tsx"],"sourcesContent":["'use client'\nimport TurndownService from 'turndown'\nimport { Button } from \"@/components/ui/button\"\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from \"@/components/ui/dialog\"\n\nimport React from 'react'\nimport { generateEmail } from \"./action\"\nimport { readStreamableValue } from \"ai/rsc\"\nimport { Bot } from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport useThreads from \"../../use-threads\"\nimport { useThread } from \"../../use-thread\"\nimport { turndown } from '@/lib/turndown'\n\ntype Props = {\n    onGenerate: (value: string) => void\n    isComposing?: boolean\n}\n\nconst AIComposeButton = (props: Props) => {\n    const [prompt, setPrompt] = React.useState('')\n    const [open, setOpen] = React.useState(false)\n    const { account, threads } = useThreads()\n    const [threadId] = useThread();\n    const thread = threads?.find(t => t.id === threadId)\n    const aiGenerate = async (prompt: string) => {\n        let context: string | undefined = ''\n        if (!props.isComposing) {\n            context = thread?.emails.map(m => `Subject: ${m.subject}\\nFrom: ${m.from.address}\\n\\n${turndown.turndown(m.body ?? m.bodySnippet ?? '')}`).join('\\n')\n        }\n\n        const { output } = await generateEmail(context + `\\n\\nMy name is: ${account?.name}`, prompt)\n\n        for await (const delta of readStreamableValue(output)) {\n            if (delta) {\n                props.onGenerate(delta);\n            }\n        }\n\n    }\n    return (\n        <Dialog open={open} onOpenChange={setOpen}>\n            <DialogTrigger>\n                <Button onClick={() => setOpen(true)} size='icon' variant={'outline'}>\n                    <Bot className=\"size-5\" />\n                </Button>\n            </DialogTrigger>\n            <DialogContent>\n                <DialogHeader>\n                    <DialogTitle>AI Compose</DialogTitle>\n                    <DialogDescription>\n                        AI will compose an email based on the context of your previous emails.\n                    </DialogDescription>\n                    <div className=\"h-2\"></div>\n                    <Textarea\n                        placeholder=\"What would you like to compose?\"\n                        value={prompt}\n                        onChange={(e) => setPrompt(e.target.value)}\n                    />\n                    <div className=\"h-2\"></div>\n                    <Button onClick={() => { aiGenerate(prompt); setOpen(false); setPrompt('') }}>Generate</Button>\n                </DialogHeader>\n            </DialogContent>\n        </Dialog>\n\n    )\n}\n\nexport default AIComposeButton"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;AA2BA,MAAM,kBAAkB,CAAC;;IACrB,MAAM,CAAC,QAAQ,UAAU,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IACvC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,UAAU,AAAD;IACtC,MAAM,CAAC,SAAS,GAAG,CAAA,GAAA,sIAAA,CAAA,YAAS,AAAD;IAC3B,MAAM,SAAS,SAAS,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK;IAC3C,MAAM,aAAa,OAAO;QACtB,IAAI,UAA8B;QAClC,IAAI,CAAC,MAAM,WAAW,EAAE;YACpB,UAAU,QAAQ,OAAO,IAAI,CAAA,IAAK,CAAC,SAAS,EAAE,EAAE,OAAO,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,yHAAA,CAAA,WAAQ,CAAC,QAAQ,CAAC,EAAE,IAAI,IAAI,EAAE,WAAW,IAAI,IAAI,CAAC,EAAE,KAAK;QACpJ;QAEA,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,gKAAA,CAAA,gBAAa,AAAD,EAAE,UAAU,CAAC,gBAAgB,EAAE,SAAS,KAAK,CAAC,EAAE;QAErF,WAAW,MAAM,SAAS,CAAA,GAAA,sJAAA,CAAA,sBAAmB,AAAD,EAAE,QAAS;YACnD,IAAI,OAAO;gBACP,MAAM,UAAU,CAAC;YACrB;QACJ;IAEJ;IACA,qBACI,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;;0BAC9B,6LAAC,qIAAA,CAAA,gBAAa;0BACV,cAAA,6LAAC,qIAAA,CAAA,SAAM;oBAAC,SAAS,IAAM,QAAQ;oBAAO,MAAK;oBAAO,SAAS;8BACvD,cAAA,6LAAC,mMAAA,CAAA,MAAG;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGvB,6LAAC,qIAAA,CAAA,gBAAa;0BACV,cAAA,6LAAC,qIAAA,CAAA,eAAY;;sCACT,6LAAC,qIAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,6LAAC,qIAAA,CAAA,oBAAiB;sCAAC;;;;;;sCAGnB,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC,uIAAA,CAAA,WAAQ;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;sCAE7C,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC,qIAAA,CAAA,SAAM;4BAAC,SAAS;gCAAQ,WAAW;gCAAS,QAAQ;gCAAQ,UAAU;4BAAI;sCAAG;;;;;;;;;;;;;;;;;;;;;;;AAMlG;GA/CM;;QAG2B,wIAAA,CAAA,UAAU;QACpB,sIAAA,CAAA,YAAS;;;KAJ1B;uCAiDS"}},
    {"offset": {"line": 1192, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1197, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/email-editor/index.tsx"],"sourcesContent":["\"use client\";\nimport GhostExtension from \"./extension\";\nimport React from \"react\";\nimport { EditorContent, useEditor } from \"@tiptap/react\";\nimport { StarterKit } from \"@tiptap/starter-kit\";\nimport TipTapMenuBar from \"./menu-bar\";\nimport Text from \"@tiptap/extension-text\";\nimport { Button } from \"@/components/ui/button\";\n\nimport { generate } from './action';\nimport { readStreamableValue } from 'ai/rsc';\nimport { Separator } from \"@/components/ui/separator\";\nimport { useThread } from \"../../use-thread\";\nimport useThreads from \"../../use-threads\";\nimport { api } from \"@/trpc/react\";\nimport { Input } from \"@/components/ui/input\";\nimport TagInput from \"./tag-input\";\nimport { useAutoAnimate } from \"@formkit/auto-animate/react\";\nimport { useLocalStorage } from \"usehooks-ts\";\nimport { Bot } from \"lucide-react\";\nimport AIComposeButton from \"./ai-compose-button\";\n\ntype EmailEditorProps = {\n    toValues: { label: string, value: string }[];\n    ccValues: { label: string, value: string }[];\n\n    subject: string;\n    setSubject: (subject: string) => void;\n    to: string[]\n    handleSend: (value: string) => void;\n    isSending: boolean;\n\n    onToChange: (values: { label: string, value: string }[]) => void;\n    onCcChange: (values: { label: string, value: string }[]) => void;\n\n    defaultToolbarExpand?: boolean;\n}\n\nconst EmailEditor = ({ toValues, ccValues, subject, setSubject, to, handleSend, isSending, onToChange, onCcChange, defaultToolbarExpand }: EmailEditorProps) => {\n\n    const [ref] = useAutoAnimate();\n    const [accountId] = useLocalStorage('accountId', '');\n    const { data: suggestions } = api.mail.getEmailSuggestions.useQuery({ accountId: accountId, query: '' }, { enabled: !!accountId });\n\n\n    const [expanded, setExpanded] = React.useState(defaultToolbarExpand ?? false);\n\n    const [generation, setGeneration] = React.useState('');\n\n    const aiGenerate = async (prompt: string) => {\n        const { output } = await generate(prompt)\n\n        for await (const delta of readStreamableValue(output)) {\n            if (delta) {\n                setGeneration(delta);\n            }\n        }\n\n    }\n\n\n\n    const customText = Text.extend({\n        addKeyboardShortcuts() {\n            return {\n                \"Meta-j\": () => {\n                    aiGenerate(this.editor.getText());\n                    return true;\n                },\n            };\n        },\n    });\n\n\n    const editor = useEditor({\n        autofocus: false,\n        extensions: [StarterKit, customText, GhostExtension],\n        editorProps: {\n            attributes: {\n                placeholder: \"Write your email here...\"\n            }\n        },\n        onUpdate: ({ editor, transaction }) => {\n            setValue(editor.getHTML())\n        }\n    });\n\n    React.useEffect(() => {\n        if (typeof window === 'undefined') return;\n\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.key === 'Enter' && editor && !['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement?.tagName || '')) {\n                editor.commands.focus();\n            }\n            if (event.key === 'Escape' && editor) {\n                editor.commands.blur();\n            }\n        };\n\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return () => {\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [editor]);\n\n    React.useEffect(() => {\n        if (!generation || !editor) return;\n        editor.commands.insertContent(generation)\n    }, [generation, editor]);\n\n    const [value, setValue] = React.useState('');\n\n\n\n\n    return (\n        <div>\n            <div className=\"flex p-4 py-2 border-b\">\n                {editor && <TipTapMenuBar editor={editor} />}\n            </div>\n\n            <div ref={ref} className=\"p-4 pb-0 space-y-2\">\n                {expanded && (\n                    <>\n                        <TagInput suggestions={suggestions?.map(s => s.address) || []} value={toValues} placeholder=\"Add tags\" label=\"To\" onChange={onToChange} />\n                        <TagInput suggestions={suggestions?.map(s => s.address) || []} value={ccValues} placeholder=\"Add tags\" label=\"Cc\" onChange={onCcChange} />\n                        <Input id=\"subject\" className=\"w-full\" placeholder=\"Subject\" value={subject} onChange={e => setSubject(e.target.value)} />\n                    </>\n                )}\n                <div className=\"flex items-center gap-2\">\n                    <div className=\"cursor-pointer\" onClick={() => setExpanded(e => !e)}>\n                        <span className=\"text-green-600 font-medium\">\n                            Draft{' '}\n                        </span>\n                        <span>\n                            to {to.join(', ')}\n                        </span>\n                    </div>\n                    <AIComposeButton\n                        isComposing={defaultToolbarExpand}\n                        onGenerate={setGeneration}\n                    />\n                </div>\n            </div>\n\n            <div className=\"prose w-full px-4\">\n                <EditorContent value={value} editor={editor} placeholder=\"Write your email here...\" />\n            </div>\n            <Separator />\n            <div className=\"py-3 px-4 flex items-center justify-between\">\n                <span className=\"text-sm\">\n                    Tip: Press{\" \"}\n                    <kbd className=\"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg\">\n                        Cmd + J\n                    </kbd>{\" \"}\n                    for AI autocomplete\n                </span>\n                <Button onClick={async () => { editor?.commands.clearContent(); await handleSend(value) }} isLoading={isSending}>\n                    Send\n                </Button>\n            </div>\n        </div>\n    );\n};\n\nexport default EmailEditor;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;AAsCA,MAAM,cAAc,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,oBAAoB,EAAoB;;IAEvJ,MAAM,CAAC,IAAI,GAAG,CAAA,GAAA,kKAAA,CAAA,iBAAc,AAAD;IAC3B,MAAM,CAAC,UAAU,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,aAAa;IACjD,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC;QAAE,WAAW;QAAW,OAAO;IAAG,GAAG;QAAE,SAAS,CAAC,CAAC;IAAU;IAGhI,MAAM,CAAC,UAAU,YAAY,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC,wBAAwB;IAEvE,MAAM,CAAC,YAAY,cAAc,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IAEnD,MAAM,aAAa,OAAO;QACtB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,gKAAA,CAAA,WAAQ,AAAD,EAAE;QAElC,WAAW,MAAM,SAAS,CAAA,GAAA,sJAAA,CAAA,sBAAmB,AAAD,EAAE,QAAS;YACnD,IAAI,OAAO;gBACP,cAAc;YAClB;QACJ;IAEJ;IAIA,MAAM,aAAa,iKAAA,CAAA,UAAI,CAAC,MAAM,CAAC;QAC3B;YACI,OAAO;gBACH,UAAU;oBACN,WAAW,IAAI,CAAC,MAAM,CAAC,OAAO;oBAC9B,OAAO;gBACX;YACJ;QACJ;IACJ;IAGA,MAAM,SAAS,CAAA,GAAA,qKAAA,CAAA,YAAS,AAAD,EAAE;QACrB,WAAW;QACX,YAAY;YAAC,8JAAA,CAAA,aAAU;YAAE;YAAY,mKAAA,CAAA,UAAc;SAAC;QACpD,aAAa;YACT,YAAY;gBACR,aAAa;YACjB;QACJ;QACA,UAAU,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE;YAC9B,SAAS,OAAO,OAAO;QAC3B;IACJ;IAEA,6JAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACZ,IAAI,OAAO,WAAW,aAAa;QAEnC,MAAM,gBAAgB,CAAC;YACnB,IAAI,MAAM,GAAG,KAAK,WAAW,UAAU,CAAC;gBAAC;gBAAS;gBAAY;aAAS,CAAC,QAAQ,CAAC,SAAS,aAAa,EAAE,WAAW,KAAK;gBACrH,OAAO,QAAQ,CAAC,KAAK;YACzB;YACA,IAAI,MAAM,GAAG,KAAK,YAAY,QAAQ;gBAClC,OAAO,QAAQ,CAAC,IAAI;YACxB;QACJ;QAEA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO;YACH,OAAO,mBAAmB,CAAC,WAAW;QAC1C;IACJ,GAAG;QAAC;KAAO;IAEX,6JAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACZ,IAAI,CAAC,cAAc,CAAC,QAAQ;QAC5B,OAAO,QAAQ,CAAC,aAAa,CAAC;IAClC,GAAG;QAAC;QAAY;KAAO;IAEvB,MAAM,CAAC,OAAO,SAAS,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IAKzC,qBACI,6LAAC;;0BACG,6LAAC;gBAAI,WAAU;0BACV,wBAAU,6LAAC,sKAAA,CAAA,UAAa;oBAAC,QAAQ;;;;;;;;;;;0BAGtC,6LAAC;gBAAI,KAAK;gBAAK,WAAU;;oBACpB,0BACG;;0CACI,6LAAC,uKAAA,CAAA,UAAQ;gCAAC,aAAa,aAAa,IAAI,CAAA,IAAK,EAAE,OAAO,KAAK,EAAE;gCAAE,OAAO;gCAAU,aAAY;gCAAW,OAAM;gCAAK,UAAU;;;;;;0CAC5H,6LAAC,uKAAA,CAAA,UAAQ;gCAAC,aAAa,aAAa,IAAI,CAAA,IAAK,EAAE,OAAO,KAAK,EAAE;gCAAE,OAAO;gCAAU,aAAY;gCAAW,OAAM;gCAAK,UAAU;;;;;;0CAC5H,6LAAC,oIAAA,CAAA,QAAK;gCAAC,IAAG;gCAAU,WAAU;gCAAS,aAAY;gCAAU,OAAO;gCAAS,UAAU,CAAA,IAAK,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;;;kCAG7H,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;gCAAiB,SAAS,IAAM,YAAY,CAAA,IAAK,CAAC;;kDAC7D,6LAAC;wCAAK,WAAU;;4CAA6B;4CACnC;;;;;;;kDAEV,6LAAC;;4CAAK;4CACE,GAAG,IAAI,CAAC;;;;;;;;;;;;;0CAGpB,6LAAC,kLAAA,CAAA,UAAe;gCACZ,aAAa;gCACb,YAAY;;;;;;;;;;;;;;;;;;0BAKxB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,qKAAA,CAAA,gBAAa;oBAAC,OAAO;oBAAO,QAAQ;oBAAQ,aAAY;;;;;;;;;;;0BAE7D,6LAAC,wIAAA,CAAA,YAAS;;;;;0BACV,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAK,WAAU;;4BAAU;4BACX;0CACX,6LAAC;gCAAI,WAAU;0CAAgG;;;;;;4BAExG;4BAAI;;;;;;;kCAGf,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAS;4BAAc,QAAQ,SAAS;4BAAgB,MAAM,WAAW;wBAAO;wBAAG,WAAW;kCAAW;;;;;;;;;;;;;;;;;;AAMjI;GA7HM;;QAEY,kKAAA,CAAA,iBAAc;QACR,kJAAA,CAAA,kBAAe;QAiCpB,qKAAA,CAAA,YAAS;;;KApCtB;uCA+HS"}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1509, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/compose-button.tsx"],"sourcesContent":["'use client'\nimport { Button } from \"@/components/ui/button\"\nimport {\n    Drawer,\n    DrawerClose,\n    DrawerContent,\n    DrawerDescription,\n    DrawerFooter,\n    DrawerHeader,\n    DrawerTitle,\n    DrawerTrigger,\n} from \"@/components/ui/drawer\"\nimport { Pencil } from \"lucide-react\"\n\nimport React from 'react'\nimport EmailEditor from \"./email-editor\"\nimport { api } from \"@/trpc/react\"\nimport { useLocalStorage } from \"usehooks-ts\"\nimport { toast } from \"sonner\"\n\nconst ComposeButton = () => {\n    const [open, setOpen] = React.useState(false)\n    const [accountId] = useLocalStorage('accountId', '')\n    const [toValues, setToValues] = React.useState<{ label: string; value: string; }[]>([])\n    const [ccValues, setCcValues] = React.useState<{ label: string; value: string; }[]>([])\n    const [subject, setSubject] = React.useState<string>('')\n    const { data: account } = api.mail.getMyAccount.useQuery({ accountId })\n\n\n    React.useEffect(() => {\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.key === 'c' && (event.ctrlKey || event.metaKey) && !['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement?.tagName || '')) {\n                event.preventDefault();\n                setOpen(true);\n            }\n        };\n\n        window.addEventListener('keydown', handleKeyDown);\n\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n        };\n    }, []);\n\n    const sendEmail = api.mail.sendEmail.useMutation()\n\n    const handleSend = async (value: string) => {\n        console.log(account)\n        console.log({ value })\n        if (!account) return\n        sendEmail.mutate({\n            accountId,\n            threadId: undefined,\n            body: value,\n            subject,\n            from: { name: account?.name ?? 'Me', address: account?.emailAddress ?? 'me@example.com' },\n            to: toValues.map(to => ({ name: to.value, address: to.value })),\n            cc: ccValues.map(cc => ({ name: cc.value, address: cc.value })),\n            replyTo: { name: account?.name ?? 'Me', address: account?.emailAddress ?? 'me@example.com' },\n            inReplyTo: undefined,\n        }, {\n            onSuccess: () => {\n                toast.success(\"Email sent\")\n                setOpen(false)\n            },\n            onError: (error) => {\n                console.log(error)\n                toast.error(error.message)\n            }\n        })\n    }\n\n\n    return (\n        <Drawer open={open} onOpenChange={setOpen}>\n            <DrawerTrigger asChild>\n                <Button>\n                    <Pencil className='size-4 mr-1' />\n                    Compose\n                </Button>\n            </DrawerTrigger>\n            <DrawerContent className=\"\">\n                <DrawerHeader>\n                    <DrawerTitle>Compose Email</DrawerTitle>\n                    <EmailEditor\n                        toValues={toValues}\n                        ccValues={ccValues}\n\n                        onToChange={(values) => {\n                            setToValues(values)\n                        }}\n                        onCcChange={(values) => {\n                            setCcValues(values)\n                        }}\n\n                        subject={subject}\n                        setSubject={setSubject}\n\n                        to={toValues.map(to => to.value)}\n                        handleSend={handleSend}\n                        isSending={sendEmail.isPending}\n\n                        defaultToolbarExpand\n                    />\n                </DrawerHeader>\n            </DrawerContent>\n\n        </Drawer>\n    )\n}\n\nexport default ComposeButton"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1684, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1689, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/webhook-debugger.tsx"],"sourcesContent":["'use client'\nimport { Button } from \"@/components/ui/button\"\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport { api } from \"@/trpc/react\"\nimport { Webhook } from \"lucide-react\"\n\nimport React from 'react'\nimport { useLocalStorage } from \"usehooks-ts\"\nimport { Input } from \"@/components/ui/input\"\nimport { toast } from \"sonner\"\n\nconst WebhookDebugger = () => {\n    const [accountId, setAccountId] = useLocalStorage('accountId', '')\n    const { data, isLoading, refetch } = api.webhooks.getWebhooks.useQuery({\n        accountId\n    })\n\n    const createWebhook = api.webhooks.createWebhook.useMutation()\n    const deleteWebhook = api.webhooks.deleteWebhook.useMutation()\n\n    const [newWebhookUrl, setNewWebhookUrl] = React.useState('')\n\n    const handleCreateWebhook = async () => {\n        toast.promise(\n            createWebhook.mutateAsync({\n                accountId,\n                notificationUrl: newWebhookUrl\n            }),\n            {\n                loading: 'Creating webhook...',\n                success: () => {\n                    setNewWebhookUrl('')\n                    refetch()\n                    return 'Webhook created!'\n                },\n                error: err => {\n                    console.error(err)\n                    return 'Error creating webhook'\n                }\n            }\n        )\n    }\n\n    const handleDeleteWebhook = async (webhookId: string) => {\n        toast.promise(\n            deleteWebhook.mutateAsync({\n                accountId,\n                webhookId\n            }),\n            {\n                loading: 'Deleting webhook...',\n                success: () => {\n                    refetch()\n                    return 'Webhook deleted!'\n                },\n                error: 'Error deleting webhook'\n            }\n        )\n    }\n\n    return (\n        <Dialog>\n            <DialogTrigger asChild>\n                <Button>\n                    <Webhook className=\"size-4 mr-1\" />\n                    Debug Webhooks\n                </Button>\n            </DialogTrigger>\n            <DialogContent>\n                <DialogHeader>\n                    <DialogTitle>Webhook Debugger</DialogTitle>\n                    <DialogDescription>\n                        {data?.records?.map(record => (\n                            <div key={record.id} className=\"mb-4 p-4 rounded-md bg-slate-100\">\n                                <div className=\"mb-2\">\n                                    <span className=\"font-semibold\">Resource:</span> {record.resource}\n                                </div>\n                                <div className=\"mb-2\">\n                                    <span className=\"font-semibold\">URL:</span> {record.notificationUrl}\n                                </div>\n                                <div className=\"mb-2\">\n                                    <span className=\"font-semibold\">Status:</span> {record.active ? (\n                                        <span className=\"text-green-600\">Active</span>\n                                    ) : (\n                                        <span className=\"text-red-600\">Inactive</span>\n                                    )}\n                                </div>\n                                {record.failSince && (\n                                    <div className=\"mb-2\">\n                                        <span className=\"font-semibold\">Failing since:</span> {record.failSince}\n                                    </div>\n                                )}\n                                {record.failDescription && (\n                                    <div className=\"mb-2\">\n                                        <span className=\"font-semibold\">Fail reason:</span> {record.failDescription}\n                                    </div>\n                                )}\n                                <Button\n                                    variant=\"destructive\"\n                                    size=\"sm\"\n                                    onClick={() => handleDeleteWebhook(record.id.toString())}\n                                >\n                                    Delete\n                                </Button>\n                            </div>\n                        ))}\n                        <div className=\"mt-4\">\n                            <Input\n                                type=\"text\"\n                                placeholder=\"Enter webhook URL\"\n                                value={newWebhookUrl}\n                                onChange={(e) => setNewWebhookUrl(e.target.value)}\n                            />\n                            <Button\n                                className=\"mt-2\"\n                                onClick={handleCreateWebhook}\n                                disabled={!newWebhookUrl}\n                            >\n                                Create Webhook\n                            </Button>\n                        </div>\n                    </DialogDescription>\n                </DialogHeader>\n            </DialogContent>\n        </Dialog>\n    )\n}\n\nexport default WebhookDebugger"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1979, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1984, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/resizable.tsx"],"sourcesContent":["\"use client\"\n\nimport { DragHandleDots2Icon } from \"@radix-ui/react-icons\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <DragHandleDots2Icon className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;AAOA,MAAM,sBAAsB,CAAC,EAC3B,SAAS,EACT,GAAG,OACwD,iBAC3D,6LAAC,yNAAmB,UAAU;QAC5B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qEACA;QAED,GAAG,KAAK;;;;;;KATP;AAaN,MAAM,iBAAiB,yNAAmB,KAAK;AAE/C,MAAM,kBAAkB,CAAC,EACvB,UAAU,EACV,SAAS,EACT,GAAG,OAGJ,iBACC,6LAAC,yNAAmB,iBAAiB;QACnC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2oBACA;QAED,GAAG,KAAK;kBAER,4BACC,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,mLAAA,CAAA,sBAAmB;gBAAC,WAAU;;;;;;;;;;;;;;;;MAhBjC"}},
    {"offset": {"line": 2036, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2041, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;AAOA,MAAM,OAAO,oKAAc,IAAI;AAE/B,MAAM,yBAAW,8JAAM,UAAU,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAc,IAAI;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,oKAAc,IAAI,CAAC,WAAW;AAErD,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAc,OAAO;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,oKAAc,OAAO,CAAC,WAAW;AAE3D,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAc,OAAO;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,oKAAc,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 2099, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2104, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;AAOA,MAAM,kBAAkB,uKAAiB,QAAQ;AAEjD,MAAM,UAAU,uKAAiB,IAAI;AAErC,MAAM,iBAAiB,uKAAiB,OAAO;AAE/C,MAAM,+BAAiB,8JAAM,UAAU,MAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,uKAAiB,OAAO;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qXACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,uKAAiB,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 2139, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2144, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport {\n  CaretSortIcon,\n  CheckIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n} from \"@radix-ui/react-icons\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <CaretSortIcon className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUpIcon />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDownIcon />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2345, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2350, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 2363, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2368, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/account-switcher.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { api, type RouterOutputs } from \"@/trpc/react\"\nimport { useLocalStorage } from \"usehooks-ts\"\nimport { Plus } from \"lucide-react\"\nimport { getAurinkoAuthorizationUrl } from \"@/lib/aurinko\"\nimport { toast } from \"sonner\"\n\ninterface AccountSwitcherProps {\n  isCollapsed: boolean\n}\n\nexport function AccountSwitcher({\n  isCollapsed\n}: AccountSwitcherProps) {\n  const { data: accounts } = api.mail.getAccounts.useQuery()\n  const [accountId, setAccountId] = useLocalStorage('accountId', '')\n\n  React.useEffect(() => {\n    if (accounts && accounts.length > 0) {\n      if (accountId) return\n      setAccountId(accounts[0]!.id)\n    } else if (accounts && accounts.length === 0) {\n      toast('Link an account to continue', {\n        action: {\n          label: 'Add account',\n          onClick: async () => {\n            try {\n              const url = await getAurinkoAuthorizationUrl('Google')\n              window.location.href = url\n            } catch (error) {\n              toast.error((error as Error).message)\n            }\n          }\n        },\n      })\n    }\n  }, [accounts])\n\n\n\n  if (!accounts) return <></>\n  return (\n    <div className=\"items-center gap-2 flex w-full\">\n      <Select defaultValue={accountId} onValueChange={setAccountId}>\n        <SelectTrigger\n          className={cn(\n            \"flex w-full flex-1 items-center gap-2 [&>span]:line-clamp-1 [&>span]:flex [&>span]:w-full [&>span]:items-center [&>span]:gap-1 [&>span]:truncate [&_svg]:h-4 [&_svg]:w-4 [&_svg]:shrink-0\",\n            isCollapsed &&\n            \"flex h-9 w-9 shrink-0 items-center justify-center p-0 [&>span]:w-auto [&>svg]:hidden\"\n          )}\n          aria-label=\"Select account\"\n        >\n          <SelectValue placeholder=\"Select an account\">\n            <span className={cn({ \"hidden\": !isCollapsed })}>\n              {\n                accounts.find((account) => account.id === accountId)?.emailAddress[0]\n              }\n            </span>\n            <span className={cn(\"ml-2\", isCollapsed && \"hidden\")}>\n              {\n                accounts.find((account) => account.id === accountId)\n                  ?.emailAddress\n              }\n            </span>\n          </SelectValue>\n        </SelectTrigger>\n        <SelectContent>\n          {accounts.map((account) => (\n            <SelectItem key={account.id} value={account.id}>\n              <div className=\"flex items-center gap-3 [&_svg]:h-4 [&_svg]:w-4 [&_svg]:shrink-0 [&_svg]:text-foreground\">\n                {/* {account.icon} */}\n                {account.emailAddress}\n              </div>\n            </SelectItem>\n          ))}\n          <div onClick={async (e) => {\n            try {\n              const url = await getAurinkoAuthorizationUrl('Google')\n              window.location.href = url\n            } catch (error) {\n              toast.error((error as Error).message)\n            }\n          }} className=\"relative flex hover:bg-gray-50 w-full cursor-pointer items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\">\n            <Plus className=\"size-4 mr-1\" />\n            Add account\n          </div>\n        </SelectContent>\n      </Select>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;;;;;;;AAsBO,SAAS,gBAAgB,EAC9B,WAAW,EACU;;IACrB,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,aAAa;IAE/D,8JAAM,SAAS,CAAC;QACd,IAAI,YAAY,SAAS,MAAM,GAAG,GAAG;YACnC,IAAI,WAAW;YACf,aAAa,QAAQ,CAAC,EAAE,CAAE,EAAE;QAC9B,OAAO,IAAI,YAAY,SAAS,MAAM,KAAK,GAAG;YAC5C,CAAA,GAAA,2IAAA,CAAA,QAAK,AAAD,EAAE,+BAA+B;gBACnC,QAAQ;oBACN,OAAO;oBACP,SAAS;wBACP,IAAI;4BACF,MAAM,MAAM,MAAM,CAAA,GAAA,wHAAA,CAAA,6BAA0B,AAAD,EAAE;4BAC7C,OAAO,QAAQ,CAAC,IAAI,GAAG;wBACzB,EAAE,OAAO,OAAO;4BACd,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,AAAC,MAAgB,OAAO;wBACtC;oBACF;gBACF;YACF;QACF;IACF,GAAG;QAAC;KAAS;IAIb,IAAI,CAAC,UAAU,qBAAO;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,qIAAA,CAAA,SAAM;YAAC,cAAc;YAAW,eAAe;;8BAC9C,6LAAC,qIAAA,CAAA,gBAAa;oBACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6LACA,eACA;oBAEF,cAAW;8BAEX,cAAA,6LAAC,qIAAA,CAAA,cAAW;wBAAC,aAAY;;0CACvB,6LAAC;gCAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;oCAAE,UAAU,CAAC;gCAAY;0CAEzC,SAAS,IAAI,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK,YAAY,YAAY,CAAC,EAAE;;;;;;0CAGzE,6LAAC;gCAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ,eAAe;0CAEvC,SAAS,IAAI,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK,YACtC;;;;;;;;;;;;;;;;;8BAKZ,6LAAC,qIAAA,CAAA,gBAAa;;wBACX,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC,qIAAA,CAAA,aAAU;gCAAkB,OAAO,QAAQ,EAAE;0CAC5C,cAAA,6LAAC;oCAAI,WAAU;8CAEZ,QAAQ,YAAY;;;;;;+BAHR,QAAQ,EAAE;;;;;sCAO7B,6LAAC;4BAAI,SAAS,OAAO;gCACnB,IAAI;oCACF,MAAM,MAAM,MAAM,CAAA,GAAA,wHAAA,CAAA,6BAA0B,AAAD,EAAE;oCAC7C,OAAO,QAAQ,CAAC,IAAI,GAAG;gCACzB,EAAE,OAAO,OAAO;oCACd,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,AAAC,MAAgB,OAAO;gCACtC;4BACF;4BAAG,WAAU;;8CACX,6LAAC,qMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;gCAAgB;;;;;;;;;;;;;;;;;;;;;;;;AAO5C;GA/EgB;;QAIoB,kJAAA,CAAA,kBAAe;;;KAJnC"}},
    {"offset": {"line": 2528, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2533, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  DotFilledIcon,\n} from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <DotFilledIcon className=\"h-4 w-4 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2751, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2756, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;AAOA,MAAM,uBAAS,8JAAM,UAAU,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,IAAI;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,sKAAgB,IAAI,CAAC,WAAW;AAErD,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,sKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,+BAAiB,8JAAM,UAAU,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,QAAQ;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAgB,QAAQ,CAAC,WAAW"}},
    {"offset": {"line": 2812, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2817, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeftIcon, ChevronRightIcon } from \"@radix-ui/react-icons\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start: \"day-range-start\",\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground opacity-50  aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ ...props }) => <ChevronLeftIcon className=\"h-4 w-4\" />,\n        IconRight: ({ ...props }) => <ChevronRightIcon className=\"h-4 w-4\" />,\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACL,qNACA,MAAM,IAAI,KAAK,UACX,yKACA;YAEN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,iBAAiB;YACjB,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,GAAG,OAAO,iBAAK,6LAAC,mLAAA,CAAA,kBAAe;oBAAC,WAAU;;;;;;YACvD,WAAW,CAAC,EAAE,GAAG,OAAO,iBAAK,6LAAC,mLAAA,CAAA,mBAAgB;oBAAC,WAAU;;;;;;QAC3D;QACC,GAAG,KAAK;;;;;;AAGf;KAzDS;AA0DT,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2893, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2898, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;AAOA,MAAM,UAAU,uKAAiB,IAAI;AAErC,MAAM,iBAAiB,uKAAiB,OAAO;AAE/C,MAAM,gBAAgB,uKAAiB,MAAM;AAE7C,MAAM,+BAAiB,8JAAM,UAAU,MAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,uKAAiB,MAAM;kBACtB,cAAA,6LAAC,uKAAiB,OAAO;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,uKAAiB,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 2940, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2945, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/email-display.tsx"],"sourcesContent":["'use client'\nimport Avatar from 'react-avatar';\nimport { Letter } from 'react-letter';\nimport { api, type RouterOutputs } from '@/trpc/react'\nimport React from 'react'\nimport { useLocalStorage } from 'usehooks-ts'\nimport useThreads from '../use-threads';\nimport { cn } from '@/lib/utils';\nimport { formatDistanceToNow } from 'date-fns';\n\ntype Props = {\n    email: RouterOutputs['mail']['getThreads'][number]['emails'][number]\n}\n\nconst EmailDisplay = ({ email }: Props) => {\n    const { account } = useThreads()\n    const letterRef = React.useRef<HTMLDivElement>(null);\n\n\n    React.useEffect(() => {\n        if (letterRef.current) {\n            const gmailQuote = letterRef.current.querySelector('div[class*=\"_gmail_quote\"]');\n            if (gmailQuote) {\n                gmailQuote.innerHTML = '';\n            }\n        }\n    }, [email]);\n\n    const isMe = account?.emailAddress === email.from.address\n\n    return (\n        <div className={cn('border rounded-md p-4 cursor-pointer transition-all  hover:translate-x-2', {\n            'border-l-gray-900 border-l-4': isMe\n        })} ref={letterRef}>\n            <div className=\"flex items-center justify-between gap-2\">\n                <div className='flex items-center gap-2'>\n                    {!isMe && <Avatar name={email.from.name ?? email.from.address} email={email.from.address} size='35' textSizeRatio={2} round={true} />}\n                    <span className='font-medium'>\n                        {isMe ? 'Me' : email.from.address}\n                    </span>\n                </div>\n                <p className='text-xs text-muted-foreground'>\n                    {formatDistanceToNow(email.sentAt ?? new Date(), {\n                        addSuffix: true,\n                    })}\n                </p>\n            </div>\n            <div className=\"h-4\"></div>\n            <Letter className='bg-white rounded-md text-black' html={email?.body ?? \"\"} />\n        </div>\n    )\n}\n\nexport default EmailDisplay"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;;;;;AAcA,MAAM,eAAe,CAAC,EAAE,KAAK,EAAS;;IAClC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,UAAU,AAAD;IAC7B,MAAM,YAAY,6JAAA,CAAA,UAAK,CAAC,MAAM,CAAiB;IAG/C,6JAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACZ,IAAI,UAAU,OAAO,EAAE;YACnB,MAAM,aAAa,UAAU,OAAO,CAAC,aAAa,CAAC;YACnD,IAAI,YAAY;gBACZ,WAAW,SAAS,GAAG;YAC3B;QACJ;IACJ,GAAG;QAAC;KAAM;IAEV,MAAM,OAAO,SAAS,iBAAiB,MAAM,IAAI,CAAC,OAAO;IAEzD,qBACI,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4EAA4E;YAC3F,gCAAgC;QACpC;QAAI,KAAK;;0BACL,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;4BACV,CAAC,sBAAQ,6LAAC,iKAAA,CAAA,UAAM;gCAAC,MAAM,MAAM,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,CAAC,OAAO;gCAAE,OAAO,MAAM,IAAI,CAAC,OAAO;gCAAE,MAAK;gCAAK,eAAe;gCAAG,OAAO;;;;;;0CAC7H,6LAAC;gCAAK,WAAU;0CACX,OAAO,OAAO,MAAM,IAAI,CAAC,OAAO;;;;;;;;;;;;kCAGzC,6LAAC;wBAAE,WAAU;kCACR,CAAA,GAAA,sJAAA,CAAA,sBAAmB,AAAD,EAAE,MAAM,MAAM,IAAI,IAAI,QAAQ;4BAC7C,WAAW;wBACf;;;;;;;;;;;;0BAGR,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC,6JAAA,CAAA,SAAM;gBAAC,WAAU;gBAAiC,MAAM,OAAO,QAAQ;;;;;;;;;;;;AAGpF;GArCM;;QACkB,wIAAA,CAAA,UAAU;;;KAD5B;uCAuCS"}},
    {"offset": {"line": 3064, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3069, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/search-display.tsx"],"sourcesContent":["'use client'\nimport DOMPurify from 'dompurify';\nimport { useAtom } from 'jotai'\nimport React from 'react'\nimport { isSearchingAtom, searchValueAtom } from './search-bar'\nimport { api } from '@/trpc/react'\nimport { useDebounceValue, useLocalStorage } from 'usehooks-ts'\nimport useThreads from '../use-threads';\nimport { useThread } from '../use-thread';\nimport { toast } from 'sonner';\nimport { Loader2 } from 'lucide-react';\n\nconst SearchDisplay = () => {\n    const [searchValue, setSearchValue] = useAtom(searchValueAtom)\n    const [isSearching, setIsSearching] = useAtom(isSearchingAtom)\n    const [_, setThreadId] = useThread()\n    const search = api.search.search.useMutation()\n\n    const [debouncedSearch] = useDebounceValue(searchValue, 500)\n    const [accountId, setAccountId] = useLocalStorage('accountId', '')\n\n    React.useEffect(() => {\n        if (!debouncedSearch || !accountId) return\n        console.log({ accountId, debouncedSearch })\n        search.mutate({ accountId, query: debouncedSearch })\n    }, [debouncedSearch, accountId])\n\n    return (\n        <div className=\"p-4 max-h-[calc(100vh-50px)] overflow-y-scroll\">\n            <div className=\"flex items-center gap-2 mb-4\">\n                <h2 className=\"text-gray-600 text-sm dark:text-gray-400\">\n                    Your search for \"{searchValue}\" came back with...\n                </h2>\n                {search.isPending && <Loader2 className=\"size-4 animate-spin text-gray-400\" />}\n            </div>\n            {search.data?.hits.length === 0 ? (\n                <p>No results found.</p>\n            ) : (\n                <ul className=\"flex flex-col gap-2\">\n                    {search.data?.hits.map((hit) => (\n                        <li onClick={() => {\n                            if (!hit.document.threadId) { toast.error(\"This message is not part of a thread\"); return }\n                            setIsSearching(false)\n                            setThreadId(hit.document.threadId)\n                        }} key={hit.id} className=\"border rounded-md p-4 hover:bg-gray-100 cursor-pointer transition-all dark:hover:bg-gray-900\">\n                            <h3 className=\"text-base font-medium\">{hit.document.title}</h3>\n                            <p className=\"text-sm text-gray-500\">\n                                From: {hit.document.from}\n                            </p>\n                            <p className=\"text-sm text-gray-500\">\n                                To: {hit.document.to.join(\", \")}\n                            </p>\n                            <p className=\"text-sm mt-2\" dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(hit.document.rawBody, { USE_PROFILES: { html: true } }) }} />\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </div>\n    );\n}\n\nexport default SearchDisplay"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;;;;;;;AAYA,MAAM,gBAAgB;;IAClB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,yIAAA,CAAA,UAAO,AAAD,EAAE,qJAAA,CAAA,kBAAe;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,yIAAA,CAAA,UAAO,AAAD,EAAE,qJAAA,CAAA,kBAAe;IAC7D,MAAM,CAAC,GAAG,YAAY,GAAG,CAAA,GAAA,sIAAA,CAAA,YAAS,AAAD;IACjC,MAAM,SAAS,wHAAA,CAAA,MAAG,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW;IAE5C,MAAM,CAAC,gBAAgB,GAAG,CAAA,GAAA,kJAAA,CAAA,mBAAgB,AAAD,EAAE,aAAa;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,aAAa;IAE/D,6JAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACZ,IAAI,CAAC,mBAAmB,CAAC,WAAW;QACpC,QAAQ,GAAG,CAAC;YAAE;YAAW;QAAgB;QACzC,OAAO,MAAM,CAAC;YAAE;YAAW,OAAO;QAAgB;IACtD,GAAG;QAAC;QAAiB;KAAU;IAE/B,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;;4BAA2C;4BACnC;4BAAY;;;;;;;oBAEjC,OAAO,SAAS,kBAAI,6LAAC,oNAAA,CAAA,UAAO;wBAAC,WAAU;;;;;;;;;;;;YAE3C,OAAO,IAAI,EAAE,KAAK,WAAW,kBAC1B,6LAAC;0BAAE;;;;;qCAEH,6LAAC;gBAAG,WAAU;0BACT,OAAO,IAAI,EAAE,KAAK,IAAI,CAAC,oBACpB,6LAAC;wBAAG,SAAS;4BACT,IAAI,CAAC,IAAI,QAAQ,CAAC,QAAQ,EAAE;gCAAE,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;gCAAyC;4BAAO;4BAC1F,eAAe;4BACf,YAAY,IAAI,QAAQ,CAAC,QAAQ;wBACrC;wBAAgB,WAAU;;0CACtB,6LAAC;gCAAG,WAAU;0CAAyB,IAAI,QAAQ,CAAC,KAAK;;;;;;0CACzD,6LAAC;gCAAE,WAAU;;oCAAwB;oCAC1B,IAAI,QAAQ,CAAC,IAAI;;;;;;;0CAE5B,6LAAC;gCAAE,WAAU;;oCAAwB;oCAC5B,IAAI,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;;;;;;;0CAE9B,6LAAC;gCAAE,WAAU;gCAAe,yBAAyB;oCAAE,QAAQ,qJAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,OAAO,EAAE;wCAAE,cAAc;4CAAE,MAAM;wCAAK;oCAAE;gCAAG;;;;;;;uBARtI,IAAI,EAAE;;;;;;;;;;;;;;;;AAetC;GA/CM;;QACoC,yIAAA,CAAA,UAAO;QACP,yIAAA,CAAA,UAAO;QACpB,sIAAA,CAAA,YAAS;QAGR,kJAAA,CAAA,mBAAgB;QACR,kJAAA,CAAA,kBAAe;;;KAP/C;uCAiDS"}},
    {"offset": {"line": 3242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3247, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/reply-box.tsx"],"sourcesContent":["'use client'\nimport React from 'react'\nimport EmailEditor from './email-editor'\nimport { useThread } from '../use-thread'\nimport useThreads from '../use-threads'\nimport { api, type RouterOutputs } from '@/trpc/react'\nimport { toast } from 'sonner'\n\nconst ReplyBox = () => {\n\n    const [threadId] = useThread()\n    const { accountId } = useThreads()\n    const { data: replyDetails } = api.mail.getReplyDetails.useQuery({\n        accountId: accountId,\n        threadId: threadId || '',\n        replyType: 'reply'\n    })\n    if (!replyDetails) return <></>;\n    return <Component replyDetails={replyDetails} />\n}\n\nconst Component = ({ replyDetails }: { replyDetails: NonNullable<RouterOutputs['mail']['getReplyDetails']> }) => {\n    const [threadId] = useThread()\n    const { accountId } = useThreads()\n\n    const [subject, setSubject] = React.useState(replyDetails.subject.startsWith('Re:') ? replyDetails.subject : `Re: ${replyDetails.subject}`);\n\n    const [toValues, setToValues] = React.useState<{ label: string, value: string }[]>(replyDetails.to.map(to => ({ label: to.address ?? to.name, value: to.address })) || [])\n    const [ccValues, setCcValues] = React.useState<{ label: string, value: string }[]>(replyDetails.cc.map(cc => ({ label: cc.address ?? cc.name, value: cc.address })) || [])\n\n    const sendEmail = api.mail.sendEmail.useMutation()\n    React.useEffect(() => {\n        if (!replyDetails || !threadId) return;\n\n        if (!replyDetails.subject.startsWith('Re:')) {\n            setSubject(`Re: ${replyDetails.subject}`)\n        }\n        setToValues(replyDetails.to.map(to => ({ label: to.address ?? to.name, value: to.address })))\n        setCcValues(replyDetails.cc.map(cc => ({ label: cc.address ?? cc.name, value: cc.address })))\n\n    }, [replyDetails, threadId])\n\n    const handleSend = async (value: string) => {\n        if (!replyDetails) return;\n        sendEmail.mutate({\n            accountId,\n            threadId: threadId ?? undefined,\n            body: value,\n            subject,\n            from: replyDetails.from,\n            to: replyDetails.to.map(to => ({ name: to.name ?? to.address, address: to.address })),\n            cc: replyDetails.cc.map(cc => ({ name: cc.name ?? cc.address, address: cc.address })),\n            replyTo: replyDetails.from,\n            inReplyTo: replyDetails.id,\n        }, {\n            onSuccess: () => {\n                toast.success(\"Email sent\")\n                // editor?.commands.clearContent()\n            }\n        })\n    }\n\n    return (\n        <EmailEditor\n            toValues={toValues}\n            ccValues={ccValues}\n\n            onToChange={(values) => {\n                setToValues(values)\n            }}\n            onCcChange={(values) => {\n                setCcValues(values)\n            }}\n\n            subject={subject}\n            setSubject={setSubject}\n            to={toValues.map(to => to.value)}\n            handleSend={handleSend}\n            isSending={sendEmail.isPending}\n        />\n    )\n\n}\n\nexport default ReplyBox"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3379, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3384, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/thread-display.tsx"],"sourcesContent":["import EmailEditor from \"./email-editor\";\nimport {\n  Archive,\n  ArchiveX,\n  Clock,\n  Forward,\n  MoreVertical,\n  Reply,\n  ReplyAll,\n  Trash2,\n} from \"lucide-react\"\n\nimport {\n  DropdownMenuContent,\n  DropdownMenuItem,\n} from \"@/components/ui/dropdown-menu\"\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"@/components/ui/avatar\"\nimport { Button } from \"@/components/ui/button\"\nimport { Calendar } from \"@/components/ui/calendar\"\nimport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Label } from \"@/components/ui/label\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\nimport { api, type RouterOutputs } from \"@/trpc/react\"\nimport { addDays, addHours, format, nextSaturday } from \"date-fns\"\nimport EmailDisplay from \"./email-display\"\nimport { useThread } from \"../use-thread\";\nimport useThreads from \"../use-threads\";\nimport { useAtom } from \"jotai\";\nimport { isSearchingAtom, searchValueAtom } from \"./search-bar\";\nimport SearchDisplay from \"./search-display\";\nimport { useLocalStorage } from \"usehooks-ts\";\nimport ReplyBox from \"./reply-box\";\n\n\nexport function ThreadDisplay() {\n  const [threadId, setThreadId] = useThread()\n  const { threads, isFetching } = useThreads()\n  const today = new Date()\n  const _thread = threads?.find(t => t.id === threadId)\n  const [isSearching, setIsSearching] = useAtom(isSearchingAtom)\n\n  const [accountId] = useLocalStorage('accountId', '')\n  const { data: foundThread } = api.mail.getThreadById.useQuery({\n    accountId: accountId,\n    threadId: threadId ?? ''\n  }, { enabled: !!!_thread && !!threadId })\n  const thread = _thread ?? foundThread\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"flex items-center p-2\">\n        <div className=\"flex items-center gap-2\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Archive className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Archive</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Archive</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <ArchiveX className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Move to junk</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Move to junk</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Trash2 className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Move to trash</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Move to trash</TooltipContent>\n          </Tooltip>\n          <Separator orientation=\"vertical\" className=\"h-6 mx-1\" />\n          <Tooltip>\n            <Popover>\n              <PopoverTrigger asChild>\n                <TooltipTrigger asChild>\n                  <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                    <Clock className=\"w-4 h-4\" />\n                    <span className=\"sr-only\">Snooze</span>\n                  </Button>\n                </TooltipTrigger>\n              </PopoverTrigger>\n              <PopoverContent className=\"flex w-[535px] p-0\">\n                <div className=\"flex flex-col gap-2 px-2 py-4 border-r\">\n                  <div className=\"px-4 text-sm font-medium\">Snooze until</div>\n                  <div className=\"grid min-w-[250px] gap-1\">\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Later today{\" \"}\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addHours(today, 4), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Tomorrow\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addDays(today, 1), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      This weekend\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(nextSaturday(today), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"justify-start font-normal\"\n                    >\n                      Next week\n                      <span className=\"ml-auto text-muted-foreground\">\n                        {format(addDays(today, 7), \"E, h:m b\")}\n                      </span>\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"p-2\">\n                  <Calendar />\n                </div>\n              </PopoverContent>\n            </Popover>\n            <TooltipContent>Snooze</TooltipContent>\n          </Tooltip>\n        </div>\n        <div className=\"flex items-center gap-2 ml-auto\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Reply className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Reply</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Reply</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <ReplyAll className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Reply all</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Reply all</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n                <Forward className=\"w-4 h-4\" />\n                <span className=\"sr-only\">Forward</span>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Forward</TooltipContent>\n          </Tooltip>\n        </div>\n        <Separator orientation=\"vertical\" className=\"h-6 mx-2\" />\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" disabled={!thread}>\n              <MoreVertical className=\"w-4 h-4\" />\n              <span className=\"sr-only\">More</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem>Mark as unread</DropdownMenuItem>\n            <DropdownMenuItem>Star thread</DropdownMenuItem>\n            <DropdownMenuItem>Add label</DropdownMenuItem>\n            <DropdownMenuItem>Mute thread</DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n      <Separator />\n      {isSearching ? <SearchDisplay /> : <>\n\n        {thread ? (\n          <div className=\"flex flex-col flex-1 overflow-scroll\">\n            <div className=\"flex items-start p-4\">\n              <div className=\"flex items-start gap-4 text-sm\">\n                <Avatar>\n                  <AvatarImage alt={'lol'} />\n                  <AvatarFallback>\n                    {thread?.emails[0]?.from?.name?.split(\" \")\n                      .map((chunk) => chunk[0])\n                      .join(\"\")}\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"grid gap-1\">\n                  <div className=\"font-semibold\">{thread.emails[0]?.from?.name}</div>\n                  <div className=\"text-xs line-clamp-1\">{thread.emails[0]?.subject}</div>\n                  <div className=\"text-xs line-clamp-1\">\n                    <span className=\"font-medium\">Reply-To:</span> {thread.emails[0]?.from?.address}\n                  </div>\n                </div>\n              </div>\n              {thread.emails[0]?.sentAt && (\n                <div className=\"ml-auto text-xs text-muted-foreground\">\n                  {format(new Date(thread.emails[0].sentAt), \"PPpp\")}\n                </div>\n              )}\n            </div>\n            <Separator />\n            <div className=\"max-h-[calc(100vh-500px)] overflow-scroll flex flex-col\">\n              <div className=\"p-6 flex flex-col gap-4\">\n                {thread.emails.map(email => {\n                  return <EmailDisplay key={email.id} email={email} />\n                })}\n              </div>\n            </div>\n            <div className=\"flex-1\"></div>\n            <Separator className=\"mt-auto\" />\n            <ReplyBox />\n          </div>\n        ) : (\n          <>\n            <div className=\"p-8 text-center text-muted-foreground\">\n              No message selected {threadId}\n            </div>\n          </>\n        )}\n      </>}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDO,SAAS;;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,sIAAA,CAAA,YAAS,AAAD;IACxC,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,UAAU,AAAD;IACzC,MAAM,QAAQ,IAAI;IAClB,MAAM,UAAU,SAAS,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK;IAC5C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,yIAAA,CAAA,UAAO,AAAD,EAAE,qJAAA,CAAA,kBAAe;IAE7D,MAAM,CAAC,UAAU,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,aAAa;IACjD,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC5D,WAAW;QACX,UAAU,YAAY;IACxB,GAAG;QAAE,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;IAAS;IACvC,MAAM,SAAS,WAAW;IAE1B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,UAAU,CAAC;;8DAC7C,6LAAC,2MAAA,CAAA,UAAO;oDAAC,WAAU;;;;;;8DACnB,6LAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;;;;;;kDAG9B,6LAAC,sIAAA,CAAA,iBAAc;kDAAC;;;;;;;;;;;;0CAElB,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,UAAU,CAAC;;8DAC7C,6LAAC,iNAAA,CAAA,WAAQ;oDAAC,WAAU;;;;;;8DACpB,6LAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;;;;;;kDAG9B,6LAAC,sIAAA,CAAA,iBAAc;kDAAC;;;;;;;;;;;;0CAElB,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,UAAU,CAAC;;8DAC7C,6LAAC,6MAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;8DAClB,6LAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;;;;;;kDAG9B,6LAAC,sIAAA,CAAA,iBAAc;kDAAC;;;;;;;;;;;;0CAElB,6LAAC,wIAAA,CAAA,YAAS;gCAAC,aAAY;gCAAW,WAAU;;;;;;0CAC5C,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,UAAO;;0DACN,6LAAC,sIAAA,CAAA,iBAAc;gDAAC,OAAO;0DACrB,cAAA,6LAAC,sIAAA,CAAA,iBAAc;oDAAC,OAAO;8DACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;wDAAC,SAAQ;wDAAQ,MAAK;wDAAO,UAAU,CAAC;;0EAC7C,6LAAC,uMAAA,CAAA,QAAK;gEAAC,WAAU;;;;;;0EACjB,6LAAC;gEAAK,WAAU;0EAAU;;;;;;;;;;;;;;;;;;;;;;0DAIhC,6LAAC,sIAAA,CAAA,iBAAc;gDAAC,WAAU;;kEACxB,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAU;0EAA2B;;;;;;0EAC1C,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,qIAAA,CAAA,SAAM;wEACL,SAAQ;wEACR,WAAU;;4EACX;4EACa;0FACZ,6LAAC;gFAAK,WAAU;0FACb,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,2IAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,IAAI;;;;;;;;;;;;kFAGhC,6LAAC,qIAAA,CAAA,SAAM;wEACL,SAAQ;wEACR,WAAU;;4EACX;0FAEC,6LAAC;gFAAK,WAAU;0FACb,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,0IAAA,CAAA,UAAO,AAAD,EAAE,OAAO,IAAI;;;;;;;;;;;;kFAG/B,6LAAC,qIAAA,CAAA,SAAM;wEACL,SAAQ;wEACR,WAAU;;4EACX;0FAEC,6LAAC;gFAAK,WAAU;0FACb,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,+IAAA,CAAA,eAAY,AAAD,EAAE,QAAQ;;;;;;;;;;;;kFAGjC,6LAAC,qIAAA,CAAA,SAAM;wEACL,SAAQ;wEACR,WAAU;;4EACX;0FAEC,6LAAC;gFAAK,WAAU;0FACb,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,0IAAA,CAAA,UAAO,AAAD,EAAE,OAAO,IAAI;;;;;;;;;;;;;;;;;;;;;;;;kEAKnC,6LAAC;wDAAI,WAAU;kEACb,cAAA,6LAAC,uIAAA,CAAA,WAAQ;;;;;;;;;;;;;;;;;;;;;;kDAIf,6LAAC,sIAAA,CAAA,iBAAc;kDAAC;;;;;;;;;;;;;;;;;;kCAGpB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,UAAU,CAAC;;8DAC7C,6LAAC,uMAAA,CAAA,QAAK;oDAAC,WAAU;;;;;;8DACjB,6LAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;;;;;;kDAG9B,6LAAC,sIAAA,CAAA,iBAAc;kDAAC;;;;;;;;;;;;0CAElB,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,UAAU,CAAC;;8DAC7C,6LAAC,iNAAA,CAAA,WAAQ;oDAAC,WAAU;;;;;;8DACpB,6LAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;;;;;;kDAG9B,6LAAC,sIAAA,CAAA,iBAAc;kDAAC;;;;;;;;;;;;0CAElB,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,UAAU,CAAC;;8DAC7C,6LAAC,2MAAA,CAAA,UAAO;oDAAC,WAAU;;;;;;8DACnB,6LAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;;;;;;kDAG9B,6LAAC,sIAAA,CAAA,iBAAc;kDAAC;;;;;;;;;;;;;;;;;;kCAGpB,6LAAC,wIAAA,CAAA,YAAS;wBAAC,aAAY;wBAAW,WAAU;;;;;;kCAC5C,6LAAC,+IAAA,CAAA,eAAY;;0CACX,6LAAC,+IAAA,CAAA,sBAAmB;gCAAC,OAAO;0CAC1B,cAAA,6LAAC,qIAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,UAAU,CAAC;;sDAC7C,6LAAC,6NAAA,CAAA,eAAY;4CAAC,WAAU;;;;;;sDACxB,6LAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;;;;;;;0CAG9B,6LAAC,+IAAA,CAAA,sBAAmB;gCAAC,OAAM;;kDACzB,6LAAC,+IAAA,CAAA,mBAAgB;kDAAC;;;;;;kDAClB,6LAAC,+IAAA,CAAA,mBAAgB;kDAAC;;;;;;kDAClB,6LAAC,+IAAA,CAAA,mBAAgB;kDAAC;;;;;;kDAClB,6LAAC,+IAAA,CAAA,mBAAgB;kDAAC;;;;;;;;;;;;;;;;;;;;;;;;0BAIxB,6LAAC,wIAAA,CAAA,YAAS;;;;;YACT,4BAAc,6LAAC,yJAAA,CAAA,UAAa;;;;qCAAM;0BAEhC,uBACC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,qIAAA,CAAA,SAAM;;8DACL,6LAAC,qIAAA,CAAA,cAAW;oDAAC,KAAK;;;;;;8DAClB,6LAAC,qIAAA,CAAA,iBAAc;8DACZ,QAAQ,MAAM,CAAC,EAAE,EAAE,MAAM,MAAM,MAAM,KACnC,IAAI,CAAC,QAAU,KAAK,CAAC,EAAE,EACvB,KAAK;;;;;;;;;;;;sDAGZ,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;8DAAiB,OAAO,MAAM,CAAC,EAAE,EAAE,MAAM;;;;;;8DACxD,6LAAC;oDAAI,WAAU;8DAAwB,OAAO,MAAM,CAAC,EAAE,EAAE;;;;;;8DACzD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;sEAAc;;;;;;wDAAgB;wDAAE,OAAO,MAAM,CAAC,EAAE,EAAE,MAAM;;;;;;;;;;;;;;;;;;;gCAI7E,OAAO,MAAM,CAAC,EAAE,EAAE,wBACjB,6LAAC;oCAAI,WAAU;8CACZ,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,OAAO,MAAM,CAAC,EAAE,CAAC,MAAM,GAAG;;;;;;;;;;;;sCAIjD,6LAAC,wIAAA,CAAA,YAAS;;;;;sCACV,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACZ,OAAO,MAAM,CAAC,GAAG,CAAC,CAAA;oCACjB,qBAAO,6LAAC,wJAAA,CAAA,UAAY;wCAAgB,OAAO;uCAAjB,MAAM,EAAE;;;;;gCACpC;;;;;;;;;;;sCAGJ,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC,wIAAA,CAAA,YAAS;4BAAC,WAAU;;;;;;sCACrB,6LAAC,oJAAA,CAAA,UAAQ;;;;;;;;;;yCAGX;8BACE,cAAA,6LAAC;wBAAI,WAAU;;4BAAwC;4BAChC;;;;;;;;;;;;;;;AAOnC;GA1MgB;;QACkB,sIAAA,CAAA,YAAS;QACT,wIAAA,CAAA,UAAU;QAGJ,yIAAA,CAAA,UAAO;QAEzB,kJAAA,CAAA,kBAAe;;;KAPrB"}},
    {"offset": {"line": 4241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4246, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;;;;;AAKA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 4286, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4291, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/kbar/use-vim.tsx"],"sourcesContent":["//@ts-ignore\nimport { createKeybindingsHandler } from \"tinykeys\"\nimport { api, type RouterOutputs } from '@/trpc/react'\nimport { useQueryClient } from '@tanstack/react-query'\nimport { useRegisterActions } from 'kbar'\nimport React, { useMemo } from 'react'\nimport { useLocalStorage } from 'usehooks-ts'\nimport { useThread } from \"../../use-thread\"\nimport { atom, useAtom } from \"jotai\"\nimport { toast } from \"sonner\"\nimport { getQueryKey } from \"@trpc/react-query\"\nimport useRefetch from \"@/hooks/use-refetch\"\nimport useThreads from \"../../use-threads\"\nimport { isSearchingAtom } from \"../search-bar\"\n\nexport const visualModeAtom = atom(false)\nexport const visualModeStartIdAtom = atom<string | null>(null)\n\nconst useVim = () => {\n\n    const queryClient = useQueryClient()\n    const [threadId, setThreadId] = useThread()\n    const [accountId] = useLocalStorage('accountId', '')\n    const [tab] = useLocalStorage('normalhuman-tab', 'inbox')\n    const [done] = useLocalStorage('normalhuman-done', false)\n    const { threads: data, queryKey, refetch } = useThreads()\n\n    const setUndone = api.mail.setUndone.useMutation({\n        onMutate: async (payload) => {\n            if (!payload.threadId && !payload.threadIds) return\n            if (!done) return\n            toast.success('Undone!')\n            await queryClient.cancelQueries({ queryKey })\n            const previousData = queryClient.getQueryData<RouterOutputs['mail']['getThreads']>(queryKey)\n            queryClient.setQueryData(queryKey, (data: RouterOutputs['mail']['getThreads'] | undefined) => {\n                if (!data) return data\n                const threadIds = visualMode ? selectedThreadIds : [payload.threadId]\n                const newData = data.filter(t => !threadIds.includes(t.id))\n\n                if (visualMode) {\n                    setVisualMode(false)\n                    setVisualModeStartId(null)\n                    const currentIndex = data.findIndex(t => t.id === threadIds.at(-1))\n                    setThreadId(newData[currentIndex - threadIds.length + 1]?.id ?? null)\n                } else {\n                    const currentIndex = data.findIndex(t => t.id === threadId)\n                    if (currentIndex !== -1 && threadIds.includes(threadId ?? '')) {\n                        const nextThreadId = newData[currentIndex]?.id ?? newData[currentIndex - 1]?.id ?? null\n                        setThreadId(nextThreadId)\n                    }\n                }\n\n                return newData\n            })\n            return previousData\n        },\n        onSettled: () => {\n            refetch()\n        }\n    })\n\n    const setDone = api.mail.setDone.useMutation({\n        onMutate: async (payload) => {\n            if (done) return\n            if (!payload.threadId && !payload.threadIds) return\n            toast.success('Done!')\n            await queryClient.cancelQueries({ queryKey })\n            const previousData = queryClient.getQueryData<RouterOutputs['mail']['getThreads']>(queryKey)\n            queryClient.setQueryData(queryKey, (data: RouterOutputs['mail']['getThreads'] | undefined) => {\n                if (!data) return data\n                const threadIds = visualMode ? selectedThreadIds : [payload.threadId]\n                const newData = data.filter(t => !threadIds.includes(t.id))\n\n                if (visualMode) {\n                    setVisualMode(false)\n                    setVisualModeStartId(null)\n                    const currentIndex = data.findIndex(t => t.id === threadIds.at(-1))\n                    setThreadId(newData[currentIndex - threadIds.length + 1]?.id ?? null)\n                } else {\n                    const currentIndex = data.findIndex(t => t.id === threadId)\n                    if (currentIndex !== -1 && threadIds.includes(threadId ?? '')) {\n                        const nextThreadId = newData[currentIndex]?.id ?? newData[currentIndex - 1]?.id ?? null\n                        setThreadId(nextThreadId)\n                    }\n                }\n\n                return newData\n            })\n            return previousData\n        },\n        onSettled: () => {\n            refetch()\n        }\n    })\n\n    const [visualMode, setVisualMode] = useAtom(visualModeAtom)\n    const [visualModeStartId, setVisualModeStartId] = useAtom(visualModeStartIdAtom)\n\n    const selectedThreadIds = useMemo(() => {\n        if (!visualMode || !visualModeStartId || !threadId || !data) return []\n\n        const startIndex = data.findIndex(t => t.id === visualModeStartId)\n        const endIndex = data.findIndex(t => t.id === threadId)\n\n        if (startIndex === -1 || endIndex === -1) return []\n\n        const start = Math.min(startIndex, endIndex)\n        const end = Math.max(startIndex, endIndex)\n\n        return data.slice(start, end + 1).map(t => t.id)\n    }, [visualMode, visualModeStartId, threadId, data])\n\n    const numberRef = React.useRef(0)\n\n    React.useEffect(() => {\n        numberRef.current = selectedThreadIds.length\n    }, [selectedThreadIds])\n\n    React.useEffect(() => {\n        if (visualMode) {\n            toast.info(`${numberRef.current} thread${numberRef.current !== 1 ? 's' : ''} selected`, {\n                id: 'visual-mode-toast',\n                duration: Infinity,\n                position: 'bottom-center'\n            });\n        } else {\n            toast.dismiss('visual-mode-toast');\n        }\n    }, [visualMode, selectedThreadIds]);\n\n\n    React.useEffect(() => {\n        if (!threadId) return\n        // move thread it into view \n        const element = document.getElementById(`thread-${threadId}`)\n        if (element) {\n            element.scrollIntoView({ behavior: 'smooth', block: 'center' })\n        }\n    }, [threadId])\n\n\n    const isInputElement = (element: Element | null): boolean => {\n        return !!(element instanceof HTMLInputElement ||\n            element instanceof HTMLTextAreaElement ||\n            element instanceof HTMLSelectElement ||\n            element?.hasAttribute('contenteditable'));\n    };\n\n    let handler = (event: KeyboardEvent) => {\n        if (isInputElement(document.activeElement)) {\n            return;\n        }\n\n        return createKeybindingsHandler({\n            \"j\": () => {\n                // Move cursor down\n                if (data && data.length > 0) {\n                    if (!threadId) {\n                        setThreadId(data[0]!.id)\n                        return\n                    }\n                    const currentIndex = data.findIndex(t => t.id === threadId);\n                    if (currentIndex < data.length - 1) {\n                        const nextId = data[currentIndex + 1]!.id\n                        setThreadId(nextId)\n                    }\n                }\n            },\n            \"k\": () => {\n                // Move cursor up\n                if (data && data.length > 0) {\n                    if (!threadId) {\n                        setThreadId(data[0]!.id)\n                        return\n                    }\n                    const currentIndex = data.findIndex(t => t.id === threadId);\n                    if (currentIndex > 0) {\n                        const prevId = data[currentIndex - 1]!.id\n                        setThreadId(prevId)\n                    }\n                }\n            },\n            \"g g\": () => {\n                // Move to the first thread\n                if (data && data.length > 0) {\n                    const firstId = data[0]!.id\n                    setThreadId(firstId)\n                }\n            },\n            \"Shift+G\": () => {\n                // Move to the last thread\n                if (data && data.length > 0) {\n                    const lastId = data[data.length - 1]!.id\n                    setThreadId(lastId)\n                }\n            },\n            \"Shift+V\": () => {\n                setVisualMode(true)\n                if (!threadId) return\n                setVisualModeStartId(threadId)\n            },\n            \"Escape\": () => {\n                setVisualMode(false)\n                setVisualModeStartId(null)\n            },\n            \"d\": () => {\n                if (done) return\n                if (!threadId || !selectedThreadIds) return\n                if (visualMode) {\n                    setDone.mutate({ accountId, threadIds: selectedThreadIds })\n                } else {\n                    setDone.mutate({ accountId, threadId })\n                }\n            },\n            \"u\": () => {\n                if (!done) return\n                if (!threadId || !selectedThreadIds) return\n                if (visualMode) {\n                    setUndone.mutate({ accountId, threadIds: selectedThreadIds })\n                } else {\n                    setUndone.mutate({ accountId, threadId })\n                }\n            }\n        })(event);\n    };\n\n    React.useEffect(() => {\n        if (typeof window == 'undefined') return\n        window.addEventListener(\"keydown\", handler)\n        return () => {\n            window.removeEventListener(\"keydown\", handler)\n        }\n    }, [handler, threadId, data, visualMode, visualModeStartId])\n\n    return { selectedThreadIds, visualMode }\n}\n\nexport default useVim"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4569, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4574, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/thread-list.tsx"],"sourcesContent":["import React, { type ComponentProps } from \"react\"\nimport DOMPurify from 'dompurify';\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { formatDistanceToNow } from \"date-fns\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { useThread } from \"@/app/mail/use-thread\"\nimport { api, type RouterOutputs } from \"@/trpc/react\"\nimport { useAtom } from \"jotai\"\nimport useVim from \"./kbar/use-vim\"\nimport { useAutoAnimate } from \"@formkit/auto-animate/react\"\nimport { useLocalStorage } from \"usehooks-ts\"\nimport useThreads from \"../use-threads\"\nimport { isSearchingAtom } from \"./search-bar\"\n\nimport { format } from \"date-fns\";\n\nexport function ThreadList() {\n  const { threads, isFetching } = useThreads();\n\n  const [threadId, setThreadId] = useThread();\n  const [parent] = useAutoAnimate(/* optional config */);\n  const { selectedThreadIds, visualMode } = useVim();\n\n  const groupedThreads = threads?.reduce((acc, thread) => {\n    const date = format(thread.lastMessageDate ?? new Date(), \"yyyy-MM-dd\");\n    if (!acc[date]) {\n      acc[date] = [];\n    }\n    acc[date].push(thread);\n    return acc;\n  }, {} as Record<string, typeof threads>);\n\n  return (\n    <div className=\"max-w-full overflow-y-scroll max-h-[calc(100vh-120px)]\">\n      <div className=\"flex flex-col gap-2 p-4 pt-0\" ref={parent}>\n        {Object.entries(groupedThreads ?? {}).map(([date, threads]) => (\n          <React.Fragment key={date}>\n            <div className=\"text-xs font-medium text-muted-foreground mt-4 first:mt-0\">\n              {format(new Date(date), \"MMMM d, yyyy\")}\n            </div>\n            {threads.map((item) => (\n              <button\n                id={`thread-${item.id}`}\n                key={item.id}\n                className={cn(\n                  \"flex flex-col items-start gap-2 rounded-lg border p-3 text-left text-sm transition-all relative\",\n                  visualMode &&\n                  selectedThreadIds.includes(item.id) &&\n                  \"bg-blue-200 dark:bg-blue-900\"\n                )}\n                onClick={() => {\n                  setThreadId(item.id);\n                }}\n              >\n                {threadId === item.id && (\n                  <motion.div\n                    className=\"absolute inset-0 dark:bg-white/20 bg-black/10 z-[-1] rounded-lg\"\n                    layoutId=\"thread-list-item\"\n                    transition={{\n                      duration: 0.1,\n                      ease: \"easeInOut\",\n                    }}\n                  />\n                )}\n                <div className=\"flex flex-col w-full gap-1\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"font-semibold\">\n                        {item.emails.at(-1)?.from?.name}\n                      </div>\n                    </div>\n                    <div\n                      className={cn(\n                        \"ml-auto text-xs\",\n                        threadId === item.id\n                          ? \"text-foreground\"\n                          : \"text-muted-foreground\"\n                      )}\n                    >\n                      {formatDistanceToNow(item.emails.at(-1)?.sentAt ?? new Date(), {\n                        addSuffix: true,\n                      })}\n                    </div>\n                  </div>\n                  <div className=\"text-xs font-medium\">{item.subject}</div>\n                </div>\n                <div\n                  className=\"text-xs line-clamp-2 text-muted-foreground\"\n                  dangerouslySetInnerHTML={{\n                    __html: DOMPurify.sanitize(item.emails.at(-1)?.bodySnippet ?? \"\", {\n                      USE_PROFILES: { html: true },\n                    }),\n                  }}\n                ></div>\n                {item.emails[0]?.sysLabels.length ? (\n                  <div className=\"flex items-center gap-2\">\n                    {item.emails.at(0)?.sysLabels.map((label) => (\n                      <Badge\n                        key={label}\n                        variant={getBadgeVariantFromLabel(label)}\n                      >\n                        {label}\n                      </Badge>\n                    ))}\n                  </div>\n                ) : null}\n              </button>\n            ))}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction getBadgeVariantFromLabel(\n  label: string\n): ComponentProps<typeof Badge>[\"variant\"] {\n  if ([\"work\"].includes(label.toLowerCase())) {\n    return \"default\";\n  }\n\n  if ([\"personal\"].includes(label.toLowerCase())) {\n    return \"outline\";\n  }\n\n  return \"secondary\";\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4778, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4783, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/nav.tsx"],"sourcesContent":["\"use client\"\n\n// import Link from \"next/link\"\nimport type { LucideIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\nimport Link from \"next/link\"\nimport { useLocalStorage } from \"usehooks-ts\"\n\ninterface NavProps {\n  isCollapsed: boolean\n  links: {\n    title: string\n    label?: string\n    icon: LucideIcon\n    variant: \"default\" | \"ghost\",\n  }[]\n}\n\nexport function Nav({ links, isCollapsed }: NavProps) {\n\n  const [_, setTab] = useLocalStorage(\"normalhuman-tab\", \"inbox\")\n\n  return (\n    <div\n      data-collapsed={isCollapsed}\n      className=\"group flex flex-col gap-4 py-2 data-[collapsed=true]:py-2\"\n    >\n      <nav className=\"grid gap-1 px-2 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2\">\n        {links.map((link, index) =>\n          isCollapsed ? (\n            <Tooltip key={index} delayDuration={0}>\n              <TooltipTrigger asChild>\n                <span\n                  onClick={() => setTab(link.title.toLowerCase())}\n                  className={cn(\n                    buttonVariants({ variant: link.variant, size: \"icon\" }),\n                    \"h-9 w-9 cursor-pointer\",\n                    link.variant === \"default\" &&\n                    \"dark:bg-muted dark:text-muted-foreground dark:hover:bg-muted dark:hover:text-white\"\n                  )}\n                >\n                  <link.icon className=\"w-4 h-4\" />\n                  <span className=\"sr-only\">{link.title}</span>\n                </span>\n              </TooltipTrigger>\n              <TooltipContent side=\"right\" className=\"flex items-center gap-4\">\n                {link.title}\n                {link.label && (\n                  <span className=\"ml-auto text-muted-foreground\">\n                    {link.label}\n                  </span>\n                )}\n              </TooltipContent>\n            </Tooltip>\n          ) : (\n            <span\n              key={index}\n              onClick={() => setTab(link.title.toLowerCase())}\n              className={cn(\n                buttonVariants({ variant: link.variant, size: \"sm\" }),\n                link.variant === \"default\" &&\n                \"dark:bg-muted dark:text-white dark:hover:bg-muted dark:hover:text-white\",\n                \"justify-start cursor-pointer\"\n              )}\n            >\n              <link.icon className=\"w-4 h-4 mr-2\" />\n              {link.title}\n              {link.label && (\n                <span\n                  className={cn(\n                    \"ml-auto\",\n                    link.variant === \"default\" &&\n                    \"text-background dark:text-white\"\n                  )}\n                >\n                  {link.label}\n                </span>\n              )}\n            </span>\n          )\n        )}\n      </nav>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;AAyBO,SAAS,IAAI,EAAE,KAAK,EAAE,WAAW,EAAY;;IAElD,MAAM,CAAC,GAAG,OAAO,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,mBAAmB;IAEvD,qBACE,6LAAC;QACC,kBAAgB;QAChB,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;sBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,QAChB,4BACE,6LAAC,sIAAA,CAAA,UAAO;oBAAa,eAAe;;sCAClC,6LAAC,sIAAA,CAAA,iBAAc;4BAAC,OAAO;sCACrB,cAAA,6LAAC;gCACC,SAAS,IAAM,OAAO,KAAK,KAAK,CAAC,WAAW;gCAC5C,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;oCAAE,SAAS,KAAK,OAAO;oCAAE,MAAM;gCAAO,IACrD,0BACA,KAAK,OAAO,KAAK,aACjB;;kDAGF,6LAAC,KAAK,IAAI;wCAAC,WAAU;;;;;;kDACrB,6LAAC;wCAAK,WAAU;kDAAW,KAAK,KAAK;;;;;;;;;;;;;;;;;sCAGzC,6LAAC,sIAAA,CAAA,iBAAc;4BAAC,MAAK;4BAAQ,WAAU;;gCACpC,KAAK,KAAK;gCACV,KAAK,KAAK,kBACT,6LAAC;oCAAK,WAAU;8CACb,KAAK,KAAK;;;;;;;;;;;;;mBAnBL;;;;yCAyBd,6LAAC;oBAEC,SAAS,IAAM,OAAO,KAAK,KAAK,CAAC,WAAW;oBAC5C,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;wBAAE,SAAS,KAAK,OAAO;wBAAE,MAAM;oBAAK,IACnD,KAAK,OAAO,KAAK,aACjB,2EACA;;sCAGF,6LAAC,KAAK,IAAI;4BAAC,WAAU;;;;;;wBACpB,KAAK,KAAK;wBACV,KAAK,KAAK,kBACT,6LAAC;4BACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,WACA,KAAK,OAAO,KAAK,aACjB;sCAGD,KAAK,KAAK;;;;;;;mBAnBV;;;;;;;;;;;;;;;AA4BnB;GAlEgB;;QAEM,kJAAA,CAAA,kBAAe;;;KAFrB"}},
    {"offset": {"line": 4917, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4922, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/sidebar.tsx"],"sourcesContent":["'use client'\nimport React from 'react'\nimport { Nav } from './nav'\n\nimport {\n    AlertCircle,\n    Archive,\n    ArchiveX,\n    File,\n    Inbox,\n    MessagesSquare,\n    Send,\n    ShoppingCart,\n    Trash2,\n    Users2,\n} from \"lucide-react\"\nimport { usePathname } from 'next/navigation'\nimport { useLocalStorage } from 'usehooks-ts'\nimport { api } from '@/trpc/react'\ntype Props = { isCollapsed: boolean }\n\nconst SideBar = ({ isCollapsed }: Props) => {\n\n    const [tab] = useLocalStorage(\"normalhuman-tab\", \"inbox\")\n    const [accountId] = useLocalStorage(\"accountId\", \"\")\n\n    const refetchInterval = 5000\n    const { data: inboxThreads } = api.mail.getNumThreads.useQuery({\n        accountId,\n        tab: \"inbox\"\n    }, { enabled: !!accountId && !!tab, refetchInterval })\n\n    const { data: draftsThreads } = api.mail.getNumThreads.useQuery({\n        accountId,\n        tab: \"drafts\"\n    }, { enabled: !!accountId && !!tab, refetchInterval })\n\n    const { data: sentThreads } = api.mail.getNumThreads.useQuery({\n        accountId,\n        tab: \"sent\"\n    }, { enabled: !!accountId && !!tab, refetchInterval })\n\n    return (\n        <>\n            <Nav\n                isCollapsed={isCollapsed}\n                links={[\n                    {\n                        title: \"Inbox\",\n                        label: inboxThreads?.toString() || \"0\",\n                        icon: Inbox,\n                        variant: tab === \"inbox\" ? \"default\" : \"ghost\",\n                    },\n                    {\n                        title: \"Drafts\",\n                        label: draftsThreads?.toString() || \"0\",\n                        icon: File,\n                        variant: tab === \"drafts\" ? \"default\" : \"ghost\",\n                    },\n                    {\n                        title: \"Sent\",\n                        label: sentThreads?.toString() || \"0\",\n                        icon: Send,\n                        variant: tab === \"sent\" ? \"default\" : \"ghost\",\n                    },\n                ]}\n            />\n        </>\n    )\n}\n\nexport default SideBar"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;;;AAqBA,MAAM,UAAU,CAAC,EAAE,WAAW,EAAS;;IAEnC,MAAM,CAAC,IAAI,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,mBAAmB;IACjD,MAAM,CAAC,UAAU,GAAG,CAAA,GAAA,kJAAA,CAAA,kBAAe,AAAD,EAAE,aAAa;IAEjD,MAAM,kBAAkB;IACxB,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC3D;QACA,KAAK;IACT,GAAG;QAAE,SAAS,CAAC,CAAC,aAAa,CAAC,CAAC;QAAK;IAAgB;IAEpD,MAAM,EAAE,MAAM,aAAa,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC5D;QACA,KAAK;IACT,GAAG;QAAE,SAAS,CAAC,CAAC,aAAa,CAAC,CAAC;QAAK;IAAgB;IAEpD,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC1D;QACA,KAAK;IACT,GAAG;QAAE,SAAS,CAAC,CAAC,aAAa,CAAC,CAAC;QAAK;IAAgB;IAEpD,qBACI;kBACI,cAAA,6LAAC,2IAAA,CAAA,MAAG;YACA,aAAa;YACb,OAAO;gBACH;oBACI,OAAO;oBACP,OAAO,cAAc,cAAc;oBACnC,MAAM,uMAAA,CAAA,QAAK;oBACX,SAAS,QAAQ,UAAU,YAAY;gBAC3C;gBACA;oBACI,OAAO;oBACP,OAAO,eAAe,cAAc;oBACpC,MAAM,qMAAA,CAAA,OAAI;oBACV,SAAS,QAAQ,WAAW,YAAY;gBAC5C;gBACA;oBACI,OAAO;oBACP,OAAO,aAAa,cAAc;oBAClC,MAAM,qMAAA,CAAA,OAAI;oBACV,SAAS,QAAQ,SAAS,YAAY;gBAC1C;aACH;;;;;;;AAIjB;GAhDM;;QAEY,kJAAA,CAAA,kBAAe;QACT,kJAAA,CAAA,kBAAe;;;KAHjC;uCAkDS"}},
    {"offset": {"line": 5006, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5011, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 5022, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5027, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/stripe-button.tsx"],"sourcesContent":["'use client'\nimport { Button } from '@/components/ui/button'\nimport { createBillingPortalSession, createCheckoutSession, getSubscriptionStatus } from '@/lib/stripe-actions'\nimport React from 'react'\n\nconst StripeButton = () => {\n    const [isSubscribed, setIsSubscribed] = React.useState(false)\n    React.useEffect(() => {\n        (async () => {\n            const isSubscribed = await getSubscriptionStatus()\n            setIsSubscribed(isSubscribed)\n        })()\n    }, [])\n\n    const handleClick = async () => {\n        if (!isSubscribed) {\n            await createCheckoutSession()\n        } else {\n            await createBillingPortalSession()\n        }\n    }\n    return (\n        <Button variant={'outline'} size='lg' onClick={handleClick}>{isSubscribed ? 'Manage Subscription' : 'Upgrade Plan'}</Button>\n    )\n}\n\nexport default StripeButton"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;AAKA,MAAM,eAAe;;IACjB,MAAM,CAAC,cAAc,gBAAgB,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IACvD,6JAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACZ,CAAC;YACG,MAAM,eAAe,MAAM,CAAA,GAAA,kIAAA,CAAA,wBAAqB,AAAD;YAC/C,gBAAgB;QACpB,CAAC;IACL,GAAG,EAAE;IAEL,MAAM,cAAc;QAChB,IAAI,CAAC,cAAc;YACf,MAAM,CAAA,GAAA,kIAAA,CAAA,wBAAqB,AAAD;QAC9B,OAAO;YACH,MAAM,CAAA,GAAA,kIAAA,CAAA,6BAA0B,AAAD;QACnC;IACJ;IACA,qBACI,6LAAC,qIAAA,CAAA,SAAM;QAAC,SAAS;QAAW,MAAK;QAAK,SAAS;kBAAc,eAAe,wBAAwB;;;;;;AAE5G;GAnBM;KAAA;uCAqBS"}},
    {"offset": {"line": 5073, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5078, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/constants.ts"],"sourcesContent":["export const FREE_CREDITS_PER_DAY = 15\nexport const FREE_ACCOUNTS_PER_USER = 1\nexport const PRO_ACCOUNTS_PER_USER = 3"],"names":[],"mappings":";;;;;AAAO,MAAM,uBAAuB;AAC7B,MAAM,yBAAyB;AAC/B,MAAM,wBAAwB"}},
    {"offset": {"line": 5086, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5091, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/premium-banner.tsx"],"sourcesContent":["'use client'\nimport { motion } from 'framer-motion'\nimport React from 'react'\nimport StripeButton from './stripe-button'\nimport { api } from '@/trpc/react'\nimport { FREE_CREDITS_PER_DAY } from '@/app/constants'\nimport { getSubscriptionStatus } from '@/lib/stripe-actions'\n\nconst PremiumBanner = () => {\n    const [isSubscribed, setIsSubscribed] = React.useState(false)\n    React.useEffect(() => {\n        (async () => {\n            const subscriptionStatus = await getSubscriptionStatus()\n            setIsSubscribed(subscriptionStatus)\n        })()\n    }, [])\n\n    const { data: chatbotInteraction } = api.mail.getChatbotInteraction.useQuery()\n    const remainingCredits = chatbotInteraction?.remainingCredits || 0\n\n    if (isSubscribed) return (\n        <motion.div layout className=\"bg-gray-900 relative p-4 rounded-lg border overflow-hidden flex flex-col md:flex-row gap-4\">\n            <img src='/bot.webp' className='md:absolute md:-bottom-6 md:-right-10 h-[180px] w-auto' />\n            <div>\n                <h1 className='text-white text-xl font-semibold'>Premium Plan</h1>\n                <div className=\"h-2\"></div>\n                <p className='text-gray-400 text-sm md:max-w-[calc(100%-70px)]'>Ask as many questions as you want</p>\n                <div className=\"h-4\"></div>\n                <StripeButton />\n            </div>\n        </motion.div>\n    )\n\n    return (\n        <motion.div layout className=\"bg-gray-900 relative p-4 rounded-lg border overflow-hidden flex flex-col md:flex-row gap-4\">\n            <img src='/bot.webp' className='md:absolute md:-bottom-6 md:-right-10 h-[180px] w-auto' />\n            <div>\n                <div className=\"flex items-center gap-2\">\n                    <h1 className='text-white text-xl font-semibold'>Basic Plan</h1>\n                    <p className='text-gray-400 text-sm md:max-w-[calc(100%-0px)]'>{remainingCredits} / {FREE_CREDITS_PER_DAY} messages remaining</p>\n                </div>\n                <div className=\"h-4\"></div>\n                <p className='text-gray-400 text-sm md:max-w-[calc(100%-150px)]'>Upgrade to pro to ask as many questions as you want</p>\n                <div className=\"h-4\"></div>\n                <StripeButton />\n            </div>\n        </motion.div>\n    )\n}\n\nexport default PremiumBanner"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;;;;;AAQA,MAAM,gBAAgB;;IAClB,MAAM,CAAC,cAAc,gBAAgB,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IACvD,6JAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACZ,CAAC;YACG,MAAM,qBAAqB,MAAM,CAAA,GAAA,kIAAA,CAAA,wBAAqB,AAAD;YACrD,gBAAgB;QACpB,CAAC;IACL,GAAG,EAAE;IAEL,MAAM,EAAE,MAAM,kBAAkB,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,QAAQ;IAC5E,MAAM,mBAAmB,oBAAoB,oBAAoB;IAEjE,IAAI,cAAc,qBACd,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QAAC,MAAM;QAAC,WAAU;;0BACzB,6LAAC;gBAAI,KAAI;gBAAY,WAAU;;;;;;0BAC/B,6LAAC;;kCACG,6LAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAmD;;;;;;kCAChE,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC,wJAAA,CAAA,UAAY;;;;;;;;;;;;;;;;;IAKzB,qBACI,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QAAC,MAAM;QAAC,WAAU;;0BACzB,6LAAC;gBAAI,KAAI;gBAAY,WAAU;;;;;;0BAC/B,6LAAC;;kCACG,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,6LAAC;gCAAE,WAAU;;oCAAmD;oCAAiB;oCAAI,0HAAA,CAAA,uBAAoB;oCAAC;;;;;;;;;;;;;kCAE9G,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAoD;;;;;;kCACjE,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC,wJAAA,CAAA,UAAY;;;;;;;;;;;;;;;;;AAI7B;GAxCM;KAAA;uCA0CS"}},
    {"offset": {"line": 5272, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5277, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/ask-ai.tsx"],"sourcesContent":["'use client'\nimport { useChat } from 'ai/react'\nimport { motion } from 'framer-motion';\nimport { Button } from '@/components/ui/button'\nimport { AnimatePresence } from 'framer-motion';\nimport React from 'react'\nimport { Send } from 'lucide-react';\nimport { useLocalStorage } from 'usehooks-ts';\nimport { cn } from '@/lib/utils';\nimport { SparklesIcon } from '@heroicons/react/24/solid';\nimport StripeButton from './stripe-button';\nimport PremiumBanner from './premium-banner';\nimport { toast } from 'sonner';\n\n\nconst transitionDebug = {\n    type: \"easeOut\",\n    duration: 0.2,\n};\nconst AskAI = ({ isCollapsed }: { isCollapsed: boolean }) => {\n    const [accountId] = useLocalStorage('accountId', '')\n    const { input, handleInputChange, handleSubmit, messages } = useChat({\n        api: \"/api/chat\",\n        body: {\n            accountId,\n        },\n        onError: (error) => {\n            if (error.message.includes('Limit reached')) {\n                toast.error('You have reached the limit for today. Please upgrade to pro to ask as many questions as you want')\n            }\n        },\n        initialMessages: [],\n    });\n    React.useEffect(() => {\n        const messageContainer = document.getElementById(\"message-container\");\n        if (messageContainer) {\n            messageContainer.scrollTo({\n                top: messageContainer.scrollHeight,\n                behavior: \"smooth\",\n            });\n        }\n    }, [messages]);\n\n\n    if (isCollapsed) return null;\n    return (\n        <div className='p-4 mb-14'>\n\n            <PremiumBanner />\n            <div className=\"h-4\"></div>\n            <motion.div className=\"flex flex-1 flex-col items-end justify-end pb-4 border p-4 rounded-lg bg-gray-100 shadow-inner dark:bg-gray-900\">\n                <div className=\"max-h-[50vh] overflow-y-scroll w-full flex flex-col gap-2\" id='message-container'>\n                    <AnimatePresence mode=\"wait\">\n                        {messages.map((message) => (\n                            <motion.div\n                                key={message.id}\n                                layout=\"position\"\n                                className={cn(\"z-10 mt-2 max-w-[250px] break-words rounded-2xl bg-gray-200 dark:bg-gray-800\", {\n                                    'self-end text-gray-900 dark:text-gray-100': message.role === 'user',\n                                    'self-start bg-blue-500 text-white': message.role === 'assistant',\n                                })}\n                                layoutId={`container-[${messages.length - 1}]`}\n                                transition={transitionDebug}\n                            >\n                                <div className=\"px-3 py-2 text-[15px] leading-[15px]\">\n                                    {message.content}\n                                </div>\n                            </motion.div>\n                        ))}\n                    </AnimatePresence>\n                </div>\n                {messages.length > 0 && <div className=\"h-4\"></div>}\n                <div className=\"w-full\">\n                    {messages.length === 0 && <div className=\"mb-4\">\n                        <div className='flex items-center gap-4'>\n                            <SparklesIcon className='size-6 text-gray-500' />\n                            <div>\n                                <p className='text-gray-900 dark:text-gray-100'>Ask AI anything about your emails</p>\n                                <p className='text-gray-500 text-xs dark:text-gray-400'>Get answers to your questions about your emails</p>\n                            </div>\n                        </div>\n                        <div className=\"h-2\"></div>\n                        <div className=\"flex items-center gap-2 flex-wrap\">\n                            <span onClick={() => handleInputChange({\n                                target: {\n                                    value: 'What can I ask?'\n                                }\n                            })} className='px-2 py-1 bg-gray-800 text-gray-200 rounded-md text-xs'>What can I ask?</span>\n                            <span onClick={() => handleInputChange({\n                                target: {\n                                    value: 'When is my next flight?'\n                                }\n                            })} className='px-2 py-1 bg-gray-800 text-gray-200 rounded-md text-xs'>When is my next flight?</span>\n                            <span onClick={() => handleInputChange({\n                                target: {\n                                    value: 'When is my next meeting?'\n                                }\n                            })} className='px-2 py-1 bg-gray-800 text-gray-200 rounded-md text-xs'>When is my next meeting?</span>\n                        </div>\n                    </div>\n                    }\n                    <form onSubmit={handleSubmit} className=\"flex w-full\">\n                        <input\n                            type=\"text\"\n                            onChange={handleInputChange}\n                            value={input}\n                            className=\"py- relative h-9 placeholder:text-[13px] flex-grow rounded-full border border-gray-200 bg-white px-3 text-[15px] outline-none placeholder:text-gray-400 focus-visible:ring-0 focus-visible:ring-blue-500/20 focus-visible:ring-offset-1\n            dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus-visible:ring-blue-500/20 dark:focus-visible:ring-offset-1 dark:focus-visible:ring-offset-gray-700\n            \"\n                            placeholder=\"Ask AI anything about your emails\"\n                        />\n                        <motion.div\n                            key={messages.length}\n                            layout=\"position\"\n                            className=\"pointer-events-none absolute z-10 flex h-9 w-[250px] items-center overflow-hidden break-words rounded-full bg-gray-200 [word-break:break-word] dark:bg-gray-800\"\n                            layoutId={`container-[${messages.length}]`}\n                            transition={transitionDebug}\n                            initial={{ opacity: 0.6, zIndex: -1 }}\n                            animate={{ opacity: 0.6, zIndex: -1 }}\n                            exit={{ opacity: 1, zIndex: 1 }}\n                        >\n                            <div className=\"px-3 py-2 text-[15px] leading-[15px] text-gray-900 dark:text-gray-100\">\n                                {input}\n                            </div>\n                        </motion.div>\n                        <button\n                            type=\"submit\"\n                            className=\"ml-2 flex h-9 w-9 items-center justify-center rounded-full bg-gray-200\n            dark:bg-gray-800\"\n                        >\n                            <Send className=\"size-4 text-gray-500 dark:text-gray-300\" />\n                        </button>\n                    </form>\n                </div>\n            </motion.div>\n        </div>\n    )\n}\n\nexport default AskAI"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5599, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5604, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/mail/components/mail.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  ResizableHandle,\n  ResizablePanel,\n  ResizablePanelGroup,\n} from \"@/components/ui/resizable\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AccountSwitcher } from \"./account-switcher\";\nimport { MailList } from \"./mail-list\";\nimport { MailDisplay } from \"./mail-display\";\nimport { defaultLayout, defaultMails } from \"../data\";\n\ninterface MailProps {\n  defaultLayout?: number[];\n  defaultCollapsed?: boolean;\n  navCollapsedSize: number;\n}\n\nexport function Mail({\n  defaultLayout = defaultLayout,\n  defaultCollapsed = false,\n  navCollapsedSize,\n}: MailProps) {\n  const [isCollapsed, setIsCollapsed] = React.useState(defaultCollapsed);\n  const [mail] = React.useState<typeof defaultMails>(defaultMails);\n\n  return (\n    <TooltipProvider delayDuration={0}>\n      <ResizablePanelGroup\n        direction=\"horizontal\"\n        onLayout={(sizes: number[]) => {\n          document.cookie = `react-resizable-panels:layout:mail=${JSON.stringify(\n            sizes,\n          )}`;\n        }}\n        className=\"h-full max-h-[800px] items-stretch\"\n      >\n        <ResizablePanel\n          defaultSize={defaultLayout[0]}\n          collapsedSize={navCollapsedSize}\n          collapsible={true}\n          minSize={15}\n          maxSize={40}\n          onCollapse={() => {\n            setIsCollapsed(true);\n            document.cookie = `react-resizable-panels:collapsed=${JSON.stringify(\n              true,\n            )}`;\n          }}\n          onResize={() => {\n            setIsCollapsed(false);\n            document.cookie = `react-resizable-panels:collapsed=${JSON.stringify(\n              false,\n            )}`;\n          }}\n          className={cn(\n            isCollapsed &&\n              \"min-w-[50px] transition-all duration-300 ease-in-out\",\n          )}\n        >\n          <div className=\"flex h-full flex-col\">\n            <div\n              className={cn(\n                \"flex h-[52px] items-center justify-center\",\n                isCollapsed ? \"h-[52px]\" : \"px-2\",\n              )}\n            >\n              <AccountSwitcher isCollapsed={isCollapsed} />\n            </div>\n            <Separator />\n            <MailList items={mail} />\n          </div>\n        </ResizablePanel>\n        <ResizableHandle withHandle />\n        <ResizablePanel defaultSize={defaultLayout[1]} minSize={30}>\n          <Tabs defaultValue=\"inbox\" className=\"h-full\">\n            <TabsList className=\"h-12 w-full justify-start rounded-none border-b bg-background px-4\">\n              <TabsTrigger value=\"inbox\" className=\"relative h-9\">\n                Inbox\n                <span className=\"ml-2 rounded-full bg-primary px-2 text-xs text-primary-foreground\">\n                  128\n                </span>\n              </TabsTrigger>\n              <TabsTrigger value=\"drafts\" className=\"relative h-9\">\n                Drafts\n                <span className=\"ml-2 rounded-full bg-primary px-2 text-xs text-primary-foreground\">\n                  9\n                </span>\n              </TabsTrigger>\n              <TabsTrigger value=\"sent\" className=\"relative h-9\">\n                Sent\n              </TabsTrigger>\n              <TabsTrigger value=\"junk\" className=\"relative h-9\">\n                Junk\n                <span className=\"ml-2 rounded-full bg-primary px-2 text-xs text-primary-foreground\">\n                  23\n                </span>\n              </TabsTrigger>\n              <TabsTrigger value=\"trash\" className=\"relative h-9\">\n                Trash\n              </TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"inbox\" className=\"m-0\">\n              <MailDisplay mail={mail[0]} />\n            </TabsContent>\n            <TabsContent value=\"drafts\" className=\"m-0\">\n              <MailDisplay mail={mail[1]} />\n            </TabsContent>\n            <TabsContent value=\"sent\" className=\"m-0\">\n              <MailDisplay mail={mail[0]} />\n            </TabsContent>\n            <TabsContent value=\"junk\" className=\"m-0\">\n              <MailDisplay mail={mail[1]} />\n            </TabsContent>\n            <TabsContent value=\"trash\" className=\"m-0\">\n              <MailDisplay mail={mail[0]} />\n            </TabsContent>\n          </Tabs>\n        </ResizablePanel>\n        <ResizableHandle withHandle />\n        <ResizablePanel defaultSize={defaultLayout[2]} minSize={30}>\n          <MailDisplay mail={mail[0]} />\n        </ResizablePanel>\n      </ResizablePanelGroup>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5930, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}